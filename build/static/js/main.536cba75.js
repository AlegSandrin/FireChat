/*! For license information please see main.536cba75.js.LICENSE.txt */
!function(){"use strict";var e={532:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){n(532)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},725:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in a=Object(arguments[s]))n.call(a,c)&&(u[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(u[o[l]]=a[o[l]])}}return u}},463:function(e,t,n){var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,S=60107,_=60108,I=60114,T=60109,C=60110,R=60112,A=60113,N=60120,D=60115,P=60116,O=60121,M=60128,L=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),S=U("react.fragment"),_=U("react.strict_mode"),I=U("react.profiler"),T=U("react.provider"),C=U("react.context"),R=U("react.forward_ref"),A=U("react.suspense"),N=U("react.suspense_list"),D=U("react.memo"),P=U("react.lazy"),O=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function q(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case I:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case O:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Te=null,Ce=null;function Re(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Ne(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Me=De,Le=!1,Fe=!1;function je(){null===Te&&null===Ce||(Oe(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,We=null,Ke=!1,He=null,Ge={onError:function(e){qe=!0,We=e}};function Qe(e,t,n,r,i,a,o,u,s){qe=!1,We=null,ze.apply(Ge,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),ct.forEach(gt),lt.forEach(gt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function wt(e){function t(t){return kt(t,e)}if(0<at.length){kt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&kt(ot,e),null!==ut&&kt(ut,e),null!==st&&kt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},_t={};function It(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return St[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=It("animationend"),Ct=It("animationiteration"),Rt=It("animationstart"),At=It("transitionend"),Nt=new Map,Dt=new Map,Pt=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Nt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Lt(s),i=Mt):0!==(u&=a)&&(r=Lt(u),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==u&&(r=Lt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){Le||Oe();var i=$t,a=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=a)||je()}}function Yt(e,t,n,r){Gt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ht(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return st=vt(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=_e(r);if(null!==(i=ti(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),hn=i({},fn,{view:0,detail:0}),pn=un(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),gn=un(i({},hn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(kn),xn=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return In}var Cn=i({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=un(Cn),An=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=un(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=un(Pn),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Ln||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function Yn(e){Cr(e,0)}function $n(e){if($(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Xn=Qn=null)}function ir(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Gn(t,Xn,e,_e(e)),e=Yn,Le)e(t);else{Le=!0;try{De(e,t)}finally{Le=!1,je()}}}}function ar(e,t,n){"focusin"===e?(rr(),Xn=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ur(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,kr=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&fr(kr,r)||(kr=r,0<(r=Lr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Pt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Dt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=We;qe=!1,We=null,Ke||(Ke=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Tr(i,u,c),a=s}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Rr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){Ir.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Pr(a,e,i,t),o.add(u))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ti(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,je()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Nt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Rn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tt:case Ct:case Rt:s=bn;break;case At:s=Dn;break;case"scroll":s=pn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ue(p,d))&&l.push(Mr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ri(s),h=null==c?u:ri(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ti(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Fr(h))p++;for(h=0,v=d;v;v=Fr(v))h++;for(;0<p-h;)l=Fr(l),p--;for(;0<h-p;)d=Fr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Fr(l),d=Fr(d)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ri(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Hn(u))if(Zn)m=sr;else{m=or;var y=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,br=r,kr=null);break;case"focusout":kr=br=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(y=Lr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=qn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&zn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,Vr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[$r])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[$r]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ui=-1;function si(e){return{current:e}}function ci(e){0>ui||(e.current=oi[ui],oi[ui]=null,ui--)}function li(e,t){ui++,oi[ui]=e.current,e.current=t}var fi={},di=si(fi),hi=si(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(hi),ci(di)}function gi(e,t,n){if(di.current!==fi)throw Error(o(168));li(di,t),li(hi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=di.current,li(di,e),li(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(hi),ci(di),li(di,e)):ci(hi),li(hi,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ri=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Ni=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Oi=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Ci?Ci:function(){},ji=null,Ui=null,Bi=!1,Vi=Ri(),zi=1e4>Vi?Ri:function(){return Ri()-Vi};function qi(){switch(Ai()){case Ni:return 99;case Di:return 98;case Pi:return 97;case Oi:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ni;case 98:return Di;case 97:return Pi;case 96:return Oi;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Si(e,t)}function Hi(e,t,n){return e=Wi(e),_i(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Qi()}function Qi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),_i(Ni,Gi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=si(null),Ji=null,Zi=null,ea=null;function ta(){ea=Zi=Ji=null}function na(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=a.baseState,u=0,f=l=c=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=d),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Vu|=u,e.lanes=u,e.memoizedState=d}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),ps(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:di.current,i.context=vi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case E:return(t=$s(t,e.mode,n)).return=e,t}if(wa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(wa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(wa(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var _a=Sa(!0),Ia=Sa(!1),Ta={},Ca=si(Ta),Ra=si(Ta),Aa=si(Ta);function Na(e){if(e===Ta)throw Error(o(174));return e}function Da(e,t){switch(li(Aa,t),li(Ra,e),li(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ca),li(Ca,t)}function Pa(){ci(Ca),ci(Ra),ci(Aa)}function Oa(e){Na(Aa.current);var t=Na(Ca.current),n=he(t,e.type);t!==n&&(li(Ra,e),li(Ca,n))}function Ma(e){Ra.current===e&&(ci(Ca),ci(Ra))}var La=si(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Ua=null,Ba=!1;function Va(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Ba){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);Va(ja,n)}ja=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)Va(e,t),t=Gr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=ja?Gr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=ja=null,Ba=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,$a=0,Ja=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if($a=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Do:Po,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,Xa.current=Oo,e=n(r,i)}while(no)}if(Xa.current=No,t=null!==Za&&null!==Za.next,$a=0,eo=Za=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function uo(){if(null===Za){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function so(e,t){return"function"===typeof t?t(e):t}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=l,Vu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,cr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);cr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=Ja;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(l(e),e=hs(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-qt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:f}).dispatch=l=Ao.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(uo(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=Ao.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return uo().memoizedState}function bo(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return bo(516,4,e,t)}function xo(e,t){return ko(516,4,e,t)}function Eo(e,t){return ko(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,So.bind(null,t,e),n)}function Io(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=qi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ao(e,t,n){var r=ds(),i=hs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,cr(s,u))return}catch(c){}ps(e,i,r)}}var No={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:Io,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:Eo,useMemo:Co,useReducer:co,useRef:go,useState:function(){return co(so)},useDebugValue:Io,useDeferredValue:function(e){var t=co(so),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=co(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(so)[0]},unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:Eo,useMemo:Co,useReducer:lo,useRef:go,useState:function(){return lo(so)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(so),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(so)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(so)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):_a(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return qo(e,t,n,r,a)}function Vo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=mi(n)?pi:di.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;ki(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),oa=!1;var d=t.memoizedState;o.state=d,da(t,r,o,i),s=t.memoizedState,u!==r||d!==s||hi.current||oa?("function"===typeof l&&(va(t,n,l,r),s=t.memoizedState),(u=oa||ya(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,sa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=aa(s):s=vi(t,s=mi(n)?pi:di.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&ba(t,o,r,s),oa=!1,d=t.memoizedState,o.state=d,da(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||hi.current||oa?("function"===typeof h&&(va(t,n,h,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,d,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Da(e,t.containerInfo)}var Go,Qo,Xo,Yo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(La,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Xs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xs(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Pa(),ci(hi),ci(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:Ma(t);var a=Na(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Na(Ca.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Jr]=u,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Rr(_r[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,u),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Rr("invalid",r);break;case"textarea":se(r,u),Rr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=de(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Jr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Rr(_r[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Rr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Rr("scroll",e):null!=f&&k(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Na(Aa.current),Na(Ca.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&Vu)&&0===(134217727&zu)||gs(Pu,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),Qo(t),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(La),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=La.current,li(La,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),ci(hi),ci(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return ci(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(La),null;case 4:return Pa(),null;case 10:return na(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Na(Ca.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,$u=r),lu(0,t)},n}function hu(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Bs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Bs(t,a)}break;case 5:vu(t);break;case 4:_u(e,t)}}function ku(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):Su(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ye(n,s):k(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ru=Math.ceil,Au=w.ReactCurrentDispatcher,Nu=w.ReactCurrentOwner,Du=0,Pu=null,Ou=null,Mu=0,Lu=0,Fu=si(0),ju=0,Uu=null,Bu=0,Vu=0,zu=0,qu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=zi()+500}var Qu,Xu=null,Yu=!1,$u=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function ds(){return 0!==(48&Du)?zi():-1!==us?us:us=zi()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===ss&&(ss=Bu),0!==Xi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Du)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(zu|=t,4===ju&&gs(e,Mu));var r=qi();1===t?0!==(8&Du)&&0===(48&Du)?bs(e):(ms(e,n),0===Du&&(Gu(),Gi())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-qt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Mu:0),t=Mt,0===r)null!==n&&(n!==Li&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ii(n)}15===t?(n=bs.bind(null,e),null===ji?(ji=[n],Ui=_i(Ni,Qi)):ji.push(n),n=Li):14===t?n=Hi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(o(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Mu:0);if(0===n)return null;var r=n,i=Du;Du|=16;var a=Is();for(Pu===e&&Mu===r||(Gu(),Ss(e,r));;)try{Rs();break}catch(s){_s(e,s)}if(ta(),Au.current=a,Du=i,null!==Ou?r=0:(Pu=null,Mu=0,r=ju),0!==(Bu&zu))Ss(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Ss(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ds(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-qt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ru(n/1960))-n)){e.timeoutHandle=Wr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Du))throw Error(o(327));if(Ms(),e===Pu&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ts(e,t);0!==(Bu&zu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Ss(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),ms(e,zi()),null}function ks(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function ws(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function xs(e,t){li(Fu,Lu),Lu|=t,Bu|=t}function Es(){Lu=Fu.current,ci(Fu)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Pa(),ci(hi),ci(di),Qa();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:ci(La);break;case 10:na(r);break;case 23:case 24:Es()}n=n.return}Pu=e,Ou=Hs(e.current,null),Mu=Lu=Bu=t,ju=0,Uu=null,qu=zu=Vu=0}function _s(e,t){for(;;){var n=Ou;try{if(ta(),Xa.current=No,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if($a=0,eo=Za=Ja=null,no=!1,Nu.current=null,null===n||null===n.return){ju=1,Uu=t,Ou=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&La.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var y=new Set;y.add(c),d.updateQueue=y}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ca(-1,1);g.tag=2,la(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var k=Vs.bind(null,a,c,u);c.then(k,k)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),d=o;do{switch(d.tag){case 3:a=s,d.flags|=4096,t&=-t,d.lanes|=t,fa(d,du(0,a,t));break e;case 1:a=s;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,fa(d,hu(d,a,t));break e}}d=d.return}while(null!==d)}Ns(n)}catch(E){t=E,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function Is(){var e=Au.current;return Au.current=No,null===e?No:e}function Ts(e,t){var n=Du;Du|=16;var r=Is();for(Pu===e&&Mu===t||Ss(e,t);;)try{Cs();break}catch(i){_s(e,i)}if(ta(),Du=n,Au.current=r,null!==Ou)throw Error(o(261));return Pu=null,Mu=0,ju}function Cs(){for(;null!==Ou;)As(Ou)}function Rs(){for(;null!==Ou&&!Ti();)As(Ou)}function As(e){var t=Qu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Ns(e):Ou=t,Nu.current=null}function Ns(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Ou=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ou=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===ju&&(ju=5)}function Ds(e){var t=qi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ms()}while(null!==es);if(0!==(48&Du))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ou=Pu=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Nu.current=null,Br=Qt,mr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(d=f+a),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(d=f),y===c&&++v===l&&(h=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Vr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Xu=r;do{try{Os()}catch(I){if(null===Xu)throw Error(o(330));Bs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);ls=null,Xu=r;do{try{for(u=e;null!==Xu;){var b=Xu.flags;if(16&b&&ye(Xu.stateNode,""),128&b){var k=Xu.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:xu(Xu),Xu.flags&=-3;break;case 6:xu(Xu),Xu.flags&=-3,Iu(Xu.alternate,Xu);break;case 1024:Xu.flags&=-1025;break;case 1028:Xu.flags&=-1025,Iu(Xu.alternate,Xu);break;case 4:Iu(Xu.alternate,Xu);break;case 8:_u(u,s=Xu);var x=s.alternate;ku(s),null!==x&&ku(x)}Xu=Xu.nextEffect}}catch(I){if(null===Xu)throw Error(o(330));Bs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);if(w=Vr,k=vr(),b=w.focusedElem,u=w.selectionRange,k!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==u&&mr(b)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),s=b.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=hr(b,x),a=hr(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,Vr=Br=null,e.current=n,Xu=r;do{try{for(b=e;null!==Xu;){var E=Xu.flags;if(36&E&&yu(b,Xu.alternate,Xu),128&E){k=void 0;var S=Xu.ref;if(null!==S){var _=Xu.stateNode;Xu.tag,k=_,"function"===typeof S?S(k):S.current=k}}Xu=Xu.nextEffect}}catch(I){if(null===Xu)throw Error(o(330));Bs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);Xu=null,Fi(),Du=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Xu=r;null!==Xu;)t=Xu.nextEffect,Xu.nextEffect=null,8&Xu.flags&&((E=Xu).sibling=null,E.stateNode=null),Xu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(ms(e,zi()),Yu)throw Yu=!1,e=$u,$u=null,e;return 0!==(8&Du)||Gi(),null}function Os(){for(;null!==Xu;){var e=Xu.alternate;fs||null===ls||(0!==(8&Xu.flags)?Ze(Xu,ls)&&(fs=!0):13===Xu.tag&&Cu(e,Xu)&&Ze(Xu,ls)&&(fs=!0));var t=Xu.flags;0!==(256&t)&&mu(e,Xu),0===(512&t)||Zu||(Zu=!0,Hi(97,(function(){return Ms(),null}))),Xu=Xu.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,js)}return!1}function Ls(e,t){ns.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ms(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ms(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(o(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Bs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Bs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Gi(),!0}function Us(e,t,n){la(e,t=du(0,t=cu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Bs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=hu(n,e=cu(t,e),1);if(la(n,i),i=ds(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Mu&n)===n&&(4===ju||3===ju&&(62914560&Mu)===Mu&&500>zi()-Ku?Ss(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===ss&&(ss=Bu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Qs(n.children,i,a,t);case L:u=8,i|=16;break;case _:u=8,i|=1;break;case I:return(e=Ws(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case N:return(e=Ws(19,n,t,i)).elementType=N,e.lanes=a,e;case F:return Xs(n,i,a,t);case j:return(e=Ws(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case R:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e;case O:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Xs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n,r){var i=t.current,a=ds(),u=hs(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),ps(i,u,a),u}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[Zr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}Zs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}ws((function(){Zs(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Oa(t);break;case 1:mi(t.type)&&ki(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(li(La,1&La.current),null!==(t=au(e,t,n))?t.sibling:null);li(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Vo(e,t,n)}return au(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&va(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,sa(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ha();t=t.child}return t;case 5:return Oa(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,qr(r,i)?u=null:null!==a&&qr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(li($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=cr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!hi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=ca(-1,n&-n)).tag=2,la(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ra(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Uo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,ki(t)):e=!1,ia(t,n),ga(t,r,i),ka(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Vo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(ps(e,4,ds()),nc(e,4))},tt=function(e){13===e.tag&&(ps(e,67108864,ds()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=ks,Pe=function(e,t,n,r,i){var a=Du;Du|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Du=a)&&(Gu(),Gi())}},Oe=function(){0===(49&Du)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Gi()}(),Ms())},Me=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}};var uc={Events:[ni,ri,ii,Ae,Ne,Ms,{current:!1}]},sc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),Ei=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Du=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=ks,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=g.prototype=new y;b.constructor=g,r(b,m.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function N(){var e=A.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){h(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>_(o,n))void 0!==s&&0>_(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>_(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,R=null,A=3,N=!1,D=!1,P=!1;function O(e){for(var t=E(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(I,t)}t=E(T)}}function M(e){if(P=!1,O(e),!D)if(null!==E(I))D=!0,n(L);else{var t=E(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){D=!1,P&&(P=!1,i()),N=!0;var a=A;try{for(O(n),R=E(I);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=R.callback;if("function"===typeof o){R.callback=null,A=R.priorityLevel;var u=o(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?R.callback=u:R===E(I)&&S(I),O(n)}else S(I);R=E(I)}if(null!==R)var s=!0;else{var c=E(T);null!==c&&r(M,c.startTime-n),s=!1}return s}finally{R=null,A=a,N=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||N||(D=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(I)&&e===E(T)&&(P?i():P=!0,r(M,o-u))):(e.sortIndex=s,x(I,e),D||N||(D=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return gr},SDK_VERSION:function(){return Ri},_DEFAULT_ENTRY_NAME:function(){return mi},_addComponent:function(){return ki},_addOrOverwriteComponent:function(){return wi},_apps:function(){return gi},_clearComponents:function(){return _i},_components:function(){return bi},_getProvider:function(){return Ei},_registerComponent:function(){return xi},_removeServiceInstance:function(){return Si},deleteApp:function(){return Pi},getApp:function(){return Ni},getApps:function(){return Di},initializeApp:function(){return Ai},onLog:function(){return Li},registerVersion:function(){return Mi},setLogLevel:function(){return Fi}});var t=n(791),r=n.t(t,2),i=n(164);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:E(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==t&&n.call(b,u)&&(y=b);var k=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,u,s){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=m,r(k,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function u(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function c(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||f(e,t)||d()}var p=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),v=Math.abs,m=String.fromCharCode,y=Object.assign;function g(e){return e.trim()}function b(e,t,n){return e.replace(t,n)}function k(e,t){return e.indexOf(t)}function w(e,t){return 0|e.charCodeAt(t)}function x(e,t,n){return e.slice(t,n)}function E(e){return e.length}function S(e){return e.length}function _(e,t){return t.push(e),e}var I=1,T=1,C=0,R=0,A=0,N="";function D(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:I,column:T,length:o,return:""}}function P(e,t){return y(D("",null,null,"",null,null,0),e,{length:-e.length},t)}function O(){return A=R>0?w(N,--R):0,T--,10===A&&(T=1,I--),A}function M(){return A=R<C?w(N,R++):0,T++,10===A&&(T=1,I++),A}function L(){return w(N,R)}function F(){return R}function j(e,t){return x(N,e,t)}function U(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(e){return I=T=1,C=E(N=e),R=0,[]}function V(e){return N="",e}function z(e){return g(j(R-1,K(91===e?e+2:40===e?e+1:e)))}function q(e){for(;(A=L())&&A<33;)M();return U(e)>2||U(A)>3?"":" "}function W(e,t){for(;--t&&M()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return j(e,F()+(t<6&&32==L()&&32==M()))}function K(e){for(;M();)switch(A){case e:return R;case 34:case 39:34!==e&&39!==e&&K(A);break;case 40:41===e&&K(e);break;case 92:M()}return R}function H(e,t){for(;M()&&e+A!==57&&(e+A!==84||47!==L()););return"/*"+j(t,R-1)+"*"+m(47===e?e:M())}function G(e){for(;!U(L());)M();return j(e,R)}var Q="-ms-",X="-moz-",Y="-webkit-",$="comm",J="rule",Z="decl",ee="@import",te="@keyframes";function ne(e,t){for(var n="",r=S(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function re(e,t,n,r){switch(e.type){case ee:case Z:return e.return=e.return||e.value;case $:return"";case te:return e.return=e.value+"{"+ne(e.children,r)+"}";case J:e.value=e.props.join(",")}return E(n=ne(e.children,r))?e.return=e.value+"{"+n+"}":""}function ie(e){return V(ae("",null,null,null,[""],e=B(e),0,[0],e))}function ae(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,y=1,g=1,x=0,S="",I=i,T=a,C=r,R=S;y;)switch(p=x,x=M()){case 40:if(108!=p&&58==w(R,f-1)){-1!=k(R+=b(z(x),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:R+=z(x);break;case 9:case 10:case 13:case 32:R+=q(p);break;case 92:R+=W(F()-1,7);continue;case 47:switch(L()){case 42:case 47:_(ue(H(M(),F()),t,n),s);break;default:R+="/"}break;case 123*v:u[c++]=E(R)*g;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+l:h>0&&E(R)-f&&_(h>32?se(R+";",r,n,f-1):se(b(R," ","")+";",r,n,f-2),s);break;case 59:R+=";";default:if(_(C=oe(R,t,n,c,l,i,u,S,I=[],T=[],f),a),123===x)if(0===l)ae(R,t,C,C,I,a,f,u,T);else switch(99===d&&110===w(R,3)?100:d){case 100:case 109:case 115:ae(e,C,C,r&&_(oe(e,C,C,0,0,i,u,S,i,I=[],f),T),i,T,f,u,r?I:T);break;default:ae(R,C,C,C,[""],T,0,u,T)}}c=l=h=0,v=g=1,S=R="",f=o;break;case 58:f=1+E(R),h=p;default:if(v<1)if(123==x)--v;else if(125==x&&0==v++&&125==O())continue;switch(R+=m(x),x*v){case 38:g=l>0?1:(R+="\f",-1);break;case 44:u[c++]=(E(R)-1)*g,g=1;break;case 64:45===L()&&(R+=z(M())),d=L(),l=f=E(S=R+=G(F())),x++;break;case 45:45===p&&2==E(R)&&(v=0)}}return a}function oe(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=S(d),p=0,m=0,y=0;p<r;++p)for(var k=0,w=x(e,f+1,f=v(m=o[p])),E=e;k<h;++k)(E=g(m>0?d[k]+" "+w:b(w,/&\f/g,d[k])))&&(s[y++]=E);return D(e,t,n,0===i?J:u,s,c,l)}function ue(e,t,n){return D(e,t,n,$,m(A),x(e,2,-2),0)}function se(e,t,n,r){return D(e,t,n,Z,x(e,0,r),x(e,r+1,-1),r)}var ce=function(e,t,n){for(var r=0,i=0;r=i,i=L(),38===r&&12===i&&(t[n]=1),!U(i);)M();return j(e,R)},le=function(e,t){return V(function(e,t){var n=-1,r=44;do{switch(U(r)){case 0:38===r&&12===L()&&(t[n]=1),e[n]+=ce(R-1,t,n);break;case 2:e[n]+=z(r);break;case 4:if(44===r){e[++n]=58===L()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=m(r)}}while(r=M());return e}(B(e),t))},fe=new WeakMap,de=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fe.get(n))&&!r){fe.set(e,!0);for(var i=[],a=le(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},he=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function pe(e,t){switch(function(e,t){return 45^w(e,0)?(((t<<2^w(e,0))<<2^w(e,1))<<2^w(e,2))<<2^w(e,3):0}(e,t)){case 5103:return Y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+e+X+e+Q+e+e;case 6828:case 4268:return Y+e+Q+e+e;case 6165:return Y+e+Q+"flex-"+e+e;case 5187:return Y+e+b(e,/(\w+).+(:[^]+)/,Y+"box-$1$2"+Q+"flex-$1$2")+e;case 5443:return Y+e+Q+"flex-item-"+b(e,/flex-|-self/,"")+e;case 4675:return Y+e+Q+"flex-line-pack"+b(e,/align-content|flex-|-self/,"")+e;case 5548:return Y+e+Q+b(e,"shrink","negative")+e;case 5292:return Y+e+Q+b(e,"basis","preferred-size")+e;case 6060:return Y+"box-"+b(e,"-grow","")+Y+e+Q+b(e,"grow","positive")+e;case 4554:return Y+b(e,/([^-])(transform)/g,"$1"+Y+"$2")+e;case 6187:return b(b(b(e,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),e,"")+e;case 5495:case 3959:return b(e,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return b(b(e,/(.+:)(flex-)?(.*)/,Y+"box-pack:$3"+Q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+e+e;case 4095:case 3583:case 4068:case 2532:return b(e,/(.+)-inline(.+)/,Y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(E(e)-1-t>6)switch(w(e,t+1)){case 109:if(45!==w(e,t+4))break;case 102:return b(e,/(.+:)(.+)-([^]+)/,"$1"+Y+"$2-$3$1"+X+(108==w(e,t+3)?"$3":"$2-$3"))+e;case 115:return~k(e,"stretch")?pe(b(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==w(e,t+1))break;case 6444:switch(w(e,E(e)-3-(~k(e,"!important")&&10))){case 107:return b(e,":",":"+Y)+e;case 101:return b(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Y+(45===w(e,14)?"inline-":"")+"box$3$1"+Y+"$2$3$1"+Q+"$2box$3")+e}break;case 5936:switch(w(e,t+11)){case 114:return Y+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Y+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Y+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Y+e+Q+e+e}return e}var ve=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=pe(e.value,e.length);break;case te:return ne([P(e,{value:b(e.value,"@","@"+Y)})],r);case J:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ne([P(e,{props:[b(t,/:(read-\w+)/,":"+X+"$1")]})],r);case"::placeholder":return ne([P(e,{props:[b(t,/:(plac\w+)/,":"+Y+"input-$1")]}),P(e,{props:[b(t,/:(plac\w+)/,":"+X+"$1")]}),P(e,{props:[b(t,/:(plac\w+)/,Q+"input-$1")]})],r)}return""}))}}],me=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ve;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[re,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=S(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([de,he].concat(r,l));a=function(e,t,n,r){s=n,function(e){ne(ie(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new p({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var ge=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var be=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ke={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var we=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},xe=/[A-Z]|^ms/g,Ee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Se=function(e){return 45===e.charCodeAt(1)},_e=function(e){return null!=e&&"boolean"!==typeof e},Ie=we((function(e){return Se(e)?e:e.replace(xe,"-$&").toLowerCase()})),Te=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ee,(function(e,t,n){return Re={name:t,styles:n,next:Re},t}))}return 1===ke[e]||Se(e)||"number"!==typeof t||0===t?t:t+"px"};function Ce(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Re={name:n.name,styles:n.styles,next:Re},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Re={name:r.name,styles:r.styles,next:Re},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ce(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":_e(o)&&(r+=Ie(a)+":"+Te(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ce(e,t,o);switch(a){case"animation":case"animationName":r+=Ie(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)_e(o[s])&&(r+=Ie(a)+":"+Te(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Re,a=n(e);return Re=i,Ce(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Re,Ae=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ne=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Re=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ce(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ce(n,t,e[o]),r&&(i+=a[o]);Ae.lastIndex=0;for(var u,s="";null!==(u=Ae.exec(i));)s+="-"+u[1];return{name:be(i)+s,styles:i,next:Re}},De=!!r.useInsertionEffect&&r.useInsertionEffect,Pe=De||function(e){return e()},Oe=De||t.useLayoutEffect,Me=(0,t.createContext)("undefined"!==typeof HTMLElement?me({key:"css"}):null);Me.Provider;var Le=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Me);return e(n,i,r)}))},Fe=(0,t.createContext)({});var je=ge((function(e){return ge((function(t){return function(e,t){return"function"===typeof t?t(e):ye({},e,t)}(e,t)}))})),Ue=function(e){var n=(0,t.useContext)(Fe);return e.theme!==n&&(n=je(n)(e.theme)),(0,t.createElement)(Fe.Provider,{value:n},e.children)};function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ve(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ze(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function qe(e){if(!ze(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=qe(e[n])})),t}function We(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?ye({},e):e;return ze(e)&&ze(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(ze(t[i])&&i in e&&ze(e[i])?r[i]=We(e[i],t[i],n):n.clone?r[i]=ze(t[i])?qe(t[i]):t[i]:r[i]=t[i])})),r}function Ke(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function He(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=["values","unit","step"],Qe=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ye({},e,He({},t.key,t.val))}),{})};var Xe={borderRadius:4},Ye={xs:0,sm:600,md:900,lg:1200,xl:1536},$e={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Ye[e],"px)")}};function Je(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||$e;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||$e;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Ye).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Ze(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function et(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function tt(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function nt(e){if("string"!==typeof e)throw new Error(Ve(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function it(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:rt(e,n)||i,t&&(r=t(r,i,e)),r}var at=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=rt(e.theme,i)||{};return Je(e,n,(function(e){var n=it(o,a,e);return e===n&&"string"===typeof e&&(n=it(o,a,"".concat(t).concat("default"===e?"":nt(e)),e)),!1===r?n:He({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var ot=function(e,t){return t?We(e,t,{clone:!1}):e};var ut={m:"margin",p:"padding"},st={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ct={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ct[e])return[e];e=ct[e]}var t=h(e.split(""),2),n=t[0],r=t[1],i=ut[n],a=st[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ft=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ht=[].concat(ft,dt);function pt(e,t,n,r){var i,a=null!=(i=rt(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function vt(e){return pt(e,"spacing",8)}function mt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function yt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=mt(t,n),e}),{})}}(lt(n),r);return Je(e,e[n],i)}function gt(e,t){var n=vt(e.theme);return Object.keys(e).map((function(r){return yt(e,t,r,n)})).reduce(ot,{})}function bt(e){return gt(e,ft)}function kt(e){return gt(e,dt)}function wt(e){return gt(e,ht)}bt.propTypes={},bt.filterProps=ft,kt.propTypes={},kt.filterProps=dt,wt.propTypes={},wt.filterProps=ht;var xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ot(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Et(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var St=at({prop:"border",themeKey:"borders",transform:Et}),_t=at({prop:"borderTop",themeKey:"borders",transform:Et}),It=at({prop:"borderRight",themeKey:"borders",transform:Et}),Tt=at({prop:"borderBottom",themeKey:"borders",transform:Et}),Ct=at({prop:"borderLeft",themeKey:"borders",transform:Et}),Rt=at({prop:"borderColor",themeKey:"palette"}),At=at({prop:"borderTopColor",themeKey:"palette"}),Nt=at({prop:"borderRightColor",themeKey:"palette"}),Dt=at({prop:"borderBottomColor",themeKey:"palette"}),Pt=at({prop:"borderLeftColor",themeKey:"palette"}),Ot=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=pt(e.theme,"shape.borderRadius",4);return Je(e,e.borderRadius,(function(e){return{borderRadius:mt(t,e)}}))}return null};Ot.propTypes={},Ot.filterProps=["borderRadius"];xt(St,_t,It,Tt,Ct,Rt,At,Nt,Dt,Pt,Ot);var Mt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=pt(e.theme,"spacing",8);return Je(e,e.gap,(function(e){return{gap:mt(t,e)}}))}return null};Mt.propTypes={},Mt.filterProps=["gap"];var Lt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=pt(e.theme,"spacing",8);return Je(e,e.columnGap,(function(e){return{columnGap:mt(t,e)}}))}return null};Lt.propTypes={},Lt.filterProps=["columnGap"];var Ft=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=pt(e.theme,"spacing",8);return Je(e,e.rowGap,(function(e){return{rowGap:mt(t,e)}}))}return null};Ft.propTypes={},Ft.filterProps=["rowGap"];xt(Mt,Lt,Ft,at({prop:"gridColumn"}),at({prop:"gridRow"}),at({prop:"gridAutoFlow"}),at({prop:"gridAutoColumns"}),at({prop:"gridAutoRows"}),at({prop:"gridTemplateColumns"}),at({prop:"gridTemplateRows"}),at({prop:"gridTemplateAreas"}),at({prop:"gridArea"}));function jt(e,t){return"grey"===t?t:e}xt(at({prop:"color",themeKey:"palette",transform:jt}),at({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jt}),at({prop:"backgroundColor",themeKey:"palette",transform:jt}));function Ut(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Bt=at({prop:"width",transform:Ut}),Vt=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Je(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Ye[t]||Ut(t)}}))}return null};Vt.filterProps=["maxWidth"];var zt=at({prop:"minWidth",transform:Ut}),qt=at({prop:"height",transform:Ut}),Wt=at({prop:"maxHeight",transform:Ut}),Kt=at({prop:"minHeight",transform:Ut}),Ht=(at({prop:"size",cssProperty:"width",transform:Ut}),at({prop:"size",cssProperty:"height",transform:Ut}),xt(Bt,Vt,zt,qt,Wt,Kt,at({prop:"boxSizing"})),function(e){return function(t){if(void 0!==t[e]&&null!==t[e]){return Je(t,t[e],(function(n){var r,i,a,o,u,s,c=null==(r=t.theme.typography)?void 0:r[n];("object"===typeof c&&(c=null),c)||(c=null==(i=t.theme.typography)?void 0:i["".concat(e).concat("default"===t[e]||t[e]===e?"":nt(null==(a=t[e])?void 0:a.toString()))]);c||(c=null!=(o=null==(u=t.theme.typography)||null==(s=u[n])?void 0:s[e])?o:n);return He({},e,c)}))}return null}}),Gt={border:{themeKey:"borders",transform:Et},borderTop:{themeKey:"borders",transform:Et},borderRight:{themeKey:"borders",transform:Et},borderBottom:{themeKey:"borders",transform:Et},borderLeft:{themeKey:"borders",transform:Et},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ot},color:{themeKey:"palette",transform:jt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jt},backgroundColor:{themeKey:"palette",transform:jt},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:bt},mt:{style:bt},mr:{style:bt},mb:{style:bt},ml:{style:bt},mx:{style:bt},my:{style:bt},margin:{style:bt},marginTop:{style:bt},marginRight:{style:bt},marginBottom:{style:bt},marginLeft:{style:bt},marginX:{style:bt},marginY:{style:bt},marginInline:{style:bt},marginInlineStart:{style:bt},marginInlineEnd:{style:bt},marginBlock:{style:bt},marginBlockStart:{style:bt},marginBlockEnd:{style:bt},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mt},rowGap:{style:Ft},columnGap:{style:Lt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ut},maxWidth:{style:Vt},minWidth:{transform:Ut},height:{transform:Ut},maxHeight:{transform:Ut},minHeight:{transform:Ut},boxSizing:{},fontFamily:{themeKey:"typography",style:Ht("fontFamily")},fontSize:{themeKey:"typography",style:Ht("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:Ht("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};var Qt=function(){function e(e,t,n,r){var i,a=(He(i={},e,t),He(i,"theme",n),i),o=r[e];if(!o)return He({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;var d=rt(n,c)||{};if(f)return f(a);return Je(a,t,(function(t){var n=it(d,l,t);return t===n&&"string"===typeof t&&(n=it(d,l,"".concat(e).concat("default"===t?"":nt(t)),t)),!1===s?n:He({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:Gt;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=Ze(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=ot(o,e(n,c,u,s));else{var l=Je({theme:u},c,(function(e){return He({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=ot(o,l):o[n]=t({sx:c,theme:u})}else o=ot(o,e(n,c,u,s))})),et(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();Qt.filterProps=["sx"];var Xt=Qt,Yt=["breakpoints","palette","spacing","shape"];var $t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Be(e,Yt),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Be(e,Ge),s=Qe(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return ye({keys:c,values:s,up:l,down:f,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=vt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=We({breakpoints:c,direction:"ltr",components:{},palette:ye({mode:"light"},i),spacing:l,shape:ye({},Xe,u)},s),d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return(f=h.reduce((function(e,t){return We(e,t)}),f)).unstable_sxConfig=ye({},Gt,null==s?void 0:s.unstable_sxConfig),f.unstable_sx=function(e){return Xt({sx:e,theme:this})},f};function Jt(e,t){var n;return ye({toolbar:(n={minHeight:56},He(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),He(n,e.up("sm"),{minHeight:64}),n)},t)}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function en(e){if(e.type)return e;if("#"===e.charAt(0))return en(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Ve(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Ve(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function tn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function nn(e){var t="hsl"===(e=en(e)).type||"hsla"===e.type?en(function(e){var t=(e=en(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),tn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function rn(e,t){return e=en(e),t=Zt(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,tn(e)}function an(e,t){if(e=en(e),t=Zt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return tn(e)}function on(e,t){if(e=en(e),t=Zt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return tn(e)}var un={black:"#000",white:"#fff"},sn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ln={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},fn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},dn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},hn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},pn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},vn=["mode","contrastThreshold","tonalOffset"],mn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:un.white,default:un.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},yn={text:{primary:un.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:un.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=on(e.main,i):"dark"===t&&(e.dark=an(e.main,a)))}function bn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Be(e,vn),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dn[200],light:dn[50],dark:dn[400]}:{main:dn[700],light:dn[400],dark:dn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cn[200],light:cn[50],dark:cn[400]}:{main:cn[500],light:cn[300],dark:cn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ln[500],light:ln[300],dark:ln[700]}:{main:ln[700],light:ln[400],dark:ln[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hn[400],light:hn[300],dark:hn[700]}:{main:hn[700],light:hn[500],dark:hn[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pn[400],light:pn[300],dark:pn[700]}:{main:pn[800],light:pn[500],dark:pn[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fn[400],light:fn[300],dark:fn[700]}:{main:"#ed6c02",light:fn[500],dark:fn[900]}}(n);function p(e){var t=function(e,t){var n=nn(e),r=nn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,yn.text.primary)>=i?yn.text.primary:mn.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=ye({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Ve(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Ve(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return gn(t,"light",u,o),gn(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:yn,light:mn};return We(ye({common:ye({},un),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:sn,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var kn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var wn={textTransform:"uppercase"},xn='"Roboto", "Helvetica", "Arial", sans-serif';function En(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?xn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,d=void 0===f?500:f,h=n.fontWeightBold,p=void 0===h?700:h,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=Be(n,kn);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return ye({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===xn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},E={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(d,14,1.75,.4,wn),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,wn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return We(ye({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:p},E),b,{clone:!1})}var Sn=.2,_n=.14,In=.12;function Tn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Sn,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(_n,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(In,")")].join(",")}var Cn=["none",Tn(0,2,1,-1,0,1,1,0,0,1,3,0),Tn(0,3,1,-2,0,2,2,0,0,1,5,0),Tn(0,3,3,-2,0,3,4,0,0,1,8,0),Tn(0,2,4,-1,0,4,5,0,0,1,10,0),Tn(0,3,5,-1,0,5,8,0,0,1,14,0),Tn(0,3,5,-1,0,6,10,0,0,1,18,0),Tn(0,4,5,-2,0,7,10,1,0,2,16,1),Tn(0,5,5,-3,0,8,10,1,0,3,14,2),Tn(0,5,6,-3,0,9,12,1,0,3,16,2),Tn(0,6,6,-3,0,10,14,1,0,4,18,3),Tn(0,6,7,-4,0,11,15,1,0,4,20,3),Tn(0,7,8,-4,0,12,17,2,0,5,22,4),Tn(0,7,8,-4,0,13,19,2,0,5,24,4),Tn(0,7,9,-4,0,14,21,2,0,5,26,4),Tn(0,8,9,-5,0,15,22,2,0,6,28,5),Tn(0,8,10,-5,0,16,24,2,0,6,30,5),Tn(0,8,11,-5,0,17,26,2,0,6,32,5),Tn(0,9,11,-5,0,18,28,2,0,7,34,6),Tn(0,9,12,-6,0,19,29,2,0,7,36,6),Tn(0,10,13,-6,0,20,31,3,0,8,38,7),Tn(0,10,13,-6,0,21,33,3,0,8,40,7),Tn(0,10,14,-6,0,22,35,3,0,8,42,7),Tn(0,11,14,-7,0,23,36,3,0,9,44,8),Tn(0,11,15,-7,0,24,38,3,0,9,46,8)],Rn=["duration","easing","delay"],An={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Dn(e){return"".concat(Math.round(e),"ms")}function Pn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function On(e){var t=ye({},An,e.easing),n=ye({},Nn,e.duration);return ye({getAutoHeightDuration:Pn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Be(r,Rn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Dn(a)," ").concat(u," ").concat("string"===typeof c?c:Dn(c))})).join(",")}},e,{easing:t,duration:n})}var Mn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ln=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Be(e,Ln);if(e.vars)throw new Error(Ve(18));var l=bn(i),f=$t(e),d=We(f,{mixins:Jt(f.breakpoints,n),palette:l,shadows:Cn.slice(),typography:En(l,s),transitions:On(o),zIndex:ye({},Mn)});d=We(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return(d=p.reduce((function(e,t){return We(e,t)}),d)).unstable_sxConfig=ye({},Gt,null==c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return Xt({sx:e,theme:this})},d}var jn=Fn;function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}function Bn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vn(e,t,n){return Vn=Bn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Un(i,n.prototype),i},Vn.apply(null,arguments)}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zn(e)}function qn(){return qn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qn.apply(this,arguments)}function Wn(e){var t="function"===typeof Map?new Map:void 0;return Wn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vn(e,arguments,zn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Un(n,e)},Wn(e)}function Kn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Hn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Un(e,t)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e){var t=Bn();return function(){var n,r=zn(e);if(t){var i=zn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}(this,n)}}function Xn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yn(e){return function(e){if(Array.isArray(e))return l(e)}(e)||Xn(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function Zn(e,t,n){return t&&Jn(e.prototype,t),n&&Jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var er=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(er(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new nr;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nr=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Zn(n)}(Wn(Error)),rr=function(e){return function(e){var t=er(e);return tr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ir=function(e){try{return tr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ar(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ar(e[n],t[n]));return e}var or=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ur=function(){try{return or()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",REACT_APP_FIREBASE_APP_ID:"1:790402549965:web:62e8eec1b35c868bb54184",REACT_APP_FIREBASE_AUTH_DOMAIN:"firechat-60a6c.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"790402549965",REACT_APP_FIREBASE_PROJECT_ID:"firechat-60a6c",REACT_APP_FIREBASE_STORAGE_BUCKET:"firechat-60a6c.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ir(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},sr=function(e){var t=function(e){var t,n;return null===(n=null===(t=ur())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},cr=function(){var e;return null===(e=ur())||void 0===e?void 0:e.config},lr=function(){function e(){var t=this;$n(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Zn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rr(JSON.stringify({alg:"none",type:"JWT"})),rr(JSON.stringify(a)),""].join(".")}function dr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hr(){var e,t=null===(e=ur())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mr(){var e=dr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gr=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Gn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Gn(a),br.prototype.create),a}return Zn(n)}(Wn(Error)),br=function(){function e(t,n,r){$n(this,e),this.service=t,this.serviceName=n,this.errors=r}return Zn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(kr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gr(n,a,t)}}]),e}();var kr=/\{\$([^}]+)}/g;function wr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Er(u)&&Er(s)){if(!xr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Er(e){return null!==e&&"object"===typeof e}function Sr(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _r(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ir(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tr(e,t){var n=new Cr(e,t);return n.subscribe.bind(n)}var Cr=function(){function e(t,n){var r=this;$n(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Zn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Kn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Rr),void 0===r.error&&(r.error=Rr),void 0===r.complete&&(r.complete=Rr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Rr(){}var Ar=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};function Nr(e){return e&&e._delegate?e._delegate:e}var Dr=function(){function e(t,n,r){$n(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Zn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pr="[DEFAULT]",Or=function(){function e(t,n){$n(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Zn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch(s){}var t,n=Kn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Yn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Yn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Kn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=h(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(yb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Mr(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(yb){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr;return this.component?this.component.multipleInstances?e:Pr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Mr(e){return e===Pr?void 0:e}var Lr,Fr,jr=function(){function e(t){$n(this,e),this.name=t,this.providers=new Map}return Zn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Or(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ur=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fr||(Fr={}));var Br={debug:Fr.DEBUG,verbose:Fr.VERBOSE,info:Fr.INFO,warn:Fr.WARN,error:Fr.ERROR,silent:Fr.SILENT},Vr=Fr.INFO,zr=(He(Lr={},Fr.DEBUG,"log"),He(Lr,Fr.VERBOSE,"log"),He(Lr,Fr.INFO,"info"),He(Lr,Fr.WARN,"warn"),He(Lr,Fr.ERROR,"error"),Lr),qr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=zr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wr=function(){function e(t){$n(this,e),this.name=t,this._logLevel=Vr,this._logHandler=qr,this._userLogHandler=null,Ur.push(this)}return Zn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Fr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Br[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Fr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Fr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fr.INFO].concat(t)),this._logHandler.apply(this,[this,Fr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fr.WARN].concat(t)),this._logHandler.apply(this,[this,Fr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fr.ERROR].concat(t)),this._logHandler.apply(this,[this,Fr.ERROR].concat(t))}}]),e}();function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gr,Qr,Xr=function(e,t){return t.some((function(t){return e instanceof t}))};var Yr=new WeakMap,$r=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,ei=new WeakMap;var ti={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $r.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ni(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qr||(Qr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ai(this),n),ii(Yr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ii(e.apply(ai(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ai(this),t].concat(r));return Jr.set(a,t.sort?t.sort():[t]),ii(a)}}function ri(e){return"function"===typeof e?ni(e):(e instanceof IDBTransaction&&function(e){if(!$r.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));$r.set(e,t)}}(e),Xr(e,Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ti):e)}function ii(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ii(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Yr.set(t,e)})).catch((function(){})),ei.set(t,e),t}(e);if(Zr.has(e))return Zr.get(e);var t=ri(e);return t!==e&&(Zr.set(e,t),ei.set(t,e)),t}var ai=function(e){return ei.get(e)};var oi,ui,si=["get","getKey","getAll","getAllKeys","count"],ci=["put","add","delete","clear"],li=new Map;function fi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(li.get(t))return li.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ci.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||si.includes(n))){var a=function(){var e=s(o().mark((function e(t){var a,u,s,c,l,f,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=d.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=d[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return li.set(t,a),a}}}ti=function(e){return Hr(Hr({},e),{},{get:function(t,n,r){return fi(t,n)||e.get(t,n,r)},has:function(t,n){return!!fi(t,n)||e.has(t,n)}})}(ti);var di=function(){function e(t){$n(this,e),this.container=t}return Zn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hi="@firebase/app",pi="0.9.5",vi=new Wr("@firebase/app"),mi="[DEFAULT]",yi=(He(oi={},hi,"fire-core"),He(oi,"@firebase/app-compat","fire-core-compat"),He(oi,"@firebase/analytics","fire-analytics"),He(oi,"@firebase/analytics-compat","fire-analytics-compat"),He(oi,"@firebase/app-check","fire-app-check"),He(oi,"@firebase/app-check-compat","fire-app-check-compat"),He(oi,"@firebase/auth","fire-auth"),He(oi,"@firebase/auth-compat","fire-auth-compat"),He(oi,"@firebase/database","fire-rtdb"),He(oi,"@firebase/database-compat","fire-rtdb-compat"),He(oi,"@firebase/functions","fire-fn"),He(oi,"@firebase/functions-compat","fire-fn-compat"),He(oi,"@firebase/installations","fire-iid"),He(oi,"@firebase/installations-compat","fire-iid-compat"),He(oi,"@firebase/messaging","fire-fcm"),He(oi,"@firebase/messaging-compat","fire-fcm-compat"),He(oi,"@firebase/performance","fire-perf"),He(oi,"@firebase/performance-compat","fire-perf-compat"),He(oi,"@firebase/remote-config","fire-rc"),He(oi,"@firebase/remote-config-compat","fire-rc-compat"),He(oi,"@firebase/storage","fire-gcs"),He(oi,"@firebase/storage-compat","fire-gcs-compat"),He(oi,"@firebase/firestore","fire-fst"),He(oi,"@firebase/firestore-compat","fire-fst-compat"),He(oi,"fire-js","fire-js"),He(oi,"firebase","fire-js-all"),oi),gi=new Map,bi=new Map;function ki(e,t){try{e.container.addComponent(t)}catch(n){vi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wi(e,t){e.container.addOrOverwriteComponent(t)}function xi(e){var t=e.name;if(bi.has(t))return vi.debug("There were multiple attempts to register component ".concat(t,".")),!1;bi.set(t,e);var n,r=Kn(gi.values());try{for(r.s();!(n=r.n()).done;){ki(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ei(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mi;Ei(e,t).clearInstance(n)}function _i(){bi.clear()}var Ii=(He(ui={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(ui,"bad-app-name","Illegal App name: '{$appName}"),He(ui,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),He(ui,"app-deleted","Firebase App named '{$appName}' already deleted"),He(ui,"no-options","Need to provide options, when not being deployed to hosting via source."),He(ui,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),He(ui,"invalid-log-argument","First argument to `onLog` must be null or a function."),He(ui,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),He(ui,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),He(ui,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),He(ui,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ui),Ti=new br("app","Firebase",Ii),Ci=function(){function e(t,n,r){var i=this;$n(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",(function(){return i}),"PUBLIC"))}return Zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}]),e}(),Ri="9.18.0";function Ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:mi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=cr()),!n)throw Ti.create("no-options");var a=gi.get(i);if(a){if(xr(n,a.options)&&xr(r,a.config))return a;throw Ti.create("duplicate-app",{appName:i})}var o,u=new jr(i),s=Kn(bi.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ci(n,r,u);return gi.set(i,l),l}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi,t=gi.get(e);if(!t&&e===mi)return Ai();if(!t)throw Ti.create("no-app",{appName:e});return t}function Di(){return Array.from(gi.values())}function Pi(e){return Oi.apply(this,arguments)}function Oi(){return Oi=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!gi.has(n)){e.next=6;break}return gi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Mi(e,t,n){var r,i=null!==(r=yi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void vi.warn(u.join(" "))}xi(new Dr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Li(e,t){if(null!==e&&"function"!==typeof e)throw Ti.create("invalid-log-argument");!function(e,t){var n,r=Kn(Ur);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Br[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Fr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fi(e){var t;t=e,Ur.forEach((function(e){e.setLogLevel(t)}))}var ji="firebase-heartbeat-database",Ui=1,Bi="firebase-heartbeat-store",Vi=null;function zi(){return Vi||(Vi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ii(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ii(u.result),e.oldVersion,e.newVersion,ii(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(ji,Ui,{upgrade:function(e,t){if(0===t)e.createObjectStore(Bi)}}).catch((function(e){throw Ti.create("idb-open",{originalErrorMessage:e.message})}))),Vi}function qi(e){return Wi.apply(this,arguments)}function Wi(){return Wi=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi();case 3:return n=e.sent,e.abrupt("return",n.transaction(Bi).objectStore(Bi).get(Gi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gr?vi.warn(e.t0.message):(r=Ti.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),vi.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Wi.apply(this,arguments)}function Ki(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zi();case 3:return r=e.sent,i=r.transaction(Bi,"readwrite"),a=i.objectStore(Bi),e.next=8,a.put(n,Gi(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gr?vi.warn(e.t0.message):(u=Ti.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),vi.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Hi.apply(this,arguments)}function Gi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qi=1024,Xi=function(){function e(t){var n=this;$n(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Zi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Zn(e,[{key:"triggerHeartbeat",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Yi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Yi(),n=$i(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=rr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yi(){return(new Date).toISOString().substring(0,10)}function $i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qi,r=[],i=e.slice(),a=Kn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ea(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ea(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ji,Zi=function(){function e(t){$n(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Zn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,qi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ki(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ki(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Yn(r.heartbeats),Yn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ea(e){return rr(JSON.stringify({version:2,heartbeats:e})).length}Ji="",xi(new Dr("platform-logger",(function(e){return new di(e)}),"PRIVATE")),xi(new Dr("heartbeat",(function(e){return new Xi(e)}),"PRIVATE")),Mi(hi,pi,Ji),Mi(hi,pi,"esm2017"),Mi("fire-js","");var ta,na="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ra={},ia=ia||{},aa=na||self;function oa(){}function ua(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ca="closure_uid_"+(1e9*Math.random()>>>0),la=0;function fa(e,t,n){return e.call.apply(e.bind,arguments)}function da(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ha(e,t,n){return(ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:da).apply(null,arguments)}function pa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function va(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ma(){this.s=this.s,this.o=this.o}ma.prototype.s=!1,ma.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ca)&&e[ca]||(e[ca]=++la))},ma.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ya=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ga(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ba(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ua(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ka(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ka.prototype.h=function(){this.defaultPrevented=!0};var wa=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{aa.addEventListener("test",oa,t),aa.removeEventListener("test",oa,t)}catch(n){}return e}();function xa(e){return/^[\s\xa0]*$/.test(e)}var Ea=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Sa(e,t){return e<t?-1:e>t?1:0}function _a(){var e=aa.navigator;return e&&(e=e.userAgent)?e:""}function Ia(e){return-1!=_a().indexOf(e)}function Ta(e){return Ta[" "](e),e}Ta[" "]=oa;var Ca,Ra=Ia("Opera"),Aa=Ia("Trident")||Ia("MSIE"),Na=Ia("Edge"),Da=Na||Aa,Pa=Ia("Gecko")&&!(-1!=_a().toLowerCase().indexOf("webkit")&&!Ia("Edge"))&&!(Ia("Trident")||Ia("MSIE"))&&!Ia("Edge"),Oa=-1!=_a().toLowerCase().indexOf("webkit")&&!Ia("Edge");function Ma(){var e=aa.document;return e?e.documentMode:void 0}e:{var La="",Fa=function(){var e=_a();return Pa?/rv:([^\);]+)(\)|;)/.exec(e):Na?/Edge\/([\d\.]+)/.exec(e):Aa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Oa?/WebKit\/(\S+)/.exec(e):Ra?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fa&&(La=Fa?Fa[1]:""),Aa){var ja=Ma();if(null!=ja&&ja>parseFloat(La)){Ca=String(ja);break e}}Ca=La}var Ua,Ba={};function Va(){return function(e){var t=Ba;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ea(String(Ca)).split("."),n=Ea("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Sa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Sa(0==a[2].length,0==o[2].length)||Sa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(aa.document&&Aa){var za=Ma();Ua=za||(parseInt(Ca,10)||void 0)}else Ua=void 0;var qa=Ua;function Wa(e,t){if(ka.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pa){e:{try{Ta(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ka[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wa.X.h.call(this)}}va(Wa,ka);var Ka={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ga=0;function Qa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ga,this.ba=this.ea=!1}function Xa(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ya(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $a(e){var t={};for(var n in e)t[n]=e[n];return t}var Ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Za(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ja.length;a++)n=Ja[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eo(e){this.src=e,this.g={},this.h=0}function to(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ya(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function no(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}eo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=no(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Qa(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ro="closure_lm_"+(1e6*Math.random()|0),io={};function ao(e,t,n,r,i){if(r&&r.once)return uo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ao(e,t[a],n,r,i);return null}return n=vo(n),e&&e[Ha]?e.N(t,n,sa(r)?!!r.capture:!!r,i):oo(e,t,n,!1,r,i)}function oo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=sa(i)?!!i.capture:!!i,u=ho(e);if(u||(e[ro]=u=new eo(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=fo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wa||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function uo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)uo(e,t[a],n,r,i);return null}return n=vo(n),e&&e[Ha]?e.O(t,n,sa(r)?!!r.capture:!!r,i):oo(e,t,n,!0,r,i)}function so(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)so(e,t[a],n,r,i);else r=sa(r)?!!r.capture:!!r,n=vo(n),e&&e[Ha]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=no(a=e.g[t],n,r,i))&&(Xa(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ho(e))&&(t=e.g[t.toString()],e=-1,t&&(e=no(t,n,r,i)),(n=-1<e?t[e]:null)&&co(n))}function co(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Ha])to(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ho(t))?(to(n,e),0==n.h&&(n.src=null,t[ro]=null)):Xa(e)}}}function lo(e){return e in io?io[e]:io[e]="on"+e}function fo(e,t){if(e.ba)e=!0;else{t=new Wa(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&co(e),e=n.call(r,t)}return e}function ho(e){return(e=e[ro])instanceof eo?e:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(e){return"function"===typeof e?e:(e[po]||(e[po]=function(t){return e.handleEvent(t)}),e[po])}function mo(){ma.call(this),this.i=new eo(this),this.P=this,this.I=null}function yo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ka(t,e);else if(t instanceof ka)t.target=t.target||e;else{var i=t;Za(t=new ka(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=go(o,r,!0,t)&&i}if(i=go(o=t.g=e,r,!0,t)&&i,i=go(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=go(o=t.g=n[a],r,!1,t)&&i}function go(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&to(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}va(mo,ma),mo.prototype[Ha]=!0,mo.prototype.removeEventListener=function(e,t,n,r){so(this,e,t,n,r)},mo.prototype.M=function(){if(mo.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xa(n[r]);delete t.g[e],t.h--}}this.I=null},mo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},mo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bo=aa.JSON.stringify;function ko(){var e=Co,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wo,xo=function(){function e(){$n(this,e),this.h=this.g=null}return Zn(e,[{key:"add",value:function(e,t){var n=Eo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Eo=new(function(){function e(t,n){$n(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Zn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new So}),(function(e){return e.reset()})),So=function(){function e(){$n(this,e),this.next=this.g=this.h=null}return Zn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _o(e){aa.setTimeout((function(){throw e}),0)}function Io(e,t){wo||function(){var e=aa.Promise.resolve(void 0);wo=function(){e.then(Ro)}}(),To||(wo(),To=!0),Co.add(e,t)}var To=!1,Co=new xo;function Ro(){for(var e;e=ko();){try{e.h.call(e.g)}catch(n){_o(n)}var t=Eo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}To=!1}function Ao(e,t){mo.call(this),this.h=e||1,this.g=t||aa,this.j=ha(this.lb,this),this.l=Date.now()}function No(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Do(e,t,n){if("function"===typeof e)n&&(e=ha(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ha(e.handleEvent,e)}return 2147483647<Number(t)?-1:aa.setTimeout(e,t||0)}function Po(e){e.g=Do((function(){e.g=null,e.i&&(e.i=!1,Po(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}va(Ao,mo),(ta=Ao.prototype).ca=!1,ta.R=null,ta.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yo(this,"tick"),this.ca&&(No(this),this.start()))}},ta.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ta.M=function(){Ao.X.M.call(this),No(this),delete this.g};var Oo=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Zn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Po(this)}},{key:"M",value:function(){qn(zn(n.prototype),"M",this).call(this),this.g&&(aa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ma);function Mo(e){ma.call(this),this.h=e,this.g={}}va(Mo,ma);var Lo=[];function Fo(e,t,n,r){Array.isArray(n)||(n&&(Lo[0]=n.toString()),n=Lo);for(var i=0;i<n.length;i++){var a=ao(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function jo(e){Ya(e.g,(function(e,t){this.g.hasOwnProperty(t)&&co(e)}),e),e.g={}}function Uo(){this.g=!0}function Bo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Mo.prototype.M=function(){Mo.X.M.call(this),jo(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uo.prototype.Aa=function(){this.g=!1},Uo.prototype.info=function(){};var Vo={},zo=null;function qo(){return zo=zo||new mo}function Wo(e){ka.call(this,Vo.Pa,e)}function Ko(e){var t=qo();yo(t,new Wo(t))}function Ho(e,t){ka.call(this,Vo.STAT_EVENT,e),this.stat=t}function Go(e){var t=qo();yo(t,new Ho(t,e))}function Qo(e,t){ka.call(this,Vo.Qa,e),this.size=t}function Xo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return aa.setTimeout((function(){e()}),t)}Vo.Pa="serverreachability",va(Wo,ka),Vo.STAT_EVENT="statevent",va(Ho,ka),Vo.Qa="timingevent",va(Qo,ka);var Yo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$o={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Jo(){}function Zo(e){return e.h||(e.h=e.i())}function eu(){}Jo.prototype.h=null;var tu,nu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ru(){ka.call(this,"d")}function iu(){ka.call(this,"c")}function au(){}function ou(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Mo(this),this.O=su,e=Da?125:void 0,this.T=new Ao(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}va(ru,ka),va(iu,ka),va(au,Jo),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},tu=new au;var su=45e3,cu={},lu={};function fu(e,t,n){e.K=1,e.v=Au(_u(t)),e.s=n,e.P=!0,du(e,null)}function du(e,t){e.F=Date.now(),mu(e),e.A=_u(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),qu(n.i,"t",r),e.C=0,n=e.l.H,e.h=new uu,e.g=Ws(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Oo(ha(e.La,e,e.g),e.N)),Fo(e.S,e.g,"readystatechange",e.ib),t=e.H?$a(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ko(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function hu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function pu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=vu(e,n))==lu){4==t&&(e.o=4,Go(14),i=!1),Bo(e.j,e.m,null,"[Incomplete Response]");break}if(r==cu){e.o=4,Go(15),Bo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bo(e.j,e.m,r,null),wu(e,r)}hu(e)&&r!=lu&&r!=cu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Go(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ls(t),t.K=!0,Go(11))):(Bo(e.j,e.m,n,"[Invalid Chunked Response]"),ku(e),bu(e))}function vu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lu:(n=Number(t.substring(n,r)),isNaN(n)?cu:(r+=1)+n>t.length?lu:(t=t.substr(r,n),e.C=r+n,t))}function mu(e){e.V=Date.now()+e.O,yu(e,e.O)}function yu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xo(ha(e.gb,e),t)}function gu(e){e.B&&(aa.clearTimeout(e.B),e.B=null)}function bu(e){0==e.l.G||e.I||Us(e.l,e)}function ku(e){gu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,No(e.T),jo(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$u(n.h,e)))if(!e.J&&$u(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;js(n),Cs(n)}Ms(n),Go(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Xo(ha(n.cb,n),6e3));if(1>=Yu(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Vs(n,11)}else if((e.J||n.g==e)&&js(n),!xa(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ju(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Ru(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=qs(r,r.H?r.ka:null,r.V),h.J){Zu(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(gu(p),mu(p)),r.g=h}else Os(r);0<n.i.length&&As(n)}else"stop"!=a[0]&&"close"!=a[0]||Vs(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Vs(n,7):Ts(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ko()}catch(a){}}function xu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ua(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ua(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ua(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ta=ou.prototype).setTimeout=function(e){this.O=e},ta.ib=function(e){e=e.target;var t=this.L;t&&3==ws(e)?t.l():this.La(e)},ta.La=function(e){try{if(e==this.g)e:{var t=ws(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Da||this.g&&(this.h.h||this.g.fa()||xs(this.g)))){this.I||4!=t||7==n||Ko(),gu(this);var r=this.g.aa();this.Y=r;t:if(hu(this)){var i=xs(this.g);e="";var a=i.length,o=4==ws(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ku(this),bu(this);var u="";break t}this.h.i=new aa.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xa(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Go(12),ku(this),bu(this);break e}Bo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wu(this,r)}this.P?(pu(this,t,u),Da&&this.i&&3==t&&(Fo(this.S,this.T,"tick",this.hb),this.T.start())):(Bo(this.j,this.m,u,null),wu(this,u)),4==t&&ku(this),this.i&&!this.I&&(4==t?Us(this.l,this):(this.i=!1,mu(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Go(12)):(this.o=0,Go(13)),ku(this),bu(this)}}}catch(t){}},ta.hb=function(){if(this.g){var e=ws(this.g),t=this.g.fa();this.C<t.length&&(gu(this),pu(this,e,t),this.i&&4!=e&&mu(this))}},ta.cancel=function(){this.I=!0,ku(this)},ta.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ko(),Go(17)),ku(this),this.o=2,bu(this)):yu(this,this.V-e)};var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Su){this.h=void 0!==t?t:e.h,Iu(this,e.j),this.s=e.s,this.g=e.g,Tu(this,e.m),this.l=e.l,t=e.i;var n=new Uu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Cu(this,n),this.o=e.o}else e&&(n=String(e).match(Eu))?(this.h=!!t,Iu(this,n[1]||"",!0),this.s=Nu(n[2]||""),this.g=Nu(n[3]||"",!0),Tu(this,n[4]),this.l=Nu(n[5]||"",!0),Cu(this,n[6]||"",!0),this.o=Nu(n[7]||"")):(this.h=!!t,this.i=new Uu(null,this.h))}function _u(e){return new Su(e)}function Iu(e,t,n){e.j=n?Nu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cu(e,t,n){t instanceof Uu?(e.i=t,function(e,t){t&&!e.j&&(Bu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vu(this,t),qu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Du(t,Fu)),e.i=new Uu(t,e.h))}function Ru(e,t,n){e.i.set(t,n)}function Au(e){return Ru(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Du(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Su.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Du(t,Ou,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Du(t,Ou,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Du(n,"/"==n.charAt(0)?Lu:Mu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Du(n,ju)),e.join("")};var Ou=/[#\/\?@]/g,Mu=/[#\?:]/g,Lu=/[#\?]/g,Fu=/[#\?@]/g,ju=/#/g;function Uu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vu(e,t){Bu(e),t=Wu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zu(e,t){return Bu(e),t=Wu(e,t),e.g.has(t)}function qu(e,t,n){Vu(e,t),0<n.length&&(e.i=null,e.g.set(Wu(e,t),ga(n)),e.h+=n.length)}function Wu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ta=Uu.prototype).add=function(e,t){Bu(this),this.i=null,e=Wu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ta.forEach=function(e,t){Bu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ta.oa=function(){Bu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ta.W=function(e){Bu(this);var t=[];if("string"===typeof e)zu(this,e)&&(t=t.concat(this.g.get(Wu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ta.set=function(e,t){return Bu(this),this.i=null,zu(this,e=Wu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ta.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ta.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ku=Zn((function e(t,n){$n(this,e),this.h=t,this.g=n}));function Hu(e){this.l=e||Qu,aa.PerformanceNavigationTiming?e=0<(e=aa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(aa.g&&aa.g.Ga&&aa.g.Ga()&&aa.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gu,Qu=10;function Xu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yu(e){return e.h?1:e.g?e.g.size:0}function $u(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ju(e,t){e.g?e.g.add(t):e.h=t}function Zu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function es(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Kn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ga(e.i)}function ts(){}function ns(){this.g=new ts}function rs(e,t,n){var r=n||"";try{xu(e,(function(e,n){var i=e;sa(e)&&(i=bo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function is(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function as(e){this.l=e.ac||null,this.j=e.jb||!1}function os(e,t){mo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hu.prototype.cancel=function(){if(this.i=es(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Kn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ts.prototype.stringify=function(e){return aa.JSON.stringify(e,void 0)},ts.prototype.parse=function(e){return aa.JSON.parse(e,void 0)},va(as,Jo),as.prototype.g=function(){return new os(this.l,this.j)},as.prototype.i=(Gu={},function(){return Gu}),va(os,mo);var us=0;function ss(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function cs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ls(e)}function ls(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ta=os.prototype).open=function(e,t){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ls(this)},ta.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||aa).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ta.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=us},ta.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof aa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ss(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ta.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cs(this):ls(this),3==this.readyState&&ss(this)}},ta.Va=function(e){this.g&&(this.response=this.responseText=e,cs(this))},ta.Ua=function(e){this.g&&(this.response=e,cs(this))},ta.ga=function(){this.g&&cs(this)},ta.setRequestHeader=function(e,t){this.v.append(e,t)},ta.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ta.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(os.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fs=aa.JSON.parse;function ds(e){mo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hs,this.K=this.L=!1}va(ds,mo);var hs="",ps=/^https?$/i,vs=["POST","PUT"];function ms(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ys(e),bs(e)}function ys(e){e.D||(e.D=!0,yo(e,"complete"),yo(e,"error"))}function gs(e){if(e.h&&"undefined"!=typeof ia&&(!e.C[1]||4!=ws(e)||2!=e.aa()))if(e.v&&4==ws(e))Do(e.Ha,0,e);else if(yo(e,"readystatechange"),4==ws(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Eu)[1]||null;if(!a&&aa.self&&aa.self.location){var o=aa.self.location.protocol;a=o.substr(0,o.length-1)}i=!ps.test(a?a.toLowerCase():"")}t=i}if(t)yo(e,"complete"),yo(e,"success");else{e.m=6;try{var u=2<ws(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",ys(e)}}finally{bs(e)}}}function bs(e,t){if(e.g){ks(e);var n=e.g,r=e.C[0]?oa:null;e.g=null,e.C=null,t||yo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ks(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(aa.clearTimeout(e.A),e.A=null)}function ws(e){return e.g?e.g.readyState:0}function xs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case hs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sc){return null}}function Es(e){var t="";return Ya(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ss(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Es(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ru(e,t,n))}function _s(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Is(e){this.Ca=0,this.i=[],this.j=new Uo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=_s("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=_s("baseRetryDelayMs",5e3,e),this.bb=_s("retryDelaySeedMs",1e4,e),this.$a=_s("forwardChannelMaxRetries",2,e),this.ta=_s("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Hu(e&&e.concurrentRequestLimit),this.Fa=new ns,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ts(e){if(Rs(e),3==e.G){var t=e.U++,n=_u(e.F);Ru(n,"SID",e.I),Ru(n,"RID",t),Ru(n,"TYPE","terminate"),Ds(e,n),(t=new ou(e,e.j,t,void 0)).K=2,t.v=Au(_u(n)),n=!1,aa.navigator&&aa.navigator.sendBeacon&&(n=aa.navigator.sendBeacon(t.v.toString(),"")),!n&&aa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ws(t.l,null),t.g.da(t.v)),t.F=Date.now(),mu(t)}zs(e)}function Cs(e){e.g&&(Ls(e),e.g.cancel(),e.g=null)}function Rs(e){Cs(e),e.u&&(aa.clearTimeout(e.u),e.u=null),js(e),e.h.cancel(),e.m&&("number"===typeof e.m&&aa.clearTimeout(e.m),e.m=null)}function As(e){Xu(e.h)||e.m||(e.m=!0,Io(e.Ja,e),e.C=0)}function Ns(e,t){var n;n=t?t.m:e.U++;var r=_u(e.F);Ru(r,"SID",e.I),Ru(r,"RID",n),Ru(r,"AID",e.T),Ds(e,r),e.o&&e.s&&Ss(r,e.o,e.s),n=new ou(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ps(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ju(e.h,n),fu(n,r,t)}function Ds(e,t){e.ia&&Ya(e.ia,(function(e,n){Ru(t,n,e)})),e.l&&xu({},(function(e,n){Ru(t,n,e)}))}function Ps(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ha(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{rs(l,o,"req"+c+"_")}catch(yc){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Os(e){e.g||e.u||(e.Z=1,Io(e.Ia,e),e.A=0)}function Ms(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Xo(ha(e.Ia,e),Bs(e,e.A)),e.A++,!0)}function Ls(e){null!=e.B&&(aa.clearTimeout(e.B),e.B=null)}function Fs(e){e.g=new ou(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=_u(e.sa);Ru(t,"RID","rpc"),Ru(t,"SID",e.I),Ru(t,"CI",e.L?"0":"1"),Ru(t,"AID",e.T),Ru(t,"TYPE","xmlhttp"),Ds(e,t),e.o&&e.s&&Ss(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Au(_u(t)),n.s=null,n.P=!0,du(n,e)}function js(e){null!=e.v&&(aa.clearTimeout(e.v),e.v=null)}function Us(e,t){var n=null;if(e.g==t){js(e),Ls(e),e.g=null;var r=2}else{if(!$u(e.h,t))return;n=t.D,Zu(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;yo(r=qo(),new Qo(r,n)),As(e)}else Os(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Yu(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Xo(ha(e.Ja,e,t),Bs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ms(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Vs(e,5);break;case 4:Vs(e,10);break;case 3:Vs(e,6);break;default:Vs(e,2)}}function Bs(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Vs(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ha(e.kb,e);n||(n=new Su("//www.google.com/images/cleardot.gif"),aa.location&&"http"==aa.location.protocol||Iu(n,"https"),Au(n)),function(e,t){var n=new Uo;if(aa.Image){var r=new Image;r.onload=pa(is,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pa(is,n,r,"TestLoadImage: error",!1,t),r.onabort=pa(is,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pa(is,n,r,"TestLoadImage: timeout",!1,t),aa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Go(2);e.G=0,e.l&&e.l.va(t),zs(e),Rs(e)}function zs(e){if(e.G=0,e.la=[],e.l){var t=es(e.h);0==t.length&&0==e.i.length||(ba(e.la,t),ba(e.la,e.i),e.h.i.length=0,ga(e.i),e.i.length=0),e.l.ua()}}function qs(e,t,n){var r=n instanceof Su?_u(n):new Su(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Tu(r,r.m);else{var i=aa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Su(null,void 0);r&&Iu(a,r),t&&(a.g=t),i&&Tu(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ru(r,n,t),Ru(r,"VER",e.ma),Ds(e,r),r}function Ws(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ds(new as({jb:!0})):new ds(e.ra)).Ka(e.H),t}function Ks(){}function Hs(){if(Aa&&!(10<=Number(qa)))throw Error("Environmental error: no available transport.")}function Gs(e,t){mo.call(this),this.g=new Is(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!xa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xa(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ys(this)}function Qs(e){ru.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xs(){iu.call(this),this.status=1}function Ys(e){this.g=e}(ta=ds.prototype).Ka=function(e){this.L=e},ta.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tu.g(),this.C=this.u?Zo(this.u):Zo(tu),this.g.onreadystatechange=ha(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ms(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Kn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=aa.FormData&&e instanceof aa.FormData,!(0<=ya(vs,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Kn(n);try{for(c.s();!(s=c.n()).done;){var l=h(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ks(this),0<this.B&&((this.K=function(e){return Aa&&Va()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ha(this.qa,this)):this.A=Do(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ms(this,u)}},ta.qa=function(){"undefined"!=typeof ia&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yo(this,"timeout"),this.abort(8))},ta.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yo(this,"complete"),yo(this,"abort"),bs(this))},ta.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bs(this,!0)),ds.X.M.call(this)},ta.Ha=function(){this.s||(this.F||this.v||this.l?gs(this):this.fb())},ta.fb=function(){gs(this)},ta.aa=function(){try{return 2<ws(this)?this.g.status:-1}catch(Gu){return-1}},ta.fa=function(){try{return this.g?this.g.responseText:""}catch(Gu){return""}},ta.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fs(t)}},ta.Ea=function(){return this.m},ta.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ta=Is.prototype).ma=8,ta.G=1,ta.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ou(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Za(n=$a(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ps(this,t,r),Ru(i=_u(this.F),"RID",e),Ru(i,"CVER",22),this.D&&Ru(i,"X-HTTP-Session-Id",this.D),Ds(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Es(n)))+"&"+r:this.o&&Ss(i,this.o,n)),Ju(this.h,t),this.Ya&&Ru(i,"TYPE","init"),this.O?(Ru(i,"$req",r),Ru(i,"SID","null"),t.Z=!0,fu(t,i,null)):fu(t,i,r),this.G=2}}else 3==this.G&&(e?Ns(this,e):0==this.i.length||Xu(this.h)||Ns(this))},ta.Ia=function(){if(this.u=null,Fs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Xo(ha(this.eb,this),e)}},ta.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Go(10),Cs(this),Fs(this))},ta.cb=function(){null!=this.v&&(this.v=null,Cs(this),Ms(this),Go(19))},ta.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Go(2)):(this.j.info("Failed to ping google.com"),Go(1))},(ta=Ks.prototype).xa=function(){},ta.wa=function(){},ta.va=function(){},ta.ua=function(){},ta.Ra=function(){},Hs.prototype.g=function(e,t){return new Gs(e,t)},va(Gs,mo),Gs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Go(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=qs(e,null,e.V),As(e)},Gs.prototype.close=function(){Ts(this.g)},Gs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=bo(e),e=n);t.i.push(new Ku(t.ab++,e)),3==t.G&&As(t)},Gs.prototype.M=function(){this.g.l=null,delete this.j,Ts(this.g),delete this.g,Gs.X.M.call(this)},va(Qs,ru),va(Xs,iu),va(Ys,Ks),Ys.prototype.xa=function(){yo(this.g,"a")},Ys.prototype.wa=function(e){yo(this.g,new Qs(e))},Ys.prototype.va=function(e){yo(this.g,new Xs)},Ys.prototype.ua=function(){yo(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,$o.COMPLETE="complete",eu.EventType=nu,nu.OPEN="a",nu.CLOSE="b",nu.ERROR="c",nu.MESSAGE="d",mo.prototype.listen=mo.prototype.N,ds.prototype.listenOnce=ds.prototype.O,ds.prototype.getLastError=ds.prototype.Oa,ds.prototype.getLastErrorCode=ds.prototype.Ea,ds.prototype.getStatus=ds.prototype.aa,ds.prototype.getResponseJson=ds.prototype.Sa,ds.prototype.getResponseText=ds.prototype.fa,ds.prototype.send=ds.prototype.da,ds.prototype.setWithCredentials=ds.prototype.Ka;var $s=ra.createWebChannelTransport=function(){return new Hs},Js=ra.getStatEventTarget=function(){return qo()},Zs=ra.ErrorCode=Yo,ec=ra.EventType=$o,tc=ra.Event=Vo,nc=ra.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rc=ra.FetchXmlHttpFactory=as,ic=ra.WebChannel=eu,ac=ra.XhrIo=ds,oc="@firebase/firestore",uc=function(){function e(t){$n(this,e),this.uid=t}return Zn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();uc.UNAUTHENTICATED=new uc(null),uc.GOOGLE_CREDENTIALS=new uc("google-credentials-uid"),uc.FIRST_PARTY=new uc("first-party-uid"),uc.MOCK_USER=new uc("mock-user");var sc="9.18.0",cc=new Wr("@firebase/firestore");function lc(){return cc.logLevel}function fc(e){if(cc.logLevel<=Fr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pc);cc.debug.apply(cc,["Firestore (".concat(sc,"): ").concat(e)].concat(Yn(i)))}}function dc(e){if(cc.logLevel<=Fr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pc);cc.error.apply(cc,["Firestore (".concat(sc,"): ").concat(e)].concat(Yn(i)))}}function hc(e){if(cc.logLevel<=Fr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pc);cc.warn.apply(cc,["Firestore (".concat(sc,"): ").concat(e)].concat(Yn(i)))}}function pc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sc,") INTERNAL ASSERTION FAILED: ")+e;throw dc(t),new Error(t)}function mc(e,t){e||vc()}function yc(e,t){return e}var gc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bc=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Zn(n)}(gr),kc=Zn((function e(){var t=this;$n(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wc=Zn((function e(t,n){$n(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xc=function(){function e(){$n(this,e)}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ec=function(){function e(t){$n(this,e),this.token=t,this.changeListener=null}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Sc=function(){function e(t){$n(this,e),this.t=t,this.currentUser=uc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Zn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new kc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new kc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=a;e.enqueueRetryable(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){fc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(fc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kc)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mc("string"==typeof n.accessToken),new wc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mc(null===e||"string"==typeof e),new uc(e)}}]),e}(),_c=function(){function e(t,n,r,i){$n(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=uc.FIRST_PARTY,this.p=new Map}return Zn(e,[{key:"I",value:function(){return this.g?this.g():(mc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ic=function(){function e(t,n,r,i){$n(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(new _c(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tc=Zn((function e(t){$n(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cc=function(){function e(t){$n(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Zn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,fc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):fc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mc("string"==typeof t.token),e.A=t.token,new Tc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Rc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ac=function(){function e(){$n(this,e)}return Zn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Rc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Nc(e,t){return e<t?-1:e>t?1:0}function Dc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pc(e){return e+"\0"}var Oc=function(){function e(t,n){if($n(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bc(gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bc(gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Zn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Nc(this.nanoseconds,e.nanoseconds):Nc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Mc=function(){function e(t){$n(this,e),this.timestamp=t}return Zn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Oc(0,0))}},{key:"max",value:function(){return new e(new Oc(253402300799,999999999))}}]),e}(),Lc=function(){function e(t,n,r){$n(this,e),void 0===n?n=0:n>t.length&&vc(),void 0===r?r=t.length-n:r>t.length-n&&vc(),this.segments=t,this.offset=n,this.len=r}return Zn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Fc=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bc(gc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Yn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lc),jc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uc=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bc(gc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bc(gc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bc(gc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bc(gc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lc),Bc=function(){function e(t){$n(this,e),this.path=t}return Zn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Fc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Fc.fromString(t))}},{key:"fromName",value:function(t){return new e(Fc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Fc.emptyPath())}},{key:"comparator",value:function(e,t){return Fc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Fc(t.slice()))}}]),e}(),Vc=Zn((function e(t,n,r,i){$n(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zc(e){return e.fields.find((function(e){return 2===e.kind}))}function qc(e){return e.fields.filter((function(e){return 2!==e.kind}))}Vc.UNKNOWN_ID=-1;var Wc=Zn((function e(t,n){$n(this,e),this.fieldPath=t,this.kind=n}));var Kc=function(){function e(t,n){$n(this,e),this.sequenceNumber=t,this.offset=n}return Zn(e,null,[{key:"empty",value:function(){return new e(0,Qc.min())}}]),e}();function Hc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mc.fromTimestamp(1e9===r?new Oc(n+1,0):new Oc(n,r));return new Qc(i,Bc.empty(),t)}function Gc(e){return new Qc(e.readTime,e.key,-1)}var Qc=function(){function e(t,n,r){$n(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Zn(e,null,[{key:"min",value:function(){return new e(Mc.min(),Bc.empty(),-1)}},{key:"max",value:function(){return new e(Mc.max(),Bc.empty(),-1)}}]),e}();function Xc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Bc.comparator(e.documentKey,t.documentKey))?n:Nc(e.largestBatchId,t.largestBatchId)}var Yc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$c=function(){function e(){$n(this,e),this.onCommittedListeners=[]}return Zn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jc(e){return Zc.apply(this,arguments)}function Zc(){return Zc=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gc.FAILED_PRECONDITION&&t.message===Yc){e.next=2;break}throw t;case 2:fc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}var el=function(){function e(t){var n=this;$n(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Zn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Kn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),tl=function(){function e(t,n){var r=this;$n(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new kc,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new il(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=cl(e.target.error);r.P.reject(new il(t,n))}}return Zn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(fc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ol(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new il(n,t)}}}]),e}(),nl=function(){function e(t,n,r){$n(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(dr())&&dc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Zn(e,[{key:"O",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new il(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bc(gc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new bc(gc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new il(t,n))},i.onupgradeneeded=function(e){fc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.F(t,i.transaction,e.oldVersion,n.version).next((function(){fc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s,c,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,u=0,s=o().mark((function e(){var n,s,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++u,e.prev=1,e.next=4,l.O(t);case 4:return l.db=e.sent,n=tl.open(l.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),el.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&u<3,fc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fc("SimpleDb","Removing database:",e),ul(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!yr())return!1;if(e.N())return!0;var t=dr(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",REACT_APP_FIREBASE_APP_ID:"1:790402549965:web:62e8eec1b35c868bb54184",REACT_APP_FIREBASE_AUTH_DOMAIN:"firechat-60a6c.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"790402549965",REACT_APP_FIREBASE_PROJECT_ID:"firechat-60a6c",REACT_APP_FIREBASE_STORAGE_BUCKET:"firechat-60a6c.appspot.com"})||void 0===e?void 0:e.$)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rl=function(){function e(t){$n(this,e),this.q=t,this.U=!1,this.K=null}return Zn(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return ul(this.q.delete())}}]),e}(),il=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,gc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Zn(n)}(bc);function al(e){return"IndexedDbTransactionError"===e.name}var ol=function(){function e(t){$n(this,e),this.store=t}return Zn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ul(n)}},{key:"add",value:function(e){return fc("SimpleDb","ADD",this.store.name,e,e),ul(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ul(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fc("SimpleDb","DELETE",this.store.name,e),ul(this.store.delete(e))}},{key:"count",value:function(){return fc("SimpleDb","COUNT",this.store.name),ul(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new el((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new el((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){fc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new el((function(n,r){t.onerror=function(e){var t=cl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new el((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new rl(i),o=t(i.primaryKey,i.value,a);if(o instanceof el){var u=o.catch((function(e){return a.done(),el.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return el.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ul(e){return new el((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=cl(e.target.error);n(t)}}))}var sl=!1;function cl(e){var t=nl.D(dr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new bc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sl||(sl=!0,setTimeout((function(){throw r}),0)),r}}return e}var ll=function(){function e(t,n){$n(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Zn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;fc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=fc,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!al(e.t4)){e.next=17;break}fc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Jc(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),fl=function(){function e(t,n){$n(this,e),this.localStore=t,this.persistence=n}return Zn(e,[{key:"st",value:function(){var e=s(o().mark((function e(){var t,n=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return el.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return fc("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return fc("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Gc(t);Xc(r,n)>0&&(n=r)})),new Qc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),dl=function(){function e(t,n){var r=this;$n(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Zn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();dl.at=-1;var hl=Zn((function e(t,n,r,i,a,o,u,s){$n(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),pl=function(){function e(t,n){$n(this,e),this.projectId=t,this.database=n||"(default)"}return Zn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function vl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ml(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gl(e){return null==e}function bl(e){return 0===e&&1/e==-1/0}function kl(e){return"number"==typeof e&&Number.isInteger(e)&&!bl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wl=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Zn(n)}(Wn(Error));var xl=function(e){function t(e){$n(this,t),this.binaryString=e}return Zn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Nc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new wl("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();xl.EMPTY_BYTE_STRING=new xl("");var El=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sl(e){if(mc(!!e),"string"==typeof e){var t=0,n=El.exec(e);if(mc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_l(e.seconds),nanos:_l(e.nanos)}}function _l(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Il(e){return"string"==typeof e?xl.fromBase64String(e):xl.fromUint8Array(e)}function Tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(e){var t=e.mapValue.fields.__previous_value__;return Tl(t)?Cl(t):t}function Rl(e){var t=Sl(e.mapValue.fields.__local_write_time__.timestampValue);return new Oc(t.seconds,t.nanos)}var Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nl={nullValue:"NULL_VALUE"};function Dl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tl(e)?4:Hl(e)?9007199254740991:10:vc()}function Pl(e,t){if(e===t)return!0;var n=Dl(e);if(n!==Dl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rl(e).isEqual(Rl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sl(e.timestampValue),r=Sl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Il(e.bytesValue).isEqual(Il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _l(e.geoPointValue.latitude)===_l(t.geoPointValue.latitude)&&_l(e.geoPointValue.longitude)===_l(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _l(e.integerValue)===_l(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_l(e.doubleValue),r=_l(t.doubleValue);return n===r?bl(n)===bl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dc(e.arrayValue.values||[],t.arrayValue.values||[],Pl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vl(n)!==vl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pl(n[i],r[i])))return!1;return!0}(e,t);default:return vc()}}function Ol(e,t){return void 0!==(e.values||[]).find((function(e){return Pl(e,t)}))}function Ml(e,t){if(e===t)return 0;var n=Dl(e),r=Dl(t);if(n!==r)return Nc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_l(e.integerValue||e.doubleValue),r=_l(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ll(e.timestampValue,t.timestampValue);case 4:return Ll(Rl(e),Rl(t));case 5:return Nc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Il(e),r=Il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Nc(n[i],r[i]);if(0!==a)return a}return Nc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Nc(_l(e.latitude),_l(t.latitude));return 0!==n?n:Nc(_l(e.longitude),_l(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ml(n[i],r[i]);if(a)return a}return Nc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Al.mapValue&&t===Al.mapValue)return 0;if(e===Al.mapValue)return 1;if(t===Al.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Nc(r[o],a[o]);if(0!==u)return u;var s=Ml(n[r[o]],i[a[o]]);if(0!==s)return s}return Nc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vc()}}function Ll(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nc(e,t);var n=Sl(e),r=Sl(t),i=Nc(n.seconds,r.seconds);return 0!==i?i:Nc(n.nanos,r.nanos)}function Fl(e){return jl(e)}function jl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Il(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Kn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=jl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Kn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(jl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vc();var t,n}function Ul(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Bl(e){return!!e&&"integerValue"in e}function Vl(e){return!!e&&"arrayValue"in e}function zl(e){return!!e&&"nullValue"in e}function ql(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wl(e){return!!e&&"mapValue"in e}function Kl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ml(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Kl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Kl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Hl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gl(e){return"nullValue"in e?Nl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ul(pl.empty(),Bc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vc()}function Ql(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ul(pl.empty(),Bc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Al:vc()}function Xl(e,t){var n=Ml(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Yl(e,t){var n=Ml(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var $l=Zn((function e(t,n){$n(this,e),this.position=t,this.inclusive=n}));function Jl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Bc.comparator(Bc.fromName(o.referenceValue),n.key):Ml(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pl(e.position[n],t.position[n]))return!1;return!0}var ef=Zn((function e(){$n(this,e)})),tf=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ml(t,this.value)):null!==t&&Dl(this.value)===Dl(t)&&this.matchesComparison(Ml(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vc()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new df(e,t,r):"array-contains"===t?new mf(e,r):"in"===t?new yf(e,r):"not-in"===t?new gf(e,r):"array-contains-any"===t?new bf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new hf(e,n):new pf(e,n)}}]),n}(ef),nf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Zn(n,[{key:"matches",value:function(e){return rf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Kn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ef);function rf(e){return"and"===e.op}function af(e){return"or"===e.op}function of(e){return uf(e)&&rf(e)}function uf(e){var t,n=Kn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof nf)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function sf(e){if(e instanceof tf)return e.field.canonicalString()+e.op.toString()+Fl(e.value);if(of(e))return e.filters.map((function(e){return sf(e)})).join(",");var t=e.filters.map((function(e){return sf(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function cf(e,t){return e instanceof tf?function(e,t){return t instanceof tf&&e.op===t.op&&e.field.isEqual(t.field)&&Pl(e.value,t.value)}(e,t):e instanceof nf?function(e,t){return t instanceof nf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&cf(n,t.filters[r])}),!0)}(e,t):void vc()}function lf(e,t){var n=e.filters.concat(t);return nf.create(n,e.op)}function ff(e){return e instanceof tf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fl(e.value))}(e):e instanceof nf?function(e){return e.op.toString()+" {"+e.getFilters().map(ff).join(" ,")+"}"}(e):"Filter"}var df=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this,e,r,i)).key=Bc.fromName(i.referenceValue),a}return Zn(n,[{key:"matches",value:function(e){var t=Bc.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(tf),hf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,"in",r)).keys=vf("in",r),i}return Zn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tf),pf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,"not-in",r)).keys=vf("not-in",r),i}return Zn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(tf);function vf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bc.fromName(e.referenceValue)}))}var mf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"array-contains",r)}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vl(t)&&Ol(t.arrayValue,this.value)}}]),n}(tf),yf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"in",r)}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ol(this.value.arrayValue,t)}}]),n}(tf),gf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"not-in",r)}return Zn(n,[{key:"matches",value:function(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ol(this.value.arrayValue,t)}}]),n}(tf),bf=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"array-contains-any",r)}return Zn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ol(t.value.arrayValue,e)}))}}]),n}(tf),kf=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";$n(this,e),this.field=t,this.dir=n}));function wf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var xf=function(){function e(t,n){$n(this,e),this.comparator=t,this.root=n||Sf.EMPTY}return Zn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ef(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ef(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ef(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ef(this.root,e,this.comparator,!0)}}]),e}(),Ef=function(){function e(t,n,r,i){$n(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Zn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sf=function(){function e(t,n,r,i,a){$n(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Zn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vc();if(this.right.isRed())throw vc();var e=this.left.check();if(e!==this.right.check())throw vc();return e+(this.isRed()?0:1)}}]),e}();Sf.EMPTY=null,Sf.RED=!0,Sf.BLACK=!1,Sf.EMPTY=new(function(){function e(){$n(this,e),this.size=0}return Zn(e,[{key:"key",get:function(){throw vc()}},{key:"value",get:function(){throw vc()}},{key:"color",get:function(){throw vc()}},{key:"left",get:function(){throw vc()}},{key:"right",get:function(){throw vc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _f=function(){function e(t){$n(this,e),this.comparator=t,this.data=new xf(this.comparator)}return Zn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new If(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new If(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),If=function(){function e(t){$n(this,e),this.iter=t}return Zn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Tf(e){return e.hasNext()?e.getNext():void 0}var Cf=function(){function e(t){$n(this,e),this.fields=t,t.sort(Uc.comparator)}return Zn(e,[{key:"unionWith",value:function(t){var n,r=new _f(Uc.comparator),i=Kn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Kn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Kn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Dc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Rf=function(){function e(t){$n(this,e),this.value=t}return Zn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}},{key:"setAll",value:function(e){var t=this,n=Uc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Kl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ml(t,(function(t,n){return e[t]=n}));var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Kl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Af(e){var t=[];return ml(e.fields,(function(e,n){var r=new Uc([e]);if(Wl(n)){var i=Af(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Kn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Cf(t)}var Nf=function(){function e(t,n,r,i,a,o,u){$n(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Zn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Mc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Mc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Mc.min(),Mc.min(),Mc.min(),Rf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Mc.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Mc.min(),Mc.min(),Rf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Mc.min(),Mc.min(),Rf.empty(),2)}}]),e}(),Df=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;$n(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Pf(e){return new Df(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Of(e){var t=yc(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return sf(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fl(e)})).join(",")),t._t=n}return t._t}function Mf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!cf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zl(e.startAt,t.startAt)&&Zl(e.endAt,t.endAt)}function Lf(e){return Bc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ff(e,t){return e.filters.filter((function(e){return e instanceof tf&&e.field.isEqual(t)}))}function jf(e,t,n){var r,i=Nl,a=!0,o=Kn(Ff(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Nl,c=!0;switch(u.op){case"<":case"<=":s=Gl(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Nl}Xl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Uf(e,t,n){var r,i=Al,a=!0,o=Kn(Ff(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Al,c=!0;switch(u.op){case">=":case">":s=Ql(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Al}Yl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Bf=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;$n(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function Vf(e,t,n,r,i,a,o,u){return new Bf(e,t,n,r,i,a,o,u)}function zf(e){return new Bf(e)}function qf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kf(e){var t,n=Kn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Hf(e){return null!==e.collectionGroup}function Gf(e){var t=yc(e);if(null===t.wt){t.wt=[];var n=Kf(t),r=Wf(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new kf(n)),t.wt.push(new kf(Uc.keyField(),"asc"));else{var i,a=!1,o=Kn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new kf(Uc.keyField(),s))}}}return t.wt}function Qf(e){var t=yc(e);if(!t.gt)if("F"===t.limitType)t.gt=Pf(t.path,t.collectionGroup,Gf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Kn(Gf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new kf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new $l(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $l(t.startAt.position,t.startAt.inclusive):null;t.gt=Pf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function Xf(e,t){t.getFirstInequalityField(),Kf(e);var n=e.filters.concat([t]);return new Bf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yf(e,t,n){return new Bf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $f(e,t){return Mf(Qf(e),Qf(t))&&e.limitType===t.limitType}function Jf(e){return"".concat(Of(Qf(e)),"|lt:").concat(e.limitType)}function Zf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ff(e)})).join(", "),"]")),gl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fl(e)})).join(",")),"Target(".concat(t,")")}(Qf(e)),"; limitType=").concat(e.limitType,")")}function ed(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Kn(Gf(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Kn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Jl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Jl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gf(e),t))}(e,t)}function td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nd(e){return function(t,n){var r,i=!1,a=Kn(Gf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=rd(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function rd(e,t,n){var r=e.field.isKeyField()?Bc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ml(r,i):vc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vc()}}function id(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(t)?"-0":t}}function ad(e){return{integerValue:""+e}}function od(e,t){return kl(t)?ad(t):id(e,t)}var ud=Zn((function e(){$n(this,e),this._=void 0}));function sd(e,t,n){return e instanceof fd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dd?hd(e,t):e instanceof pd?vd(e,t):function(e,t){var n=ld(e,t),r=yd(n)+yd(e.It);return Bl(n)&&Bl(e.It)?ad(r):id(e.Tt,r)}(e,t)}function cd(e,t,n){return e instanceof dd?hd(e,t):e instanceof pd?vd(e,t):n}function ld(e,t){return e instanceof md?Bl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var fd=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n)}(ud),dd=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).elements=e,r}return Zn(n)}(ud);function hd(e,t){var n,r=gd(t),i=Kn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Pl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pd=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).elements=e,r}return Zn(n)}(ud);function vd(e,t){var n,r=gd(t),i=Kn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Pl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var md=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Zn(n)}(ud);function yd(e){return _l(e.integerValue||e.doubleValue)}function gd(e){return Vl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bd=Zn((function e(t,n){$n(this,e),this.field=t,this.transform=n}));var kd=Zn((function e(t,n){$n(this,e),this.version=t,this.transformResults=n})),wd=function(){function e(t,n){$n(this,e),this.updateTime=t,this.exists=n}return Zn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function xd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ed=Zn((function e(){$n(this,e)}));function Sd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ld(e.key,wd.none()):new Rd(e.key,e.data,wd.none());var n,r=e.data,i=Rf.empty(),a=new _f(Uc.comparator),o=Kn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Ad(e.key,i,new Cf(a.toArray()),wd.none())}function _d(e,t,n){e instanceof Rd?function(e,t,n){var r=e.value.clone(),i=Dd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ad?function(e,t,n){if(xd(e.precondition,t)){var r=Dd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Id(e,t,n,r){return e instanceof Rd?function(e,t,n,r){if(!xd(e.precondition,t))return n;var i=e.value.clone(),a=Pd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ad?function(e,t,n,r){if(!xd(e.precondition,t))return n;var i=Pd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Nd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return xd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Td(e,t){var n,r=null,i=Kn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ld(a.transform,o||null);null!=u&&(null===r&&(r=Rf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Cd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dd&&t instanceof dd||e instanceof pd&&t instanceof pd?Dc(e.elements,t.elements,Pl):e instanceof md&&t instanceof md?Pl(e.It,t.It):e instanceof fd&&t instanceof fd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rd=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return $n(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),Ad=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return $n(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Zn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ed);function Nd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dd(e,t,n){var r=new Map;mc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,cd(o,u,n[i]))}return r}function Pd(e,t,n){var r,i=new Map,a=Kn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,sd(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Od,Md,Ld=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),Fd=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Zn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ed),jd=Zn((function e(t){$n(this,e),this.count=t}));function Ud(e){switch(e){default:return vc();case gc.CANCELLED:case gc.UNKNOWN:case gc.DEADLINE_EXCEEDED:case gc.RESOURCE_EXHAUSTED:case gc.INTERNAL:case gc.UNAVAILABLE:case gc.UNAUTHENTICATED:return!1;case gc.INVALID_ARGUMENT:case gc.NOT_FOUND:case gc.ALREADY_EXISTS:case gc.PERMISSION_DENIED:case gc.FAILED_PRECONDITION:case gc.ABORTED:case gc.OUT_OF_RANGE:case gc.UNIMPLEMENTED:case gc.DATA_LOSS:return!0}}function Bd(e){if(void 0===e)return dc("GRPC error has no .code"),gc.UNKNOWN;switch(e){case Od.OK:return gc.OK;case Od.CANCELLED:return gc.CANCELLED;case Od.UNKNOWN:return gc.UNKNOWN;case Od.DEADLINE_EXCEEDED:return gc.DEADLINE_EXCEEDED;case Od.RESOURCE_EXHAUSTED:return gc.RESOURCE_EXHAUSTED;case Od.INTERNAL:return gc.INTERNAL;case Od.UNAVAILABLE:return gc.UNAVAILABLE;case Od.UNAUTHENTICATED:return gc.UNAUTHENTICATED;case Od.INVALID_ARGUMENT:return gc.INVALID_ARGUMENT;case Od.NOT_FOUND:return gc.NOT_FOUND;case Od.ALREADY_EXISTS:return gc.ALREADY_EXISTS;case Od.PERMISSION_DENIED:return gc.PERMISSION_DENIED;case Od.FAILED_PRECONDITION:return gc.FAILED_PRECONDITION;case Od.ABORTED:return gc.ABORTED;case Od.OUT_OF_RANGE:return gc.OUT_OF_RANGE;case Od.UNIMPLEMENTED:return gc.UNIMPLEMENTED;case Od.DATA_LOSS:return gc.DATA_LOSS;default:return vc()}}(Md=Od||(Od={}))[Md.OK=0]="OK",Md[Md.CANCELLED=1]="CANCELLED",Md[Md.UNKNOWN=2]="UNKNOWN",Md[Md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Md[Md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Md[Md.NOT_FOUND=5]="NOT_FOUND",Md[Md.ALREADY_EXISTS=6]="ALREADY_EXISTS",Md[Md.PERMISSION_DENIED=7]="PERMISSION_DENIED",Md[Md.UNAUTHENTICATED=16]="UNAUTHENTICATED",Md[Md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Md[Md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Md[Md.ABORTED=10]="ABORTED",Md[Md.OUT_OF_RANGE=11]="OUT_OF_RANGE",Md[Md.UNIMPLEMENTED=12]="UNIMPLEMENTED",Md[Md.INTERNAL=13]="INTERNAL",Md[Md.UNAVAILABLE=14]="UNAVAILABLE",Md[Md.DATA_LOSS=15]="DATA_LOSS";var Vd=function(){function e(t,n){$n(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Zn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ml(this.inner,(function(t,n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return yl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zd=new xf(Bc.comparator);function qd(){return zd}var Wd=new xf(Bc.comparator);function Kd(){for(var e=Wd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Hd(e){var t=Wd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Gd(){return Xd()}function Qd(){return Xd()}function Xd(){return new Vd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Yd=new xf(Bc.comparator),$d=new _f(Bc.comparator);function Jd(){for(var e=$d,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Zd=new _f(Nc);function eh(){return Zd}var th=function(){function e(t,n,r,i,a){$n(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Zn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,nh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Mc.min(),i,eh(),qd(),Jd())}}]),e}(),nh=function(){function e(t,n,r,i,a){$n(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Zn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Jd(),Jd(),Jd())}}]),e}(),rh=Zn((function e(t,n,r,i){$n(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),ih=Zn((function e(t,n){$n(this,e),this.targetId=t,this.Rt=n})),ah=Zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$n(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),oh=function(){function e(){$n(this,e),this.Pt=0,this.vt=ch(),this.bt=xl.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Zn(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=Jd(),t=Jd(),n=Jd();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vc()}})),new nh(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=ch()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),uh=function(){function e(t){$n(this,e),this.Lt=t,this.qt=new Map,this.Ut=qd(),this.Kt=sh(),this.Gt=new _f(Nc)}return Zn(e,[{key:"Qt",value:function(e){var t,n=Kn(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=Kn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:vc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Lf(i))if(0===n){var a=new Bc(i.path);this.zt(t,a,Nf.newNoDocument(a,Mc.min()))}else mc(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Lf(a.target)){var o=new Bc(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Nf.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Jd();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new th(e,n,this.Gt,this.Ut,r);return this.Ut=qd(),this.Kt=sh(),this.Gt=new _f(Nc),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new oh,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new _f(Nc),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||fc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new oh),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function sh(){return new xf(Bc.comparator)}function ch(){return new xf(Bc.comparator)}var lh={asc:"ASCENDING",desc:"DESCENDING"},fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dh={and:"AND",or:"OR"},hh=Zn((function e(t,n){$n(this,e),this.databaseId=t,this.yt=n}));function ph(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vh(e,t){return e.yt?t.toBase64():t.toUint8Array()}function mh(e,t){return ph(e,t.toTimestamp())}function yh(e){return mc(!!e),Mc.fromTimestamp(function(e){var t=Sl(e);return new Oc(t.seconds,t.nanos)}(e))}function gh(e,t){return function(e){return new Fc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bh(e){var t=Fc.fromString(e);return mc(zh(t)),t}function kh(e,t){return gh(e.databaseId,t.path)}function wh(e,t){var n=bh(t);if(n.get(1)!==e.databaseId.projectId)throw new bc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bc(gc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bc(_h(n))}function xh(e,t){return gh(e.databaseId,t)}function Eh(e){var t=bh(e);return 4===t.length?Fc.emptyPath():_h(t)}function Sh(e){return new Fc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _h(e){return mc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ih(e,t,n){return{name:kh(e,t),fields:n.value.mapValue.fields}}function Th(e,t,n){var r=wh(e,t.name),i=yh(t.updateTime),a=t.createTime?yh(t.createTime):Mc.min(),o=new Rf({mapValue:{fields:t.fields}}),u=Nf.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Ch(e,t){return"found"in t?function(e,t){mc(!!t.found),t.found.name,t.found.updateTime;var n=wh(e,t.found.name),r=yh(t.found.updateTime),i=t.found.createTime?yh(t.found.createTime):Mc.min(),a=new Rf({mapValue:{fields:t.found.fields}});return Nf.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){mc(!!t.missing),mc(!!t.readTime);var n=wh(e,t.missing),r=yh(t.readTime);return Nf.newNoDocument(n,r)}(e,t):vc()}function Rh(e,t){var n;if(t instanceof Rd)n={update:Ih(e,t.key,t.value)};else if(t instanceof Ld)n={delete:kh(e,t.key)};else if(t instanceof Ad)n={update:Ih(e,t.key,t.data),updateMask:Vh(t.fieldMask)};else{if(!(t instanceof Fd))return vc();n={verify:kh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof fd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof md)return{fieldPath:t.field.canonicalString(),increment:n.It};throw vc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vc()}(e,t.precondition)),n}function Ah(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?wd.updateTime(yh(e.updateTime)):void 0!==e.exists?wd.exists(e.exists):wd.none()}(t.currentDocument):wd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)mc("REQUEST_TIME"===t.setToServerValue),n=new fd;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new dd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new pd(i)}else"increment"in t?n=new md(e,t.increment):vc();var a=Uc.fromServerFormat(t.fieldPath);return new bd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wh(e,t.update.name),a=new Rf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cf(t.map((function(e){return Uc.fromServerFormat(e)})))}(t.updateMask);return new Ad(i,a,o,n,r)}return new Rd(i,a,n,r)}if(t.delete){var u=wh(e,t.delete);return new Ld(u,n)}if(t.verify){var s=wh(e,t.verify);return new Fd(s,n)}return vc()}function Nh(e,t){return{documents:[xh(e,t.path)]}}function Dh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Bh(nf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jh(e.field),direction:Mh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||gl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ph(e){var t=Eh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Oh(e);return t instanceof nf&&of(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new kf(Uh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new $l(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new $l(n,t)}(n.endAt)),Vf(t,i,u,o,s,"F",c,l)}function Oh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Uh(e.unaryFilter.field);return tf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Uh(e.unaryFilter.field);return tf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Uh(e.unaryFilter.field);return tf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Uh(e.unaryFilter.field);return tf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vc()}}(e):void 0!==e.fieldFilter?function(e){return tf.create(Uh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nf.create(e.compositeFilter.filters.map((function(e){return Oh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vc()}}(e.compositeFilter.op))}(e):vc()}function Mh(e){return lh[e]}function Lh(e){return fh[e]}function Fh(e){return dh[e]}function jh(e){return{fieldPath:e.canonicalString()}}function Uh(e){return Uc.fromServerFormat(e.fieldPath)}function Bh(e){return e instanceof tf?function(e){if("=="===e.op){if(ql(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NAN"}};if(zl(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ql(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NAN"}};if(zl(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(e.field),op:Lh(e.op),value:e.value}}}(e):e instanceof nf?function(e){var t=e.getFilters().map((function(e){return Bh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Fh(e.op),filters:t}}}(e):vc()}function Vh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function zh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kh(t)),t=Wh(e.get(n),t);return Kh(t)}function Wh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kh(e){return e+"\x01\x01"}function Hh(e){var t=e.length;if(mc(t>=2),2===t)return mc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Fc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vc()}a=o+2}return new Fc(r)}var Gh=["userId","batchId"];function Qh(e,t){return[e,qh(t)]}function Xh(e,t,n){return[e,qh(t),n]}var Yh={},$h=["prefixPath","collectionGroup","readTime","documentId"],Jh=["prefixPath","collectionGroup","documentId"],Zh=["collectionGroup","readTime","prefixPath","documentId"],ep=["canonicalId","targetId"],tp=["targetId","path"],np=["path","targetId"],rp=["collectionId","parent"],ip=["indexId","uid"],ap=["uid","sequenceNumber"],op=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],up=["indexId","uid","orderedDocumentKey"],sp=["userId","collectionPath","documentId"],cp=["userId","collectionPath","largestBatchId"],lp=["userId","collectionGroup","largestBatchId"],fp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),dp=[].concat(Yn(fp),["documentOverlays"]),hp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pp=hp,vp=[].concat(pp,["indexConfiguration","indexState","indexEntries"]),mp=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return Zn(n)}($c);function yp(e,t){var n=yc(e);return nl.M(n.re,t)}var gp=function(){function e(t,n,r,i){$n(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Zn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_d(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Kn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Id(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Kn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Id(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Qd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Sd(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Mc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Jd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(function(e,t){return Cd(e,t)}))&&Dc(this.baseMutations,e.baseMutations,(function(e,t){return Cd(e,t)}))}}]),e}(),bp=function(){function e(t,n,r,i){$n(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Zn(e,null,[{key:"from",value:function(t,n,r){mc(t.mutations.length===r.length);for(var i=Yd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kp=function(){function e(t,n){$n(this,e),this.largestBatchId=t,this.mutation=n}return Zn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),wp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xl.EMPTY_BYTE_STRING;$n(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Zn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),xp=Zn((function e(t){$n(this,e),this.oe=t}));function Ep(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:kh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ph(e,t.version.toTimestamp()),createTime:ph(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_p(t.version)};else{if(!t.isUnknownDocument())return vc();r.unknownDocument={path:n.path.toArray(),version:_p(t.version)}}return r}function Sp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _p(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ip(e){var t=new Oc(e.seconds,e.nanoseconds);return Mc.fromTimestamp(t)}function Tp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ah(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ah(e.oe,t)})),u=Oc.fromMillis(t.localWriteTimeMs);return new gp(t.batchId,u,n,o)}function Cp(e){var t,n,r=Ip(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ip(e.lastLimboFreeSnapshotVersion):Mc.min();return void 0!==e.query.documents?(mc(1===(n=e.query).documents.length),t=Qf(zf(Eh(n.documents[0])))):t=function(e){return Qf(Ph(e))}(e.query),new wp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xl.fromBase64String(e.resumeToken))}function Rp(e,t){var n,r=_p(t.snapshotVersion),i=_p(t.lastLimboFreeSnapshotVersion);n=Lf(t.target)?Nh(e.oe,t.target):Dh(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Of(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ap(e){var t=Ph({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yf(t,t.limit,"L"):t}function Np(e,t){return new kp(t.largestBatchId,Ah(e.oe,t.overlayMutation))}function Dp(e,t){var n=t.path.lastSegment();return[e,qh(t.path.popLast()),n]}function Pp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:_p(r.readTime),documentKey:qh(r.documentKey.path),largestBatchId:r.largestBatchId}}var Op=function(){function e(){$n(this,e)}return Zn(e,[{key:"getBundleMetadata",value:function(e,t){return Mp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ip(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Mp(e).put({bundleId:(n=t).id,createTime:_p(yh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Lp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ap(t.bundledQuery),readTime:Ip(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Lp(e).put(function(e){return{name:e.name,readTime:_p(yh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Mp(e){return yp(e,"bundles")}function Lp(e){return yp(e,"namedQueries")}var Fp=function(){function e(t,n){$n(this,e),this.Tt=t,this.userId=n}return Zn(e,[{key:"getOverlay",value:function(e,t){var n=this;return jp(e).get(Dp(this.userId,t)).next((function(e){return e?Np(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Gd();return el.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new kp(t,a);i.push(r.ce(e,o))})),el.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(qh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(jp(e).Y("collectionPathOverlayIndex",i))})),el.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Gd(),a=qh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return jp(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Np(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Gd(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jp(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Np(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return jp(e).put(function(e,t,n){var r=h(Dp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rh(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function jp(e){return yp(e,"documentOverlays")}var Up=function(){function e(){$n(this,e)}return Zn(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(_l(e.integerValue));else if("doubleValue"in e){var n=_l(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),bl(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Il(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Hl(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):vc()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Bc.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function Bp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Vp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Up.Ee=new Up;var zp=function(){function e(){$n(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Zn(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"De",value:function(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=Vp(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=Vp(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$e",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),qp=function(){function e(t){$n(this,e),this.Le=t}return Zn(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.$e()}}]),e}(),Wp=function(){function e(t){$n(this,e),this.Le=t}return Zn(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),Kp=function(){function e(){$n(this,e),this.Le=new zp,this.qe=new qp(this.Le),this.Ue=new Wp(this.Le)}return Zn(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),Hp=function(){function e(t,n,r,i){$n(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Zn(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Gp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Qp(e.arrayValue,t.arrayValue))?n:0!==(n=Qp(e.directionalValue,t.directionalValue))?n:Bc.comparator(e.documentKey,t.documentKey)}function Qp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xp=function(){function e(t){$n(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=Kn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Zn(e,[{key:"We",value:function(e){mc(e.collectionGroup===this.collectionId);var t=zc(e);if(void 0!==t&&!this.He(t))return!1;for(var n=qc(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=Kn(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Yp(e){var t,n;if(mc(e instanceof tf||e instanceof nf),e instanceof tf){if(e instanceof yf){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return tf.create(e.field,"==",t)})))||[];return nf.create(r,"or")}return e}var i=e.filters.map((function(e){return Yp(e)}));return nf.create(i,e.op)}function $p(e){if(0===e.getFilters().length)return[];var t=tv(Yp(e));return mc(ev(t)),Jp(t)||Zp(t)?[t]:t.getFilters()}function Jp(e){return e instanceof tf}function Zp(e){return e instanceof nf&&of(e)}function ev(e){return Jp(e)||Zp(e)||function(e){if(e instanceof nf&&af(e)){var t,n=Kn(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Jp(r)&&!Zp(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function tv(e){if(mc(e instanceof tf||e instanceof nf),e instanceof tf)return e;if(1===e.filters.length)return tv(e.filters[0]);var t=e.filters.map((function(e){return tv(e)})),n=nf.create(t,e.op);return ev(n=iv(n))?n:(mc(n instanceof nf),mc(rf(n)),mc(n.filters.length>1),n.filters.reduce((function(e,t){return nv(e,t)})))}function nv(e,t){var n;return mc(e instanceof tf||e instanceof nf),mc(t instanceof tf||t instanceof nf),n=e instanceof tf?t instanceof tf?function(e,t){return nf.create([e,t],"and")}(e,t):rv(e,t):t instanceof tf?rv(t,e):function(e,t){if(mc(e.filters.length>0&&t.filters.length>0),rf(e)&&rf(t))return lf(e,t.getFilters());var n=af(e)?e:t,r=af(e)?t:e,i=n.filters.map((function(e){return nv(e,r)}));return nf.create(i,"or")}(e,t),iv(n)}function rv(e,t){if(rf(t))return lf(t,e.getFilters());var n=t.filters.map((function(t){return nv(e,t)}));return nf.create(n,"or")}function iv(e){if(mc(e instanceof tf||e instanceof nf),e instanceof tf)return e;var t=e.getFilters();if(1===t.length)return iv(t[0]);if(uf(e))return e;var n=t.map((function(e){return iv(e)})),r=[];return n.forEach((function(t){t instanceof tf?r.push(t):t instanceof nf&&(t.op===e.op?r.push.apply(r,Yn(t.filters)):r.push(t))})),1===r.length?r[0]:nf.create(r,e.op)}var av=function(){function e(){$n(this,e),this.Ze=new ov}return Zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),el.resolve()}},{key:"getCollectionParents",value:function(e,t){return el.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return el.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return el.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return el.resolve(null)}},{key:"getIndexType",value:function(e,t){return el.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return el.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return el.resolve(null)}},{key:"getMinOffset",value:function(e,t){return el.resolve(Qc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return el.resolve(Qc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return el.resolve()}},{key:"updateIndexEntries",value:function(e,t){return el.resolve()}}]),e}(),ov=function(){function e(){$n(this,e),this.index={}}return Zn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _f(Fc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _f(Fc.comparator)).toArray()}}]),e}(),uv=new Uint8Array(0),sv=function(){function e(t,n){$n(this,e),this.user=t,this.databaseId=n,this.Xe=new ov,this.tn=new Vd((function(e){return Of(e)}),(function(e,t){return Mf(e,t)})),this.uid=t.uid||""}return Zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:qh(i)};return cv(e).put(a)}return el.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pc(t),""],!1,!0);return cv(e).W(r).next((function(e){var r,i=Kn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Hh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=fv(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=dv(e);return a.next((function(e){o.put(Pp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=fv(e),r=dv(e),i=lv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=lv(e),i=!0,a=new Map;return el.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Jd(),o=[];return el.forEach(a,(function(i,a){var u;fc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Of(t)));var s=function(e,t){var n=zc(t);if(void 0===n)return null;var r,i=Kn(Ff(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Kn(qc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Kn(Ff(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Kn(qc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?jf(e,o.fieldPath,e.startAt):Uf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new $l(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Kn(qc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Uf(e,o.fieldPath,e.endAt):jf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new $l(r,i)}(a,i),d=n.sn(i,a,l),h=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return el.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Bc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return el.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:$p(nf.create(e.filters,"and")).map((function(t){return Pf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[d/c]):uv,f=u.cn(e,s,n[d%c],r),h=u.an(e,s,i[d%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,Yn(u.createRange(f,h,p)))},d=0;d<s;++d)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new Hp(e,Bc.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new Hp(e,Bc.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new Xp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return el.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new _f(Uc.comparator),r=!1,i=Kn(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Kn(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Kn(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new Kp,i=Kn(qc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);Up.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new Kp;return Up.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new Kp;return Up.Ee.ae(Ul(this.databaseId,t),n.Ke(function(e){var t=qc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Kp);var i,a=0,o=Kn(qc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Kn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&Vl(c))r=this.dn(r,s,c);else{var d=f.Ke(s.kind);Up.Ee.ae(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=Yn(e),a=[],o=Kn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Kn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Kp;f.seed(l.Be()),Up.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof tf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=fv(e),i=dv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return el.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Kc(t.sequenceNumber,new Qc(Ip(t.readTime),new Bc(Hh(t.documentKey)),t.largestBatchId)):Kc.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new Wc(Uc.fromServerFormat(n),r)}));return new Vc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Nc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=fv(e),a=dv(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return el.forEach(t,(function(t){return a.put(Pp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return el.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?el.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),el.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?el.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return lv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return lv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=lv(e),i=new _f(Gp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new Hp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new _f(Gp),r=this.hn(t,e);if(null==r)return n;var i=zc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Vl(a)){var o,u=Kn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Hp(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Hp(t.indexId,e.key,uv,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;fc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Tf(a),s=Tf(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Tf(o)):l?(i(u),u=Tf(a)):(u=Tf(a),s=Tf(o))}}(r,i,Gp,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),el.waitFor(o)}},{key:"wn",value:function(e){var t=1;return dv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Gp(e,t)})).filter((function(e,t,n){return!t||0!==Gp(e,n[t-1])}));var r=[];r.push(e);var i,a=Kn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Gp(o,e),s=Gp(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,uv,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,uv,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Tn",value:function(e,t){return Gp(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(hv)}},{key:"getMinOffset",value:function(e,t){var n=this;return el.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||vc()}))})).next(hv)}}]),e}();function cv(e){return yp(e,"collectionParents")}function lv(e){return yp(e,"indexEntries")}function fv(e){return yp(e,"indexConfiguration")}function dv(e){return yp(e,"indexState")}function hv(e){mc(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Xc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qc(t.readTime,t.documentKey,n)}var pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vv=function(){function e(t,n,r){$n(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Zn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function mv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){mc(1===u)})));var c,l=[],f=Kn(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Xh(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return el.waitFor(a).next((function(){return l}))}function yv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vc();t=e.noDocument}return JSON.stringify(t).length}vv.DEFAULT_COLLECTION_PERCENTILE=10,vv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vv.DEFAULT=new vv(41943040,vv.DEFAULT_COLLECTION_PERCENTILE,vv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vv.DISABLED=new vv(-1,0,0);var gv=function(){function e(t,n,r,i){$n(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return Zn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kv(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=wv(e),o=kv(e);return o.add({}).next((function(u){mc("number"==typeof u);var s,c=new gp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rh(e.oe,t)})),i=n.mutations.map((function(t){return Rh(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],d=new _f((function(e,t){return Nc(e.canonicalString(),t.canonicalString())})),h=Kn(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Xh(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Yh))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),el.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kv(e).get(t).next((function(e){return e?(mc(e.userId===n.userId),Tp(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?el.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return kv(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(mc(t.batchId>=r),a=Tp(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kv(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kv(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Tp(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Qh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return wv(e).X({range:i},(function(r,i,o){var u=h(r,3),s=u[0],c=u[1],l=u[2],f=Hh(c);if(s===n.userId&&t.path.isEqual(f))return kv(e).get(l).next((function(e){if(!e)throw vc();mc(e.userId===n.userId),a.push(Tp(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _f(Nc),i=[];return t.forEach((function(t){var a=Qh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=wv(e).X({range:o},(function(e,i,a){var o=h(e,3),u=o[0],s=o[1],c=o[2],l=Hh(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),el.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Qh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new _f(Nc);return wv(e).X({range:o},(function(e,t,a){var o=h(e,3),s=o[0],c=o[1],l=o[2],f=Hh(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kv(e).get(t).next((function(e){if(null===e)throw vc();mc(e.userId===n.userId),r.push(Tp(n.Tt,e))})))})),el.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return mv(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Pn(t.batchId)})),el.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Pn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return el.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return wv(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Hh(e[1]);i.push(a)}else r.done()})).next((function(){mc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bv(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return xv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return mc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bv(e,t,n){var r=Qh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return wv(e).X({range:a,Z:!0},(function(e,n,r){var a=h(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function kv(e){return yp(e,"mutations")}function wv(e){return yp(e,"documentMutations")}function xv(e){return yp(e,"mutationQueues")}var Ev=function(){function e(t){$n(this,e),this.bn=t}return Zn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),Sv=function(){function e(t,n){$n(this,e),this.referenceDelegate=t,this.Tt=n}return Zn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new Ev(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Mc.fromTimestamp(new Oc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return _v(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return mc(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return _v(e).X((function(o,u){var s=Cp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return el.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return _v(e).X((function(e,n){var r=Cp(n);t(r)}))}},{key:"Dn",value:function(e){return Iv(e).get("targetGlobalKey").next((function(e){return mc(null!==e),e}))}},{key:"Cn",value:function(e,t){return Iv(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return _v(e).put(Rp(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Of(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _v(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Cp(n);Mf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Tv(e);return t.forEach((function(t){var o=qh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),el.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Tv(e);return el.forEach(t,(function(t){var a=qh(t.path);return el.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Tv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tv(e),i=Jd();return r.X({range:n,Z:!0},(function(e,t,n){var r=Hh(e[1]),a=new Bc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=qh(t.path),r=IDBKeyRange.bound([n],[Pc(n)],!1,!0),i=0;return Tv(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return _v(e).get(t).next((function(e){return e?Cp(e):null}))}}]),e}();function _v(e){return yp(e,"targets")}function Iv(e){return yp(e,"targetGlobal")}function Tv(e){return yp(e,"targetDocuments")}function Cv(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],u=a[1],s=Nc(r,o);return 0===s?Nc(i,u):s}var Rv=function(){function e(t){$n(this,e),this.kn=t,this.buffer=new _f(Cv),this.$n=0}return Zn(e,[{key:"Mn",value:function(){return++this.$n}},{key:"On",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Av=function(){function e(t,n,r){$n(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Fn=null}return Zn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}},{key:"started",get:function(){return null!==this.Fn}},{key:"Bn",value:function(e){var t=this;fc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!al(e.t0)){e.next=12;break}fc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Jc(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Nv=function(){function e(t,n){$n(this,e),this.Ln=t,this.params=n}return Zn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return el.resolve(dl.at);var r=new Rv(t);return this.Ln.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fc("LruGarbageCollector","Garbage collection skipped; disabled"),el.resolve(pv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),pv):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),lc()<=Fr.DEBUG&&fc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),el.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Dv=function(){function e(t,n){$n(this,e),this.db=t,this.garbageCollector=function(e,t){return new Nv(e,t)}(this,n)}return Zn(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Pv(e,n)}},{key:"removeReference",value:function(e,t,n){return Pv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Pv(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return xv(e).tt((function(r){return bv(e,r,t).next((function(e){return e&&(n=!0),el.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Mc.min()),Tv(e).delete([0,qh(o.path)])}))}));i.push(s)}})).next((function(){return el.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Pv(e,t)}},{key:"Qn",value:function(e,t){var n,r=Tv(e),i=dl.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==dl.at&&t(new Bc(Hh(n)),i),i=s,n=u):i=dl.at})).next((function(){i!==dl.at&&t(new Bc(Hh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Pv(e,t){return Tv(e).put(function(e,t){return{targetId:0,path:qh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ov=function(){function e(){$n(this,e),this.changes=new Vd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Zn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Nf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?el.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mv=function(){function e(t){$n(this,e),this.Tt=t}return Zn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Uv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Uv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Sp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Nf.newInvalidDocument(t);return Uv(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Bv(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Nf.newInvalidDocument(t)};return Uv(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Bv(t))},(function(e,i){r={document:n.Wn(t,i),size:yv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=qd();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=qd(),i=new xf(Bc.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,yv(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return el.resolve();var r=new _f(zv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Bv(r.first()),Bv(r.last())),a=r.getIterator(),o=a.getNext();return Uv(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Bc.fromSegments([].concat(Yn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&zv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Bv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Sp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uv(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=qd(),o=Kn(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(Bc.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(ed(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=qd(),o=Vv(t,n),u=Vv(t,Qc.max());return Uv(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(Bc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Fv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return jv(e).get("remoteDocumentGlobalKey").next((function(e){return mc(!!e),e}))}},{key:"zn",value:function(e,t){return jv(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Th(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Bc.fromSegments(t.noDocument.path),i=Ip(t.noDocument.readTime);n=Nf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vc();var a=Bc.fromSegments(t.unknownDocument.path),o=Ip(t.unknownDocument.version);n=Nf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Oc(e[0],e[1]);return Mc.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Mc.min()))return n}return Nf.newInvalidDocument(e)}}]),e}();function Lv(e){return new Mv(e)}var Fv=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new Vd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _f((function(e,t){return Nc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ep(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=yv(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ep(t.Xn.Tt,o.convertToNoDocument(Mc.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),el.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ov);function jv(e){return yp(e,"remoteDocumentGlobal")}function Uv(e){return yp(e,"remoteDocumentsV14")}function Bv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Vv(e,t){var n=t.documentKey.path.toArray();return[e,Sp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Nc(n[a],r[a]))return i;return(i=Nc(n.length,r.length))||((i=Nc(n[n.length-2],r[r.length-2]))||Nc(n[n.length-1],r[r.length-1]))}var qv=Zn((function e(t,n){$n(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Wv=function(){function e(t,n,r,i){$n(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Zn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Id(r.mutation,e,Cf.empty(),Oc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Jd()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jd(),i=Gd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Kd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Gd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Jd())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=qd(),a=Xd(),o=Xd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ad)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Id(o.mutation,t,o.mutation.getFieldMask(),Oc.now())):a.set(t.key,Cf.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new qv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xd(),i=new xf((function(e,t){return e-t})),a=Jd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Kn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Jd()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Qd();c.forEach((function(e){if(!a.has(e)){var n=Sd(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return el.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Bc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):el.resolve(Gd()),u=-1,s=a;return o.next((function(t){return el.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?el.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Jd())})).next((function(e){return{batchId:u,changes:Hd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Bc(t)).next((function(e){var t=Kd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Kd();return this.indexManager.getCollectionParents(e,i).next((function(o){return el.forEach(o,(function(o){var u=function(e,t){return new Bf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Nf.newInvalidDocument(r)))}));var n=Kd();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Id(a.mutation,i,Cf.empty(),Oc.now()),ed(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Kv=function(){function e(t){$n(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Zn(e,[{key:"getBundleMetadata",value:function(e,t){return el.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:yh(n.createTime)}),el.resolve()}},{key:"getNamedQuery",value:function(e,t){return el.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Ap(e.bundledQuery),readTime:yh(e.readTime)}}(t)),el.resolve()}}]),e}(),Hv=function(){function e(){$n(this,e),this.overlays=new xf(Bc.comparator),this.ss=new Map}return Zn(e,[{key:"getOverlay",value:function(e,t){return el.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Gd();return el.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),el.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),el.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Gd(),i=t.length+1,a=new Bc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return el.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Gd(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Gd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return el.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kp(t,n));var a=this.ss.get(t);void 0===a&&(a=Jd(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),Gv=function(){function e(){$n(this,e),this.rs=new _f(Qv.os),this.us=new _f(Qv.cs)}return Zn(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Qv(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Qv(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Bc(new Fc([])),r=new Qv(n,e),i=new Qv(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Bc(new Fc([])),n=new Qv(t,e),r=new Qv(t,e+1),i=Jd();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Qv(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Qv=function(){function e(t,n){$n(this,e),this.key=t,this.gs=n}return Zn(e,null,[{key:"os",value:function(e,t){return Bc.comparator(e.key,t.key)||Nc(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Nc(e.gs,t.gs)||Bc.comparator(e.key,t.key)}}]),e}(),Xv=function(){function e(t,n){$n(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new _f(Qv.os)}return Zn(e,[{key:"checkEmpty",value:function(e){return el.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new gp(i,t,n,r);this.mutationQueue.push(a);var o,u=Kn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new Qv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return el.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return el.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return el.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return el.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return el.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Qv(t,0),i=new Qv(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),el.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _f(Nc);return t.forEach((function(e){var t=new Qv(e,0),i=new Qv(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),el.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Bc.isDocumentKey(i)||(i=i.child(""));var a=new Qv(new Bc(i),0),o=new _f(Nc);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),el.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mc(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return el.forEach(t.mutations,(function(i){var a=new Qv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Qv(t,0),r=this.ps.firstAfterOrEqual(n);return el.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,el.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Yv=function(){function e(t){$n(this,e),this.Rs=t,this.docs=new xf(Bc.comparator),this.size=0}return Zn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return el.resolve(n?n.document.mutableCopy():Nf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Nf.newInvalidDocument(e))})),el.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=qd(),a=t.path,o=new Bc(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Xc(Gc(l),n)<=0||(r.has(l.key)||ed(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return el.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vc()}},{key:"Ps",value:function(e,t){return el.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $v(this)}},{key:"getSize",value:function(e){return el.resolve(this.size)}}]),e}(),$v=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).Xn=e,r}return Zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),el.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Ov),Jv=function(){function e(t){$n(this,e),this.persistence=t,this.vs=new Vd((function(e){return Of(e)}),Mf),this.lastRemoteSnapshotVersion=Mc.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Gv,this.targetCount=0,this.Ss=Ev.Vn()}return Zn(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),el.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return el.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return el.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),el.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),el.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new Ev(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,el.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),el.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,el.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),el.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return el.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return el.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),el.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),el.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),el.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return el.resolve(n)}},{key:"containsKey",value:function(e,t){return el.resolve(this.Vs.containsKey(t))}}]),e}(),Zv=function(){function e(t,n){var r=this;$n(this,e),this.Ds={},this.overlays={},this.Cs=new dl(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Jv(this),this.indexManager=new av,this.remoteDocumentCache=new Yv((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new xp(n),this.$s=new Kv(this.Tt)}return Zn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Hv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Xv(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;fc("MemoryPersistence","Starting transaction:",e);var i=new em(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return el.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),em=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Zn(n)}($c),tm=function(){function e(t){$n(this,e),this.persistence=t,this.Bs=new Gv,this.Ls=null}return Zn(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw vc()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),el.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),el.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),el.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return el.forEach(this.Us,(function(r){var i=Bc.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Mc.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return el.or([function(){return el.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),nm=function(){function e(t){$n(this,e),this.Tt=t}return Zn(e,[{key:"F",value:function(e,t,n,r){var i=this,a=new tl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0}),e.createObjectStore("documentMutations")}(e),rm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=el.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),rm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return el.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:sp});t.createIndex("collectionPathOverlayIndex",cp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",lp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:$h});t.createIndex("documentKeyIndex",Jh),t.createIndex("collectionGroupIndex",Zh)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ip}).createIndex("sequenceNumberIndex",ap,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:op}).createIndex("documentKeyIndex",up,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=yv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return el.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return el.forEach(r,(function(r){mc(r.userId===n.userId);var i=Tp(t.Tt,r);return mv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Fc(n),o=function(e){return[0,qh(e)]}(a);r.push(t.get(o).next((function(n){return n?el.resolve():function(n){return t.put({targetId:0,path:qh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return el.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:rp});var n=t.store("collectionParents"),r=new ov,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qh(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new Fc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],Hh(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Cp(r),a=Rp(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Bc(Fc.fromString(i.document.name).popFirst(5)):i.noDocument?Bc.fromSegments(i.noDocument.path):i.unknownDocument?Bc.fromSegments(i.unknownDocument.path):vc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return el.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=Lv(this.Tt),a=new Zv(tm.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Jd();Tp(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),el.forEach(r,(function(e,r){var o=new uc(r),u=Fp.ue(n.Tt,o),s=a.getIndexManager(o),c=gv.ue(o,n.Tt,s,a.referenceDelegate);return new Wv(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new mp(t,dl.at),e).next()}))}))}}]),e}();function rm(e){e.createObjectStore("targetDocuments",{keyPath:tp}).createIndex("documentTargetsIndex",np,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ep,{unique:!0}),e.createObjectStore("targetGlobal")}var im="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",am=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if($n(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new bc(gc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dv(this,i),this.oi=n+"main",this.Tt=new xp(s),this.ui=new nl(this.oi,this.ti,new nm(this.Tt)),this.Ns=new Sv(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Lv(this.Tt),this.$s=new Op,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&dc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Zn(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new bc(gc.FAILED_PRECONDITION,im);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new dl(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=s(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return um(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(al(t))return fc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return om(e).get("owner").next((function(e){return el.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return um(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yp(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return el.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=Kn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?el.resolve(!0):om(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new bc(gc.FAILED_PRECONDITION,im);return!1}}return!(!t.networkEnabled||!t.inForeground)||um(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new mp(e,dl.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return um(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return gv.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new sv(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Fp.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;fc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?vp:14===i?pp:13===i?hp:12===i?dp:11===i?fp:void vc();return this.ui.runTransaction(e,o,u,(function(i){return a=new mp(i,r.Cs?r.Cs.next():dl.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw dc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new bc(gc.FAILED_PRECONDITION,Yc);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return om(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new bc(gc.FAILED_PRECONDITION,im)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return om(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=om(e);return n.get("owner").next((function(e){return t.yi(e)?(fc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):el.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(dc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.Pi();var e=/(?:Version|Mobile)\/1[456]/;!hr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"bi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return fc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Pi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(va){dc("Failed to set zombie client id.",va)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(va){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return nl.C()}}]),e}();function om(e){return yp(e,"owner")}function um(e){return yp(e,"clientMetadata")}function sm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cm=function(){function e(t,n,r,i){$n(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Zn(e,null,[{key:"Ni",value:function(t,n){var r,i=Jd(),a=Jd(),o=Kn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),lm=function(){function e(){$n(this,e),this.ki=!1}return Zn(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(qf(t))return el.resolve(null);var r=Qf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Yf(t,null,"F"),r=Qf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Jd.apply(void 0,Yn(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Yf(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return qf(t)||r.isEqual(Mc.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(lc()<=Fr.DEBUG&&fc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zf(t)),i.qi(e,o,t,Hc(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new _f(nd(e));return t.forEach((function(t,r){ed(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return lc()<=Fr.DEBUG&&fc("QueryEngine","Using full collection scan to execute query:",Zf(t)),this.$i.getDocumentsMatchingQuery(e,t,Qc.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fm=function(){function e(t,n,r,i){$n(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new xf(Nc),this.Gi=new Vd((function(e){return Of(e)}),Mf),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return Zn(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wv(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function dm(e,t,n,r){return new fm(e,t,n,r)}function hm(e,t){return pm.apply(this,arguments)}function pm(){return pm=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Jd(),s=Kn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Kn(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=Kn(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=Kn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){var n=yc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=el.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Jd(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function mm(e){var t=yc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function ym(e,t){var n=yc(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(xl.EMPTY_BYTE_STRING,Mc.min()).withLastLimboFreeSnapshotVersion(Mc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=qd(),s=Jd();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(gm(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(Mc.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return el.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function gm(e,t,n){var r=Jd(),i=Jd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=qd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Mc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function bm(e,t){var n=yc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function km(e,t){var n=yc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,el.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new wp(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function wm(e,t,n){return xm.apply(this,arguments)}function xm(){return xm=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yc(t),a=i.Ki.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",u,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),al(e.t1)){e.next=12;break}throw e.t1;case 12:fc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xm.apply(this,arguments)}function Em(e,t,n){var r=yc(e),i=Mc.min(),a=Jd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yc(e),i=r.Gi.get(n);return void 0!==i?el.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Qf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Mc.min(),n?a:Jd())})).next((function(e){return Im(r,td(t),e),{documents:e,Yi:a}}))}))}function Sm(e,t){var n=yc(e),r=yc(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function _m(e,t){var n=yc(e),r=n.Qi.get(t)||Mc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,Hc(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Im(n,t,e),e}))}function Im(e,t,n){var r=e.Qi.get(t)||Mc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function Tm(e,t,n,r){return Cm.apply(this,arguments)}function Cm(){return Cm=s(o().mark((function e(t,n,r,i){var a,u,s,c,l,f,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yc(t),u=Jd(),s=qd(),c=Kn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,d=n.Zi(f.metadata.name),f.document&&(u=u.add(d)),(h=n.Xi(f)).setReadTime(n.tr(f.metadata.readTime)),s=s.insert(d,h)}catch(o){c.e(o)}finally{c.f()}return p=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,km(a,function(e){return Qf(zf(Fc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return gm(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Ns.addMatchingKeys(e,u,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Rm(e,t){return Am.apply(this,arguments)}function Am(){return Am=s(o().mark((function e(t,n){var r,i,a,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:Jd(),e.next=3,km(t,Qf(Ap(n.bundledQuery)));case 3:return i=e.sent,a=yc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=yh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$s.saveNamedQuery(e,n);var o=i.withResumeToken(xl.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Nm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Dm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Pm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Om=function(){function e(t,n,r,i){$n(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Zn(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new bc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(dc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Mm=function(){function e(t,n,r){$n(this,e),this.targetId=t,this.state=n,this.error=r}return Zn(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bc(i.error.code,i.error.message))),a?new e(t,i.state,r):(dc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Lm=function(){function e(t,n){$n(this,e),this.clientId=t,this.activeTargetIds=n}return Zn(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=eh(),o=0;i&&o<r.activeTargetIds.length;++o)i=kl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Fm=function(){function e(t,n){$n(this,e),this.clientId=t,this.onlineState=n}return Zn(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),jm=function(){function e(){$n(this,e),this.activeTargetIds=eh()}return Zn(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Um=function(){function e(t,n,r,i,a){$n(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new xf(Nc),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=Nm(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new jm),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return Zn(e,[{key:"start",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a,u,s,c,l,f,d,h=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=Kn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Nm(this.persistenceKey,i)))&&(u=Lm.er(i,a))&&(this.ar=this.ar.insert(u.clientId,u));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(s=this.storage.getItem(this.gr))&&(c=this.Ir(s))&&this.Tr(c),l=Kn(this.hr);try{for(l.s();!(f=l.n()).done;)d=f.value,this.cr(d)}catch(o){l.e(o)}finally{l.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Pm(this.persistenceKey,e));if(n){var r=Mm.er(e,n);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Pr.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Pr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Pm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void dc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(s(o().mark((function e(){var r,i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(u=t.$r(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(u));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(s));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}c=function(e){var t=dl.at;if(null!=e)try{var n=JSON.parse(e);mc("number"==typeof n),t=n}catch(e){dc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==dl.at&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return l=t.Or(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Pr",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.Pr.nr())}},{key:"Ar",value:function(e,t,n){var r=new Om(this.currentUser,e,t,n),i=Dm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Dm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=Pm(this.persistenceKey,e),i=new Mm(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return Lm.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Om.er(new uc(i),r,t)}},{key:"$r",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return Mm.er(r,t)}},{key:"Ir",value:function(e){return Fm.er(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:fc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=eh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Bm=function(){function e(){$n(this,e),this.Ur=new jm,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Zn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new jm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Vm=function(){function e(){$n(this,e)}return Zn(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zm=function(){function e(){var t=this;$n(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Zn(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){fc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Kn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){fc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Kn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),qm=null;function Wm(){return null===qm?qm=268435456+Math.round(2147483648*Math.random()):qm++,"0x"+qm.toString(16)}var Km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Hm=function(){function e(t){$n(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Zn(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),Gm="WebChannelConnection",Qm=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Zn(n,[{key:"wo",value:function(e,t,n,r){var i=Wm();return new Promise((function(a,o){var u=new ac;u.setWithCredentials(!0),u.listenOnce(ec.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Zs.NO_ERROR:var t=u.getResponseJson();fc(Gm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Zs.TIMEOUT:fc(Gm,"RPC '".concat(e,"' ").concat(i," timed out")),o(new bc(gc.DEADLINE_EXCEEDED,"Request time out"));break;case Zs.HTTP_ERROR:var n=u.getStatus();if(fc(Gm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gc).indexOf(t)>=0?t:gc.UNKNOWN}(s.status);o(new bc(c,s.message))}else o(new bc(gc.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new bc(gc.UNAVAILABLE,"Connection failed."));break;default:vc()}}finally{fc(Gm,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);fc(Gm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=Wm(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$s(),o=Js(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new rc({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");fc(Gm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,d=new Hm({Yr:function(t){f?fc(Gm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(fc(Gm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),fc(Gm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(c,ic.EventType.OPEN,(function(){f||fc(Gm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),h(c,ic.EventType.CLOSE,(function(){f||(f=!0,fc(Gm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.oo())})),h(c,ic.EventType.ERROR,(function(t){f||(f=!0,hc(Gm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.oo(new bc(gc.UNAVAILABLE,"The operation could not be completed")))})),h(c,ic.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];mc(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){fc(Gm,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Od[e];if(void 0!==t)return Bd(t)}(u),l=o.message;void 0===s&&(s=gc.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,d.oo(new bc(s,l)),c.close()}else fc(Gm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.uo(i)}})),h(o,tc.STAT_EVENT,(function(t){t.stat===nc.PROXY?fc(Gm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===nc.NOPROXY&&fc(Gm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ro()}),0),d}}]),n}(function(){function e(t){$n(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Zn(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=Wm(),o=this.fo(e,t);fc("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this._o(u,r,i),this.wo(e,o,u,n).then((function(t){return fc("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw hc("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=Km[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function Xm(){return"undefined"!=typeof window?window:null}function Ym(){return"undefined"!=typeof document?document:null}function $m(e){return new hh(e,!0)}var Jm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;$n(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Zn(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&fc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),Zm=function(){function e(t,n,r,i,a,o,u,s){$n(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Jm(t,n)}return Zn(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===gc.RESOURCE_EXHAUSTED?(dc(n.toString()),dc("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===gc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new bc(gc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return fc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(fc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ey=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return $n(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return Zn(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(mc(void 0===t||"string"==typeof t),xl.fromBase64String(t||"")):(mc(void 0===t||t instanceof Uint8Array),xl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?gc.UNKNOWN:Bd(e.code);return new bc(t,e.message||"")}(o);n=new ah(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=wh(e,s.document.name),l=yh(s.document.updateTime),f=s.document.createTime?yh(s.document.createTime):Mc.min(),d=new Rf({mapValue:{fields:s.document.fields}}),h=Nf.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new rh(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=wh(e,m.document),g=m.readTime?yh(m.readTime):Mc.min(),b=Nf.newNoDocument(y,g),k=m.removedTargetIds||[];n=new rh([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=wh(e,w.document),E=w.removedTargetIds||[];n=new rh([],E,x,null)}else{if(!("filter"in t))return vc();t.filter;var S=t.filter;S.targetId;var _=S.count||0,I=new jd(_),T=S.targetId;n=new ih(T,I)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Mc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Mc.min():t.readTime?yh(t.readTime):Mc.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Sh(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Lf(r)?{documents:Nh(e,r)}:{query:Dh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vh(e,t.resumeToken):t.snapshotVersion.compareTo(Mc.min())>0&&(n.readTime=ph(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Sh(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(Zm),ty=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return $n(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return Zn(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,qn(zn(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(mc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(mc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?yh(e.updateTime):yh(t);return n.isEqual(Mc.min())&&(n=yh(t)),new kd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=yh(e.commitTime);return this.listener.eu(n,t)}return mc(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Sh(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rh(t.Tt,e)}))};this.qo(n)}}]),n}(Zm),ny=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return $n(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Zn(n,[{key:"ru",value:function(){if(this.iu)throw new bc(gc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bc(gc.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=h(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new bc(gc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Zn((function e(){$n(this,e)}))}());var ry=function(){function e(t,n){$n(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Zn(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(dc(t),this.cu=!1):fc("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),iy=Zn((function e(t,n,r,i,a){var u=this;$n(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=vy(u),!e.t0){e.next=5;break}return fc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yc(t)).mu.add(4),e.next=4,uy(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,ay(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new ry(r,i)}));function ay(e){return oy.apply(this,arguments)}function oy(){return oy=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vy(t)){e.next=18;break}n=Kn(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),oy.apply(this,arguments)}function uy(e){return sy.apply(this,arguments)}function sy(){return sy=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kn(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),sy.apply(this,arguments)}function cy(e,t){var n=yc(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),py(n)?hy(n):Wy(n).Mo()&&fy(n,t))}function ly(e,t){var n=yc(e),r=Wy(n);n.wu.delete(t),r.Mo()&&dy(n,t),0===n.wu.size&&(r.Mo()?r.Bo():vy(n)&&n.pu.set("Unknown"))}function fy(e,t){e.Iu.Ot(t.targetId),Wy(e).Jo(t)}function dy(e,t){e.Iu.Ot(t),Wy(e).Yo(t)}function hy(e){e.Iu=new uh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),Wy(e).start(),e.pu.au()}function py(e){return vy(e)&&!Wy(e).$o()&&e.wu.size>0}function vy(e){return 0===yc(e).mu.size}function my(e){e.Iu=void 0}function yy(e){return gy.apply(this,arguments)}function gy(){return gy=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){fy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function by(e,t){return ky.apply(this,arguments)}function ky(){return ky=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:my(t),py(t)?(t.pu.fu(n),hy(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function wy(e,t,n){return xy.apply(this,arguments)}function xy(){return xy=s(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof ah&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Kn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=t.wu.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.wu.delete(u),t.Iu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ey(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof rh?t.Iu.Qt(n):n instanceof ih?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Mc.min())){e.next=29;break}return e.prev=14,e.next=17,mm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(xl.EMPTY_BYTE_STRING,n.snapshotVersion)),dy(e,t);var r=new wp(n.target,t,1,n.sequenceNumber);fy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ey(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),xy.apply(this,arguments)}function Ey(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(al(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,uy(t);case 5:t.pu.set("Offline"),r||(r=function(){return mm(t.localStore)}),t.asyncQueue.enqueueRetryable(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,ay(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function _y(e,t){return t().catch((function(n){return Ey(e,n,t)}))}function Iy(e){return Ty.apply(this,arguments)}function Ty(){return Ty=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yc(t),r=Ky(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Cy(n)){e.next=19;break}return e.prev=3,e.next=6,bm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,Ry(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ey(n,e.t0);case 17:e.next=2;break;case 19:Ay(n)&&Ny(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ty.apply(this,arguments)}function Cy(e){return vy(e)&&e._u.length<10}function Ry(e,t){e._u.push(t);var n=Ky(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Ay(e){return vy(e)&&!Ky(e).$o()&&e._u.length>0}function Ny(e){Ky(e).start()}function Dy(e){return Py.apply(this,arguments)}function Py(){return Py=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ky(t).su();case 1:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Oy(e){return My.apply(this,arguments)}function My(){return My=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ky(t),r=Kn(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Ly(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=bp.from(i,n,r),e.next=3,_y(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Iy(t);case 5:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function jy(e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ky(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ud(i=n.code)||i===gc.ABORTED){e.next=7;break}return r=t._u.shift(),Ky(t).Fo(),e.next=5,_y(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Iy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ay(t)&&Ny(t);case 5:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function By(e,t){return Vy.apply(this,arguments)}function Vy(){return Vy=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yc(t)).asyncQueue.verifyOperationInProgress(),fc("RemoteStore","RemoteStore received new credentials"),i=vy(r),r.mu.add(3),e.next=6,uy(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,ay(r);case 12:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function zy(e,t){return qy.apply(this,arguments)}function qy(){return qy=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yc(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,ay(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,uy(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Wy(e){return e.Tu||(e.Tu=function(e,t,n){var r=yc(e);return r.ru(),new ey(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:yy.bind(null,e),no:by.bind(null,e),Ho:wy.bind(null,e)}),e.gu.push(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),py(e)?hy(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:my(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function Ky(e){return e.Eu||(e.Eu=function(e,t,n){var r=yc(e);return r.ru(),new ty(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Dy.bind(null,e),no:jy.bind(null,e),nu:Oy.bind(null,e),eu:Ly.bind(null,e)}),e.gu.push(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,Iy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(fc("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var Hy=function(){function e(t,n,r,i,a){$n(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Zn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bc(gc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Gy(e,t){if(dc("AsyncQueue","".concat(t,": ").concat(e)),al(e))return new bc(gc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Qy=function(){function e(t){$n(this,e),this.comparator=t?function(e,n){return t(e,n)||Bc.comparator(e.key,n.key)}:function(e,t){return Bc.comparator(e.key,t.key)},this.keyedMap=Kd(),this.sortedSet=new xf(this.comparator)}return Zn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Xy=function(){function e(){$n(this,e),this.Au=new xf(Bc.comparator)}return Zn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):vc():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Yy=function(){function e(t,n,r,i,a,o,u,s,c){$n(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Zn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Qy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),$y=Zn((function e(){$n(this,e),this.Pu=void 0,this.listeners=[]})),Jy=Zn((function e(){$n(this,e),this.queries=new Vd((function(e){return Jf(e)}),$f),this.onlineState="Unknown",this.vu=new Set}));function Zy(e,t){return eg.apply(this,arguments)}function eg(){return eg=s(o().mark((function e(t,n){var r,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yc(t),i=n.query,a=!1,(u=r.queries.get(i))||(a=!0,u=new $y),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:u.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Gy(e.t0,"Initialization of query '".concat(Zf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,u),u.listeners.push(n),n.bu(r.onlineState),u.Pu&&n.Vu(u.Pu)&&ag(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),eg.apply(this,arguments)}function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=s(o().mark((function e(t,n){var r,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yc(t),i=n.query,a=!1,(u=r.queries.get(i))&&(s=u.listeners.indexOf(n))>=0&&(u.listeners.splice(s,1),a=0===u.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){var n,r=yc(e),i=!1,a=Kn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Kn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&ag(r)}function ig(e,t,n){var r=yc(e),i=r.queries.get(t);if(i){var a,o=Kn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ag(e){e.vu.forEach((function(e){e.next()}))}var og=function(){function e(t,n,r){$n(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Zn(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Kn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Yy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=Yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),ug=function(){function e(t,n){$n(this,e),this.Mu=t,this.byteLength=n}return Zn(e,[{key:"Ou",value:function(){return"metadata"in this.Mu}}]),e}(),sg=function(){function e(t){$n(this,e),this.Tt=t}return Zn(e,[{key:"Zi",value:function(e){return wh(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Th(this.Tt,e.document,!1):Nf.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return yh(e)}}]),e}(),cg=function(){function e(t,n,r){$n(this,e),this.Fu=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lg(t)}return Zn(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=Fc.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new sg(this.Tt),i=Kn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=Kn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Jd()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm(this.localStore,new sg(this.Tt),this.documents,this.Fu.id);case 2:t=e.sent,n=this.Lu(this.documents),r=Kn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Rm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function lg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var fg=Zn((function e(t){$n(this,e),this.key=t})),dg=Zn((function e(t){$n(this,e),this.key=t})),hg=function(){function e(t,n){$n(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Jd(),this.mutatedKeys=Jd(),this.ju=nd(t),this.zu=new Qy(this.ju)}return Zn(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new Xy,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ed(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vc()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new Yy(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Xy,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Jd(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new dg(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new fg(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Jd();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return Yy.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),pg=Zn((function e(t,n,r){$n(this,e),this.query=t,this.targetId=n,this.view=r})),vg=Zn((function e(t){$n(this,e),this.key=t,this.ic=!1})),mg=function(){function e(t,n,r,i,a,o){$n(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Vd((function(e){return Jf(e)}),$f),this.uc=new Map,this.cc=new Set,this.ac=new xf(Bc.comparator),this.hc=new Map,this.lc=new Gv,this.fc={},this.dc=new Map,this._c=Ev.Sn(),this.onlineState="Unknown",this.wc=void 0}return Zn(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function yg(e,t){return gg.apply(this,arguments)}function gg(){return gg=s(o().mark((function e(t,n){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lb(t),!(u=r.oc.get(n))){e.next=6;break}i=u.targetId,r.sharedClientState.addLocalQueryTarget(i),a=u.view.sc(),e.next=15;break;case 6:return e.next=8,km(r.localStore,Qf(n));case 8:return s=e.sent,r.isPrimaryClient&&cy(r.remoteStore,s),c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,bg(r,n,i,"current"===c,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function bg(e,t,n,r,i){return kg.apply(this,arguments)}function kg(){return kg=s(o().mark((function e(t,n,r,i,a){var u,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,Em(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return u=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,u),e.abrupt("return",(Bg(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Em(t.localStore,n,!0);case 3:return u=e.sent,c=new hg(n,u.Yi),l=c.Hu(u.documents),f=nh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),d=c.applyChanges(l,t.isPrimaryClient,f),Bg(t,r,d.tc),h=new pg(n,r,c),e.abrupt("return",(t.oc.set(n,h),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),d.snapshot));case 11:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function wg(e,t){return xg.apply(this,arguments)}function xg(){return xg=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yc(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!$f(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,wm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ly(r.remoteStore,i.targetId),jg(r,i.targetId)})).catch(Jc);case 9:e.next=14;break;case 11:return jg(r,i.targetId),e.next=14,wm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Eg(e,t,n){return Sg.apply(this,arguments)}function Sg(){return Sg=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fb(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yc(e),a=Oc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Jd());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=qd(),s=Jd();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Kn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Td(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Ad(c.key,l,Af(l.value.mapValue),wd.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Hd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new xf(Nc)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qg(i,a.changes);case 9:return e.next=11,Iy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=Gy(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Sg.apply(this,arguments)}function _g(e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.prev=1,e.next=4,ym(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(mc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?mc(n.ic):e.removedDocuments.size>0&&(mc(n.ic),n.ic=!1))})),e.next=8,qg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Jc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ig.apply(this,arguments)}function Tg(e,t,n){var r=yc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Kn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ag(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Cg(e,t,n){return Rg.apply(this,arguments)}function Rg(){return Rg=s(o().mark((function e(t,n,r){var i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(u=a&&a.key)){e.next=14;break}return s=(s=new xf(Bc.comparator)).insert(u,Nf.newNoDocument(u,Mc.min())),c=Jd().add(u),l=new th(Mc.min(),new Map,new _f(Nc),s,c),e.next=9,_g(i,l);case 9:i.ac=i.ac.remove(u),i.hc.delete(n),zg(i),e.next=16;break;case 14:return e.next=16,wm(i.localStore,n,!1).then((function(){return jg(i,n,r)})).catch(Jc);case 16:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Ag(e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),i=n.batch.batchId,e.prev=1,e.next=4,vm(r.localStore,n);case 4:return a=e.sent,Fg(r,i,null),Lg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ng.apply(this,arguments)}function Dg(e,t,n){return Pg.apply(this,arguments)}function Pg(){return Pg=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(t),e.prev=1,e.next=4,function(e,t){var n=yc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Fg(i,n,r),Lg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Pg.apply(this,arguments)}function Og(e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vy((r=yc(t)).remoteStore)||fc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),u=Gy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(u);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Mg.apply(this,arguments)}function Lg(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function Fg(e,t,n){var r=yc(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function jg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Kn(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||Ug(e,t)}))}function Ug(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(ly(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),zg(e))}function Bg(e,t,n){var r,i=Kn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof fg?(e.lc.addReference(a.key,t),Vg(e,a)):a instanceof dg?(fc("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||Ug(e,a.key)):vc()}}catch(o){i.e(o)}finally{i.f()}}function Vg(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(fc("SyncEngine","New document in limbo: "+n),e.cc.add(r),zg(e))}function zg(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Bc(Fc.fromString(t)),r=e._c.next();e.hc.set(r,new vg(n)),e.ac=e.ac.insert(n,r),cy(e.remoteStore,new wp(Qf(zf(n.path)),r,2,dl.at))}}function qg(e,t,n){return Wg.apply(this,arguments)}function Wg(){return Wg=s(o().mark((function e(t,n,r){var i,a,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yc(t),a=[],u=[],c=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){c.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=cm.Ni(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.rc.Ho(a),e.next=9,function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return el.forEach(n,(function(t){return el.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return el.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),al(e.t0)){e.next=10;break}throw e.t0;case 10:fc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Kn(n);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.targetId,u.fromCache||(c=r.Ki.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ki=r.Ki.insert(s,f))}catch(o){i.e(o)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Kg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yc(t)).currentUser.isEqual(n)){e.next=11;break}return fc("SyncEngine","User change. New user:",n.toKey()),e.next=5,hm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new bc(gc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qg(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Gg(e,t){var n=yc(e),r=n.hc.get(t);if(r&&r.ic)return Jd().add(r.key);var i=Jd(),a=n.uc.get(t);if(!a)return i;var o,u=Kn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function Qg(e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.next=3,Em(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&Bg(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Yg(e,t){return $g.apply(this,arguments)}function $g(){return $g=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),e.abrupt("return",_m(r.localStore,n).then((function(e){return qg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}function Jg(e,t,n,r){return Zg.apply(this,arguments)}function Zg(){return Zg=s(o().mark((function e(t,n,r,i){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yc(t),e.next=3,function(e,t){var n=yc(e),r=yc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):el.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(u=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Iy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Fg(a,n,i||null),Lg(a,n),function(e,t){yc(yc(e).mutationQueue).Pn(t)}(a.localStore,n)):vc();case 11:return e.next=13,qg(a,u);case 13:e.next=16;break;case 15:fc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function eb(e,t){return tb.apply(this,arguments)}function tb(){return tb=s(o().mark((function e(t,n){var r,i,a,u,s,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lb(r=yc(t)),fb(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,nb(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,zy(r.remoteStore,!0);case 9:u=Kn(a);try{for(u.s();!(s=u.n()).done;)c=s.value,cy(r.remoteStore,c)}catch(o){u.e(o)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return l=[],f=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return jg(r,t),wm(r.localStore,t,!0)})),ly(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,nb(r,l);case 21:return function(e){var t=yc(e);t.hc.forEach((function(e,n){ly(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new xf(Bc.comparator)}(r),r.wc=!1,e.next=25,zy(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h,p,v,m,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yc(t),a=[],u=[],s=Kn(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(d=i.uc.get(l))||0===d.length){e.next=34;break}return e.next=11,km(i.localStore,Qf(d[0]));case 11:f=e.sent,h=Kn(d),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,m=i.oc.get(v),e.next=20,Qg(i,m);case 20:(y=e.sent).snapshot&&u.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Sm(i.localStore,l);case 36:return g=e.sent,e.next=39,km(i.localStore,g);case 39:return f=e.sent,e.next=42,bg(i,ib(g),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(u),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),rb.apply(this,arguments)}function ib(e){return Vf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ab(e){var t=yc(e);return yc(yc(t.localStore).persistence).Si()}function ob(e,t,n,r){return ub.apply(this,arguments)}function ub(){return ub=s(o().mark((function e(t,n,r,i){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yc(t)).wc){e.next=3;break}return e.abrupt("return",void fc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((u=a.uc.get(n))&&u.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,_m(a.localStore,td(u[0]));case 10:return s=e.sent,c=th.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,xl.EMPTY_BYTE_STRING),e.next=14,qg(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,wm(a.localStore,n,!0);case 17:return jg(a,n,i),e.abrupt("break",20);case 19:vc();case 20:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function sb(e,t,n){return cb.apply(this,arguments)}function cb(){return cb=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=lb(t)).wc){e.next=45;break}a=Kn(n),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=21;break}if(s=u.value,!i.uc.has(s)){e.next=10;break}return fc("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Sm(i.localStore,s);case 12:return c=e.sent,e.next=15,km(i.localStore,c);case 15:return l=e.sent,e.next=18,bg(i,ib(c),l.targetId,!1,l.resumeToken);case 18:cy(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=Kn(r),e.prev=30,h=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,wm(i.localStore,t,!1).then((function(){ly(i.remoteStore,t),jg(i,t)})).catch(Jc);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((d=f.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),cb.apply(this,arguments)}function lb(e){var t=yc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cg.bind(null,t),t.rc.Ho=rg.bind(null,t.eventManager),t.rc.gc=ig.bind(null,t.eventManager),t}function fb(e){var t=yc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ag.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dg.bind(null,t),t}function db(e,t,n){var r=yc(e);(function(){var e=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yc(e),r=yh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(lg(i)),a=new cg(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:u=e.sent;case 16:if(!u){e.next=26;break}return e.next=19,a.Bu(u);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.yc();case 23:u=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,qg(t,c.Uu,void 0);case 31:return e.next=33,function(e,t){var n=yc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hb=function(){function e(){$n(this,e),this.synchronizeTabs=!1}return Zn(e,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=$m(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return dm(this.persistence,new lm,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new Zv(tm.qs,this.Tt)}},{key:"Ic",value:function(e){return new Bm}},{key:"terminate",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pb=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this)).Pc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Zn(n,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(zn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Pc.initialize(this,t);case 4:return e.next=6,fb(this.Pc.syncEngine);case 6:return e.next=8,Iy(this.Pc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return dm(this.persistence,new lm,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Av(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new fl(t,this.persistence);return new ll(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vv.withCacheSize(this.cacheSizeBytes):vv.DEFAULT;return new am(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Xm(),Ym(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new Bm}}]),n}(hb),vb=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,r,!1)).Pc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Zn(n,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(zn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Pc.syncEngine,e.t0=this.sharedClientState instanceof Um,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:Jg.bind(null,r),Lr:ob.bind(null,r),qr:sb.bind(null,r),Si:ab.bind(null,r),Fr:Yg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eb(i.Pc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=Xm();if(!Um.C(t))throw new bc(gc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Um(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(pb),mb=function(){function e(){$n(this,e)}return Zn(e,[{key:"initialize",value:function(){var e=s(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Tg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kg.bind(null,this.syncEngine),e.next=12,zy(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Jy}},{key:"createDatastore",value:function(e){var t,n=$m(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Qm(t));return function(e,t,n,r){return new ny(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Tg(o.syncEngine,e,0)},a=zm.C()?new zm:new Vm,new iy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mg(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yc(t),fc("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,uy(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return s(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var gb=function(){function e(t){$n(this,e),this.observer=t,this.muted=!1}return Zn(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):dc("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bb=function(){function e(t,n){var r=this;$n(this,e),this.Vc=t,this.Tt=n,this.metadata=new kc,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return Zn(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=s(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new ug(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),kb=function(){function e(t){$n(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Zn(e,[{key:"lookup",value:function(){var e=s(o().mark((function e(t){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new bc(gc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),i=Sh(r.Tt)+"/documents",a={documents:n.map((function(e){return kh(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return u=e.sent,s=new Map,u.forEach((function(e){var t=Ch(r.Tt,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());mc(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=s(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Bc.fromPath(t);n.mutations.push(new Fd(r,n.precondition(r)))})),e.next=7,function(){var e=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc(t),i=Sh(r.Tt)+"/documents",a={writes:n.map((function(e){return Rh(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vc();t=Mc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new bc(gc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mc.min())?wd.exists(!1):wd.updateTime(t):wd.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mc.min()))throw new bc(gc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wd.updateTime(t)}return wd.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),wb=function(){function e(t,n,r,i,a){$n(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new Jm(this.asyncQueue,"transaction_retry")}return Zn(e,[{key:"run",value:function(){this.Mc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.ko.vo(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new kb(e.datastore),(r=e.Fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Fc",value:function(e){try{var t=this.updateFunction(e);return!gl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ud(t)}return!1}}]),e}(),xb=function(){function e(t,n,r,i){var a=this;$n(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=uc.UNAUTHENTICATED,this.clientId=Ac.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Zn(e,[{key:"getConfiguration",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bc(gc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(s(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Gy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Eb(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,hm(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function _b(e,t){return Ib.apply(this,arguments)}function Ib(){return Ib=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Tb(t);case 3:return r=e.sent,fc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return By(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return By(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Tb(e){return Cb.apply(this,arguments)}function Cb(){return Cb=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return fc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Eb(t,new hb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Rb(e){return Ab.apply(this,arguments)}function Ab(){return Ab=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return fc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_b(t,new mb);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Nb(e){return Tb(e).then((function(e){return e.persistence}))}function Db(e){return Tb(e).then((function(e){return e.localStore}))}function Pb(e){return Rb(e).then((function(e){return e.remoteStore}))}function Ob(e){return Rb(e).then((function(e){return e.syncEngine}))}function Mb(e){return Rb(e).then((function(e){return e.datastore}))}function Lb(e){return Fb.apply(this,arguments)}function Fb(){return Fb=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=yg.bind(null,n.syncEngine),r.onUnlisten=wg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function jb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gb({next:function(a){t.enqueueAndForget((function(){return tg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bc(gc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bc(gc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new og(zf(n.path),a,{includeMetadataChanges:!0,$u:!0});return Zy(e,o)},i.next=3,Lb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ub(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gb({next:function(n){t.enqueueAndForget((function(){return tg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bc(gc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new og(n,a,{includeMetadataChanges:!0,$u:!0});return Zy(e,o)},i.next=3,Lb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Bb=new Map;function Vb(e,t,n){if(!n)throw new bc(gc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zb(e,t,n,r){if(!0===t&&!0===r)throw new bc(gc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qb(e){if(!Bc.isDocumentKey(e))throw new bc(gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wb(e){if(Bc.isDocumentKey(e))throw new bc(gc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vc()}function Hb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bc(gc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kb(e);throw new bc(gc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Gb(e,t){if(t<=0)throw new bc(gc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Qb=function(){function e(t){var n;if($n(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bc(gc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bc(gc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Zn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Xb=function(){function e(t,n,r,i){$n(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1}return Zn(e,[{key:"app",get:function(){if(!this._app)throw new bc(gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bc(gc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xc;switch(e.type){case"gapi":var t=e.client;return new Ic(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bc(gc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Bb.get(e);t&&(fc("ComponentProvider","Removing Datastore"),Bb.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Yb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Hb(e,Xb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=uc.MOCK_USER;else{o=fr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bc(gc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new uc(s)}e._authCredentials=new Ec(new wc(o,u))}}var $b=function(){function e(t,n,r){$n(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Zn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Zb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Jb=function(){function e(t,n,r){$n(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Zn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Zb=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this,e,r,zf(i)))._path=i,a.type="collection",a}return Zn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $b(this.firestore,null,new Bc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Jb);function ek(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nr(e),Vb("collection","path",t),e instanceof Xb){var a=Fc.fromString.apply(Fc,[t].concat(r));return Wb(a),new Zb(e,null,a)}if(!(e instanceof $b||e instanceof Zb))throw new bc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fc.fromString.apply(Fc,[t].concat(r)));return Wb(o),new Zb(e.firestore,null,o)}function tk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nr(e),1===arguments.length&&(t=Ac.R()),Vb("doc","path",t),e instanceof Xb){var a=Fc.fromString.apply(Fc,[t].concat(r));return qb(a),new $b(e,null,new Bc(a))}if(!(e instanceof $b||e instanceof Zb))throw new bc(gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fc.fromString.apply(Fc,[t].concat(r)));return qb(o),new $b(e.firestore,e instanceof Zb?e.converter:null,new Bc(o))}function nk(e,t){return e=Nr(e),t=Nr(t),(e instanceof $b||e instanceof Zb)&&(t instanceof $b||t instanceof Zb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rk(e,t){return e=Nr(e),t=Nr(t),e instanceof Jb&&t instanceof Jb&&e.firestore===t.firestore&&$f(e._query,t._query)&&e.converter===t.converter}var ik=function(){function e(){var t=this;$n(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Jm(this,"async_queue_retry"),this.Hc=function(){var e=Ym();e&&fc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Ym();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Zn(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Ym();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new kc;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),al(e.t0)){e.next=12;break}throw e.t0;case 12:fc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=Hy.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&vc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Kn(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Kn(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function ak(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Kn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ok=function(){function e(){$n(this,e),this._progressObserver={},this._taskCompletionResolver=new kc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Zn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uk=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return $n(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ik,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Zn(n,[{key:"_terminate",value:function(){return this._firestoreClient||lk(this),this._firestoreClient.terminate()}}]),n}(Xb);function sk(e,t){var n="string"==typeof e?e:t||"(default)",r=Ei("object"==typeof e?e:Ni(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=sr("firestore");i&&Yb.apply(void 0,[r].concat(Yn(i)))}return r}function ck(e){return e._firestoreClient||lk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new xb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function fk(e,t,n){var r=new kc;return e.asyncQueue.enqueue(s(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Eb(e,n);case 3:return i.next=5,_b(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===gc.FAILED_PRECONDITION||e.code===gc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:hc("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dk(e){return function(e){return e.asyncQueue.enqueue(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nb(e);case 2:return n=t.sent,t.next=5,Pb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yc(e);return t.mu.delete(0),ay(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ck(e=Hb(e,uk)))}function hk(e){return function(e){return e.asyncQueue.enqueue(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nb(e);case 2:return n=t.sent,t.next=5,Pb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yc(t)).mu.add(0),e.next=4,uy(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ck(e=Hb(e,uk)))}function pk(e,t){var n=ck(e=Hb(e,uk)),r=new ok;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bb(e,t)}(function(e,t){if(e instanceof Uint8Array)return yb(e,t);if(e instanceof ArrayBuffer)return yb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$m(t));e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=db,t.next=3,Ob(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function vk(e,t){return function(e,t){return e.asyncQueue.enqueue(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$s.getNamedQuery(e,t)}))},n.next=3,Db(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ck(e=Hb(e,uk)),t).then((function(t){return t?new Jb(e,null,t.query):null}))}function mk(e){if(e._initialized||e._terminated)throw new bc(gc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yk=function(){function e(t){$n(this,e),this._byteString=t}return Zn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(xl.fromBase64String(t))}catch(t){throw new bc(gc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(xl.fromUint8Array(t))}}]),e}(),gk=function(){function e(){$n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bc(gc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uc(n)}return Zn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bk=Zn((function e(t){$n(this,e),this._methodName=t})),kk=function(){function e(t,n){if($n(this,e),!isFinite(t)||t<-90||t>90)throw new bc(gc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bc(gc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Zn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Nc(this._lat,e._lat)||Nc(this._long,e._long)}}]),e}(),wk=/^__.*__$/,xk=function(){function e(t,n,r){$n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}]),e}(),Ek=function(){function e(t,n,r){$n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zn(e,[{key:"toMutation",value:function(e,t){return new Ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Sk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vc()}}var _k=function(){function e(t,n,r,i,a,o){$n(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Zn(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return Kk(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Sk(this.ra)&&wk.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),Ik=function(){function e(t,n,r){$n(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||$m(t)}return Zn(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _k({ra:e,methodName:t,_a:n,path:Uc.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function Tk(e){var t=e._freezeSettings(),n=$m(e._databaseId);return new Ik(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ck(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);Vk("Data must be an object, but it was:",o,r);var u,s,c=Uk(r,o);if(a.merge)u=new Cf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Kn(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=zk(t,l.value,n);if(!o.contains(h))throw new bc(gc.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Hk(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new Cf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new xk(new Rf(c),u,s)}var Rk=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bk);function Ak(e,t,n){return new _k({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var Nk=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"_toFieldTransform",value:function(e){return new bd(e.path,new fd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bk),Dk=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e)).ma=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=Ak(this,e,!0),n=this.ma.map((function(e){return jk(e,t)})),r=new dd(n);return new bd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk),Pk=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e)).ma=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=Ak(this,e,!0),n=this.ma.map((function(e){return jk(e,t)})),r=new pd(n);return new bd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk),Ok=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e)).ga=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=new md(e.Tt,od(e.Tt,this.ga));return new bd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk);function Mk(e,t,n,r){var i=e.wa(1,t,n);Vk("Data must be an object, but it was:",i,r);var a=[],o=Rf.empty();ml(r,(function(e,r){var u=Wk(t,e,n);r=Nr(r);var s=i.ha(u);if(r instanceof Rk)a.push(u);else{var c=jk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Cf(a);return new Ek(o,u,i.fieldTransforms)}function Lk(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[zk(t,r,n)],s=[i];if(a.length%2!=0)throw new bc(gc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(zk(t,a[c])),s.push(a[c+1]);for(var l=[],f=Rf.empty(),d=u.length-1;d>=0;--d)if(!Hk(l,u[d])){var h=u[d],p=s[d];p=Nr(p);var v=o.ha(h);if(p instanceof Rk)l.push(h);else{var m=jk(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Cf(l);return new Ek(f,y,o.fieldTransforms)}function Fk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jk(n,e.wa(r?4:3,t))}function jk(e,t){if(Bk(e=Nr(e)))return Vk("Unsupported field value:",t,e),Uk(e,t);if(e instanceof bk)return function(e,t){if(!Sk(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Kn(e);try{for(a.s();!(n=a.n()).done;){var o=jk(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return od(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Oc.fromDate(e);return{timestampValue:ph(t.Tt,n)}}if(e instanceof Oc){var r=new Oc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ph(t.Tt,r)}}if(e instanceof kk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yk)return{bytesValue:vh(t.Tt,e._byteString)};if(e instanceof $b){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(Kb(e)))}(e,t)}function Uk(e,t){var n={};return yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ml(e,(function(e,r){var i=jk(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Oc||e instanceof kk||e instanceof yk||e instanceof $b||e instanceof bk)}function Vk(e,t,n){if(!Bk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kb(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function zk(e,t,n){if((t=Nr(t))instanceof gk)return t._internalPath;if("string"==typeof t)return Wk(e,t);throw Kk("Field path arguments must be of type string or ",e,!1,void 0,n)}var qk=new RegExp("[~\\*/\\[\\]]");function Wk(e,t,n){if(t.search(qk)>=0)throw Kk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Vn(gk,Yn(t.split(".")))._internalPath}catch(r){throw Kk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bc(gc.INVALID_ARGUMENT,u+e+s)}function Hk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Gk=function(){function e(t,n,r,i,a){$n(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Zn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $b(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Xk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qk=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(){return qn(zn(n.prototype),"data",this).call(this)}}]),n}(Gk);function Xk(e,t){return"string"==typeof t?Wk(e,t):t instanceof gk?t._internalPath:t._delegate._internalPath}function Yk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bc(gc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $k=Zn((function e(){$n(this,e)})),Jk=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n)}($k);function Zk(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof $k&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof nw})).length,n=e.filter((function(e){return e instanceof ew})).length;if(t>1||t>0&&n>0)throw new bc(gc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Kn(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var ew=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Zn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pw(e._query,t),new Jb(e.firestore,e.converter,Xf(e._query,t))}},{key:"_parse",value:function(e){var t=Tk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bc(gc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hw(o,a);var s,c=[],l=Kn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(dw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=dw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hw(o,a),u=Fk(n,"where",o,"in"===a||"not-in"===a);return tf.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Jk);function tw(e,t,n){var r=t,i=Xk("where",e);return ew._create(i,r,n)}var nw=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Zn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:nf.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Kn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pw(r,a),r=Xf(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Jb(e.firestore,e.converter,Xf(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($k);var rw=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Zn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bc(gc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bc(gc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kf(t,n);return function(e,t){if(null===Wf(e)){var n=Kf(e);null!==n&&vw(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Jb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Jk);var iw=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Zn(n,[{key:"_apply",value:function(e){return new Jb(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Jk);var aw=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Zn(n,[{key:"_apply",value:function(e){var t=fw(e,this.type,this._docOrFields,this._inclusive);return new Jb(e.firestore,e.converter,function(e,t){return new Bf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Jk);function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aw._create("startAt",t,!0)}function uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aw._create("startAfter",t,!1)}var sw=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a;return $n(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Zn(n,[{key:"_apply",value:function(e){var t=fw(e,this.type,this._docOrFields,this._inclusive);return new Jb(e.firestore,e.converter,function(e,t){return new Bf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Jk);function cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sw._create("endBefore",t,!1)}function lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sw._create("endAt",t,!0)}function fw(e,t,n,r){if(n[0]=Nr(n[0]),n[0]instanceof Gk)return function(e,t,n,r,i){if(!r)throw new bc(gc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Kn(Gf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ul(t,r.key));else{var c=r.data.field(s.field);if(Tl(c))throw new bc(gc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bc(gc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new $l(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Tk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bc(gc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bc(gc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Hf(e)&&-1!==c.indexOf("/"))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Fc.fromString(c));if(!Bc.isDocumentKey(l))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Bc(l);u.push(Ul(t,f))}else{var d=Fk(n,r,c);u.push(d)}}return new $l(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function dw(e,t,n){if("string"==typeof(n=Nr(n))){if(""===n)throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hf(t)&&-1!==n.indexOf("/"))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Fc.fromString(n));if(!Bc.isDocumentKey(r))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ul(e,new Bc(r))}if(n instanceof $b)return Ul(e,n._key);throw new bc(gc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kb(n),"."))}function hw(e,t){if(!Array.isArray(e)||0===e.length)throw new bc(gc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pw(e,t){if(t.isInequality()){var n=Kf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Wf(e);null!==i&&vw(e,r,i)}var a=function(e,t){var n,r=Kn(e);try{for(r.s();!(n=r.n()).done;){var i,a=Kn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new bc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bc(gc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vw(e,t,n){if(!n.isEqual(t))throw new bc(gc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mw=function(){function e(){$n(this,e)}return Zn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _l(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ml(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kk(_l(e.latitude),_l(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sl(e);return new Oc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Fc.fromString(e);mc(zh(n));var r=new pl(n.get(1),n.get(3)),i=new Bc(n.popFirst(5));return r.isEqual(t)||dc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gw=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new yk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $b(this.firestore,null,t)}}]),n}(mw);var bw=function(){function e(t,n){$n(this,e),this.hasPendingWrites=t,this.fromCache=n}return Zn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kw=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a,o,u){var s;return $n(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Zn(n,[{key:"exists",value:function(){return qn(zn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Xk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Gk),ww=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qn(zn(n.prototype),"data",this).call(this,e)}}]),n}(kw),xw=function(){function e(t,n,r,i){$n(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bw(i.hasPendingWrites,i.fromCache),this.query=r}return Zn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ww(n._firestore,n._userDataWriter,r.key,r,new bw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bc(gc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ww(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ww(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ew(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Ew(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vc()}}function Sw(e,t){return e instanceof kw&&t instanceof kw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xw&&t instanceof xw&&e._firestore===t._firestore&&rk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function _w(e){e=Hb(e,$b);var t=Hb(e.firestore,uk);return jb(ck(t),e._key).then((function(n){return Lw(t,e,n)}))}var Iw=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new yk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $b(this.firestore,null,t)}}]),n}(mw);function Tw(e){e=Hb(e,$b);var t=Hb(e.firestore,uk),n=ck(t),r=new Iw(t);return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new bc(gc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Gy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Db(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kw(t,r,e._key,n,new bw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Cw(e){e=Hb(e,Jb);var t=Hb(e.firestore,uk),n=ck(t),r=new Iw(t);return Yk(e._query),Ub(n,e._query).then((function(n){return new xw(t,r,e,n)}))}function Rw(e){e=Hb(e,Jb);var t=Hb(e.firestore,uk),n=ck(t),r=new Iw(t);return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Em(t,n,!0);case 3:i=e.sent,a=new hg(n,i.Yi),u=a.Hu(i.documents),s=a.applyChanges(u,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=Gy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Db(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new xw(t,r,e,n)}))}function Aw(e,t,n){e=Hb(e,$b);var r=Hb(e.firestore,uk),i=yw(e.converter,t,n);return Mw(r,[Ck(Tk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wd.none())])}function Nw(e,t,n){e=Hb(e,$b);for(var r=Hb(e.firestore,uk),i=Tk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Mw(r,[("string"==typeof(t=Nr(t))||t instanceof gk?Lk(i,"updateDoc",e._key,t,n,o):Mk(i,"updateDoc",e._key,t)).toMutation(e._key,wd.exists(!0))])}function Dw(e){return Mw(Hb(e.firestore,uk),[new Ld(e._key,wd.none())])}function Pw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=Nr(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ak(n[l])||(c=n[l],l++);var f,d,h,p={includeMetadataChanges:c.includeMetadataChanges};if(ak(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof $b)d=Hb(e.firestore,uk),h=zf(e._key.path),f={next:function(t){n[l]&&n[l](Lw(d,e,t))},error:n[l+1],complete:n[l+2]};else{var m=Hb(e,Jb);d=Hb(m.firestore,uk),h=m._query;var y=new Iw(d);f={next:function(e){n[l]&&n[l](new xw(d,y,m,e))},error:n[l+1],complete:n[l+2]},Yk(e._query)}return function(e,t,n,r){var i=new gb(r),a=new og(t,i,n);return e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zy,t.next=3,Lb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tg,t.next=3,Lb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ck(d),h,p,f)}function Ow(e,t){return function(e,t){var n=new gb(t);return e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yc(e).vu.add(t),t.next()},t.next=3,Lb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yc(e).vu.delete(t)},t.next=3,Lb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ck(e=Hb(e,uk)),ak(t)?t:{next:t})}function Mw(e,t){return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Eg,r.next=3,Ob(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ck(e),t)}function Lw(e,t,n){var r=n.docs.get(t._key),i=new Iw(e);return new kw(e,i,t._key,r,new bw(n.hasPendingWrites,n.fromCache),t.converter)}var Fw={maxAttempts:5},jw=function(){function e(t,n){$n(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tk(t)}return Zn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Uw(e,this._firestore),i=yw(r.converter,t,n),a=Ck(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,wd.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Uw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nr(t))||t instanceof gk?Lk(this._dataReader,"WriteBatch.update",i._key,t,n,o):Mk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wd.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Uw(e,this._firestore);return this._mutations=this._mutations.concat(new Ld(t._key,wd.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new bc(gc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Uw(e,t){if((e=Nr(e)).firestore!==t)throw new bc(gc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Bw=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,r))._firestore=e,i}return Zn(n,[{key:"get",value:function(e){var t=this,r=Uw(e,this._firestore),i=new Iw(this._firestore);return qn(zn(n.prototype),"get",this).call(this,e).then((function(e){return new kw(t._firestore,i,r._key,e._document,new bw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){$n(this,e),this._firestore=t,this._transaction=n,this._dataReader=Tk(t)}return Zn(e,[{key:"get",value:function(e){var t=this,n=Uw(e,this._firestore),r=new gw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vc();var i=e[0];if(i.isFoundDocument())return new Gk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Gk(t._firestore,r,n._key,null,n.converter);throw vc()}))}},{key:"set",value:function(e,t,n){var r=Uw(e,this._firestore),i=yw(r.converter,t,n),a=Ck(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Uw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nr(t))||t instanceof gk?Lk(this._dataReader,"Transaction.update",i._key,t,n,o):Mk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Uw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dk("arrayUnion",t)}function zw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sc=e}(Ri),xi(new Dr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new uk(new Sc(e.getProvider("auth-internal")),new Cc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bc(gc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Mi(oc,"3.9.0",e),Mi(oc,"3.9.0","esm2017")}();function qw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ww;Object.create;var Kw={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Hw={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Gw(){return He({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qw=function(){var e;return He(e={},"admin-restricted-operation","This operation is restricted to administrators only."),He(e,"argument-error",""),He(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),He(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),He(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),He(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),He(e,"cordova-not-ready","Cordova framework is not ready."),He(e,"cors-unsupported","This browser is not supported."),He(e,"credential-already-in-use","This credential is already associated with a different user account."),He(e,"custom-token-mismatch","The custom token corresponds to a different audience."),He(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),He(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),He(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),He(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),He(e,"email-already-in-use","The email address is already in use by another account."),He(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),He(e,"expired-action-code","The action code has expired."),He(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),He(e,"internal-error","An internal AuthError has occurred."),He(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),He(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),He(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),He(e,"invalid-auth-event","An internal AuthError has occurred."),He(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),He(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),He(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),He(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),He(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),He(e,"invalid-email","The email address is badly formatted."),He(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),He(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),He(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),He(e,"invalid-credential","The supplied auth credential is malformed or has expired."),He(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),He(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),He(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),He(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),He(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),He(e,"wrong-password","The password is invalid or the user does not have a password."),He(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),He(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),He(e,"invalid-provider-id","The specified provider ID is invalid."),He(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),He(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),He(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),He(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),He(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),He(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),He(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),He(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),He(e,"missing-continue-uri","A continue URL must be provided in the request."),He(e,"missing-iframe-start","An internal AuthError has occurred."),He(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),He(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),He(e,"missing-multi-factor-info","No second factor identifier is provided."),He(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),He(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),He(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),He(e,"app-deleted","This instance of FirebaseApp has been deleted."),He(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),He(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),He(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),He(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),He(e,"no-auth-event","An internal AuthError has occurred."),He(e,"no-such-provider","User was not linked to an account with the given provider."),He(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),He(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),He(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),He(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),He(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),He(e,"provider-already-linked","User can only be linked to one identity for the given provider."),He(e,"quota-exceeded","The project's quota for this operation has been exceeded."),He(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),He(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),He(e,"rejected-credential","The request contains malformed or mismatching credentials."),He(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),He(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),He(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),He(e,"timeout","The operation has timed out."),He(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),He(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),He(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),He(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),He(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),He(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),He(e,"unverified-email","The operation requires a verified email."),He(e,"user-cancelled","The user did not grant your application the permissions it requested."),He(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),He(e,"user-disabled","The user account has been disabled by an administrator."),He(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),He(e,"user-signed-out",""),He(e,"weak-password","The password must be 6 characters long or more."),He(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),He(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Xw=Gw,Yw=new br("auth","Firebase",Gw()),$w=new Wr("@firebase/auth");function Jw(e){if($w.logLevel<=Fr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$w.error.apply($w,["Auth (".concat(Ri,"): ").concat(e)].concat(n))}}function Zw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rx.apply(void 0,[e].concat(n))}function ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rx.apply(void 0,[e].concat(n))}function tx(e,t,n){var r=Object.assign(Object.assign({},Xw()),He({},t,n));return new br("auth","Firebase",r).create(t,{appName:e.name})}function nx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Zw(e,"argument-error"),tx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function rx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Yn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Yn(o)))}return Yw.create.apply(Yw,[e].concat(n))}function ix(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rx.apply(void 0,[t].concat(r))}}function ax(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Jw(t),new Error(t)}function ox(e,t){e||ax(t)}var ux=new Map;function sx(e){ox(e instanceof Function,"Expected a class definition");var t=ux.get(e);return t?(ox(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ux.set(e,t),t)}function cx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lx(){return"http:"===fx()||"https:"===fx()}function fx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var dx=function(){function e(t,n){$n(this,e),this.shortDelay=t,this.longDelay=n,ox(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dr())||vr()}return Zn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lx()||pr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function hx(e,t){ox(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var px=function(){function e(){$n(this,e)}return Zn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ax("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ax("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ax("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),vx=(He(Ww={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),He(Ww,"MISSING_CUSTOM_TOKEN","internal-error"),He(Ww,"INVALID_IDENTIFIER","invalid-email"),He(Ww,"MISSING_CONTINUE_URI","internal-error"),He(Ww,"INVALID_PASSWORD","wrong-password"),He(Ww,"MISSING_PASSWORD","internal-error"),He(Ww,"EMAIL_EXISTS","email-already-in-use"),He(Ww,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),He(Ww,"INVALID_IDP_RESPONSE","invalid-credential"),He(Ww,"INVALID_PENDING_TOKEN","invalid-credential"),He(Ww,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),He(Ww,"MISSING_REQ_TYPE","internal-error"),He(Ww,"EMAIL_NOT_FOUND","user-not-found"),He(Ww,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),He(Ww,"EXPIRED_OOB_CODE","expired-action-code"),He(Ww,"INVALID_OOB_CODE","invalid-action-code"),He(Ww,"MISSING_OOB_CODE","internal-error"),He(Ww,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),He(Ww,"INVALID_ID_TOKEN","invalid-user-token"),He(Ww,"TOKEN_EXPIRED","user-token-expired"),He(Ww,"USER_NOT_FOUND","user-token-expired"),He(Ww,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),He(Ww,"INVALID_CODE","invalid-verification-code"),He(Ww,"INVALID_SESSION_INFO","invalid-verification-id"),He(Ww,"INVALID_TEMPORARY_PROOF","invalid-credential"),He(Ww,"MISSING_SESSION_INFO","missing-verification-id"),He(Ww,"SESSION_EXPIRED","code-expired"),He(Ww,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),He(Ww,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),He(Ww,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),He(Ww,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),He(Ww,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),He(Ww,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),He(Ww,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),He(Ww,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),He(Ww,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),He(Ww,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),He(Ww,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ww),mx=new dx(3e4,6e4);function yx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function gx(e,t,n,r){return bx.apply(this,arguments)}function bx(){return bx=s(o().mark((function e(t,n,r,i){var a,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",kx(t,a,s(o().mark((function e(){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},u={},i&&("GET"===n?u=i:a={body:JSON.stringify(i)}),s=Sr(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",px.fetch()(Sx(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function kx(e,t,n){return wx.apply(this,arguments)}function wx(){return wx=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},vx),n),e.prev=2,a=new _x(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ix(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=h(l,2),d=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Ix(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Ix(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Ix(t,"user-disabled",s);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw tx(t,v,p);case 34:Zw(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gr)){e.next=41;break}throw e.t0;case 41:Zw(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),wx.apply(this,arguments)}function xx(e,t,n,r){return Ex.apply(this,arguments)}function Ex(){return Ex=s(o().mark((function e(t,n,r,i){var a,u,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,gx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(u=e.sent)&&Zw(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Sx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?hx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var _x=function(){function e(t){var n=this;$n(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ex(n.auth,"network-request-failed"))}),mx.get())}))}return Zn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ix(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ex(e,t,r);return i.customData._tokenResponse=n,i}function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Rx(e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Nx(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Px(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ox(){return Ox=s(o().mark((function e(t){var n,r,i,a,u,s,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Nr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ix((a=Lx(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),u="object"===typeof a.firebase?a.firebase:void 0,s=null===u||void 0===u?void 0:u.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Px(Mx(a.auth_time)),issuedAtTime:Px(Mx(a.iat)),expirationTime:Px(Mx(a.exp)),signInProvider:s||null,signInSecondFactor:(null===u||void 0===u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Mx(e){return 1e3*Number(e)}function Lx(e){var t=h(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Jw("JWT malformed, contained fewer than 3 sections"),null;try{var a=ir(r);return a?JSON.parse(a):(Jw("Failed to decode base64 JWT payload"),null)}catch(o){return Jw("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Fx(e,t){return jx.apply(this,arguments)}function jx(){return jx=s(o().mark((function e(t,n){var r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gr&&Ux(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),jx.apply(this,arguments)}function Ux(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Bx=function(){function e(t){$n(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Zn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vx=function(){function e(t,n){$n(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Zn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Px(this.lastLoginAt),this.creationTime=Px(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function zx(e){return qx.apply(this,arguments)}function qx(){return qx=s(o().mark((function e(t){var n,r,i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fx(t,Nx(r,{idToken:i}));case 6:ix(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),u=a.users[0],t._notifyReloadListener(u),s=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?u.providerUserInfo.map((function(e){var t=e.providerId,n=qw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=Kx(t.providerData,s),l=t.isAnonymous,f=!(t.email&&u.passwordHash)&&!(null===c||void 0===c?void 0:c.length),d=!!l&&f,h={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:c,metadata:new Vx(u.createdAt,u.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Wx(){return(Wx=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nr(t),e.next=3,zx(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Yn(n),Yn(t))}function Hx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kx(t,{},s(o().mark((function e(){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,u=i.apiKey,s=Sx(t,a,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",px.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}var Qx=function(){function e(){$n(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Zn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ix(e.idToken,"internal-error"),ix("undefined"!==typeof e.idToken,"internal-error"),ix("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Lx(e);return ix(t,"internal-error"),ix("undefined"!==typeof t.exp,"internal-error"),ix("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=s(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ix(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,u=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ax("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ix("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ix("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ix("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Xx(e,t){ix("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Yx=function(){function e(t){$n(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Yn(a.providerData):[],this.metadata=new Vx(a.createdAt||void 0,a.lastLoginAt||void 0)}return Zn(e,[{key:"getIdToken",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ix(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ox.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Wx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ix(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ix(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=s(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,zx(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Fx(this,Tx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ix(b&&E,t,"internal-error");var S=Qx.fromJSON(this.name,E);ix("string"===typeof b,t,"internal-error"),Xx(f,t.name),Xx(d,t.name),ix("boolean"===typeof k,t,"internal-error"),ix("boolean"===typeof w,t,"internal-error"),Xx(h,t.name),Xx(p,t.name),Xx(v,t.name),Xx(m,t.name),Xx(y,t.name),Xx(g,t.name);var _=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=s(o().mark((function t(n,r){var i,a,u,s=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Qx).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,zx(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),$x=function(){function e(){$n(this,e),this.type="NONE",this.storage={}}return Zn(e,[{key:"_isAvailable",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();$x.type="NONE";var Jx=$x;function Zx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var eE=function(){function e(t,n,r){$n(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Zx(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Zn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Yx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=s(o().mark((function t(n,r){var i,a,u,c,l,f,d,h,p,v,m,y=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(sx(Jx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),u=a[0]||sx(Jx),c=Zx(i,n.config.apiKey,n.name),l=null,f=Kn(r),t.prev=10,f.s();case 12:if((d=f.n()).done){t.next=29;break}return h=d.value,t.prev=14,t.next=17,h._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=Yx._fromJSON(n,p),h!==u&&(l=v),u=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,i));case 40:if(u=m[0],!l){t.next=44;break}return t.next=44,u._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function tE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uE(t))return"Blackberry";if(sE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||iE(t))&&!t.includes("edge/"))return"Chrome";if(oE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function nE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/firefox\//i.test(e)}function rE(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/crios\//i.test(e)}function aE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/iemobile/i.test(e)}function oE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/android/i.test(e)}function uE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/blackberry/i.test(e)}function sE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/webos/i.test(e)}function cE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return cE(e)||oE(e)||sE(e)||uE(e)||/windows phone/i.test(e)||aE(e)}function fE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=tE(dr());break;case"Worker":t="".concat(tE(dr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ri,"/").concat(r)}var dE=function(){function e(t){$n(this,e),this.auth=t,this.queue=[]}return Zn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Kn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),u=Kn(n);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(o){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hE=function(){function e(t,n,r){$n(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new dE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Zn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=sx(t)),this._initializationPromise=this.queue(s(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,eE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ix(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zx(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nr(t):null)&&ix(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=s(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ix(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(sx(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new br("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ix(n=t&&sx(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,eE.create(this,[sx(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ix(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ix(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=He({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pE(e){return Nr(e)}var vE=function(){function e(t){var n=this;$n(this,e),this.auth=t,this.observer=null,this.addObserver=Tr((function(e){return n.observer=e}))}return Zn(e,[{key:"next",get:function(){return ix(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function mE(e,t,n){var r=pE(e);ix(r._canInitEmulator,r,"emulator-config-failed"),ix(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=yE(t),o=function(e){var t=yE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:gE(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:gE(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function yE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var bE=function(){function e(t,n){$n(this,e),this.providerId=t,this.signInMethod=n}return Zn(e,[{key:"toJSON",value:function(){return ax("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ax("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ax("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ax("not implemented")}}]),e}();function kE(e,t){return wE.apply(this,arguments)}function wE(){return wE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:resetPassword",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){return EE.apply(this,arguments)}function EE(){return EE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function SE(e,t){return _E.apply(this,arguments)}function _E(){return _E=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:update",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithPassword",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t){return RE.apply(this,arguments)}function RE(){return RE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:sendOobCode",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function AE(e,t){return NE.apply(this,arguments)}function NE(){return NE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CE(t,n));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function DE(e,t){return PE.apply(this,arguments)}function PE(){return PE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CE(t,n));case 1:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function OE(e,t){return ME.apply(this,arguments)}function ME(){return ME=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CE(t,n));case 1:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function LE(e,t){return FE.apply(this,arguments)}function FE(){return FE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CE(t,n));case 1:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function jE(e,t){return UE.apply(this,arguments)}function UE(){return UE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithEmailLink",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function BE(e,t){return VE.apply(this,arguments)}function VE(){return VE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithEmailLink",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}var zE=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $n(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Zn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",IE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jE(t,{email:this._email,oobCode:this._password}));case 5:Zw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",BE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Zw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(bE);function qE(e,t){return WE.apply(this,arguments)}function WE(){return WE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithIdp",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}var KE=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Zn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return qE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(bE);function HE(e,t){return GE.apply(this,arguments)}function GE(){return GE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:sendVerificationCode",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(){return QE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithPhoneNumber",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function XE(){return XE=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xx(t,"POST","/v1/accounts:signInWithPhoneNumber",yx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ix(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}var YE=He({},"USER_NOT_FOUND","user-not-found");function $E(){return $E=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithPhoneNumber",yx(t,r),YE));case 2:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}var JE=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return QE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return XE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $E.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(bE);var ZE=function(){function e(t){var n,r,i,a,o,u;$n(this,e);var s=_r(Ir(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ix(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Zn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_r(Ir(e)).link,n=t?_r(Ir(t)).deep_link_id:null,r=_r(Ir(e)).deep_link_id;return(r?_r(Ir(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(yb){return null}}}]),e}();var eS=function(){function e(){$n(this,e),this.providerId=e.PROVIDER_ID}return Zn(e,null,[{key:"credential",value:function(e,t){return zE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ZE.parseLink(t);return ix(n,"argument-error"),zE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();eS.PROVIDER_ID="password",eS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var tS=function(){function e(t){$n(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Zn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),nS=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Zn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Yn(this.scopes)}}]),n}(tS),rS=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ix(e.idToken||e.accessToken,"argument-error"),KE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ix("providerId"in t&&"signInMethod"in t,"argument-error"),KE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(nS),iS=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.call(this,"facebook.com")}return Zn(n,null,[{key:"credential",value:function(e){return KE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(yb){return null}}}]),n}(nS);iS.FACEBOOK_SIGN_IN_METHOD="facebook.com",iS.PROVIDER_ID="facebook.com";var aS=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Zn(n,null,[{key:"credential",value:function(e,t){return KE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(yb){return null}}}]),n}(nS);aS.GOOGLE_SIGN_IN_METHOD="google.com",aS.PROVIDER_ID="google.com";var oS=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.call(this,"github.com")}return Zn(n,null,[{key:"credential",value:function(e){return KE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(yb){return null}}}]),n}(nS);oS.GITHUB_SIGN_IN_METHOD="github.com",oS.PROVIDER_ID="github.com";var uS=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return qE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(bE),sS=function(e){Hn(n,e);var t=Qn(n);function n(e){return $n(this,n),ix(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Zn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=uS.fromJSON(e);return ix(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return uS._create(r,n)}catch(i){return null}}}]),n}(tS),cS=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.call(this,"twitter.com")}return Zn(n,null,[{key:"credential",value:function(e,t){return KE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(yb){return null}}}]),n}(nS);function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signUp",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}cS.TWITTER_SIGN_IN_METHOD="twitter.com",cS.PROVIDER_ID="twitter.com";var dS=function(){function e(t){$n(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Zn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=s(o().mark((function t(n,r,i){var a,u,s,c,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Yx._fromIdTokenResponse(n,i,a);case 3:return u=t.sent,s=hS(i),c=new e({user:u,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=s(o().mark((function t(n,r,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hS(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function pS(){return pS=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new dS({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,lS(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,dS._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}var vS=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a){var o,u;return $n(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Gn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Zn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gr);function mS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vS._fromErrorAndOperation(e,n,t,r);throw n}))}function yS(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function gS(e,t){return bS.apply(this,arguments)}function bS(){return bS=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nr(t),e.next=3,xS(!0,r,n);case 3:return e.t0=Rx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,u=yS(a||[]),r.providerData=r.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function kS(e,t){return wS.apply(this,arguments)}function wS(){return wS=s(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",dS._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zx(n);case 2:i=yS(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ix(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function SS(e,t){return _S.apply(this,arguments)}function _S(){return _S=s(o().mark((function e(t,n){var r,i,a,u,s,c,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Fx(t,mS(i,a,n,t),r);case 6:return ix((u=e.sent).idToken,i,"internal-error"),ix(s=Lx(u.idToken),i,"internal-error"),c=s.sub,ix(t.uid===c,i,"user-mismatch"),e.abrupt("return",dS._forOperation(t,a,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Zw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),_S.apply(this,arguments)}function IS(e,t){return TS.apply(this,arguments)}function TS(){return TS=s(o().mark((function e(t,n){var r,i,a,u,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mS(t,i,n);case 4:return a=e.sent,e.next=7,dS._fromIdTokenResponse(t,i,a);case 7:if(u=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t){return RS.apply(this,arguments)}function RS(){return RS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IS(pE(t),n));case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function AS(e,t){return NS.apply(this,arguments)}function NS(){return(NS=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nr(t),e.next=3,xS(!1,r,n.providerId);case 3:return e.abrupt("return",kS(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DS(e,t){return PS.apply(this,arguments)}function PS(){return(PS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(Nr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OS(e,t){return MS.apply(this,arguments)}function MS(){return MS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xx(t,"POST","/v1/accounts:signInWithCustomToken",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function LS(){return LS=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.next=3,OS(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,dS._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}var FS=function(){function e(t,n){$n(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Zn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?jS._fromServerResponse(e,t):Zw(e,"internal-error")}}]),e}(),jS=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Zn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(FS);function US(e,t,n){var r;ix((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ix("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ix(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ix(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function BS(){return BS=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),a={requestType:"PASSWORD_RESET",email:n},r&&US(i,a,r),e.next=5,DE(i,a);case 5:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function VS(){return VS=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kE(Nr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(){return zS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SE(Nr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function qS(e,t){return WS.apply(this,arguments)}function WS(){return WS=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nr(t),e.next=3,kE(r,{oobCode:n});case 3:i=e.sent,ix(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ix(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ix(i.mfaInfo,r,"internal-error");case 13:ix(i.email,r,"internal-error");case 14:return u=null,i.mfaInfo&&(u=FS._fromServerResponse(pE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:u},operation:a});case 17:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(){return KS=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qS(Nr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(e,t,n){return GS.apply(this,arguments)}function GS(){return GS=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pE(t),e.next=3,lS(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,dS._fromIdTokenResponse(i,"signIn",a);case 6:return u=e.sent,e.next=9,i._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(){return QS=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),a={requestType:"EMAIL_SIGNIN",email:n},ix(r.handleCodeInApp,i,"argument-error"),r&&US(i,a,r),e.next=6,OE(i,a);case 6:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function XS(){return XS=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),ix((a=eS.credentialWithLink(n,r||cx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",CS(i,a));case 4:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function YS(e,t){return $S.apply(this,arguments)}function $S(){return $S=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:createAuthUri",yx(t,n)));case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function JS(){return JS=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx()?cx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,YS(Nr(t),i);case 4:return a=e.sent,u=a.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(){return(ZS=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&US(r.auth,a,n),e.next=8,AE(r.auth,a);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function e_(){return(e_=s(o().mark((function e(t,n,r){var i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&US(i.auth,u,r),e.next=8,LE(i.auth,u);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(){return(r_=s(o().mark((function e(t,n){var r,i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nr(t),e.next=6,a.getIdToken();case 6:return u=e.sent,s={idToken:u,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Fx(a,t_(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i_(e,t,n){return a_.apply(this,arguments)}function a_(){return a_=s(o().mark((function e(t,n,r){var i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,u={idToken:a,returnSecureToken:!0},n&&(u.email=n),r&&(u.password=r),e.next=9,Fx(t,xE(i,u));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}var o_=Zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$n(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),u_=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a){var o;return $n(this,n),(o=t.call(this,e,r,i)).username=a,o}return Zn(n)}(o_),s_=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"facebook.com",r)}return Zn(n)}(o_),c_=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Zn(n)}(u_),l_=function(e){Hn(n,e);var t=Qn(n);function n(e,r){return $n(this,n),t.call(this,e,"google.com",r)}return Zn(n)}(o_),f_=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i){return $n(this,n),t.call(this,e,"twitter.com",r,i)}return Zn(n)}(u_);function d_(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Lx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new o_(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new s_(a,i);case"github.com":return new c_(a,i);case"google.com":return new l_(a,i);case"twitter.com":return new f_(a,i,e.screenName||null);case"custom":case"anonymous":return new o_(a,null);default:return new o_(a,r,i)}}(n)}var h_=function(){function e(t,n,r){$n(this,e),this.type=t,this.credential=n,this.auth=r}return Zn(e,[{key:"toJSON",value:function(){return{multiFactorSession:He({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),p_=function(){function e(t,n,r){$n(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Zn(e,[{key:"resolveSignIn",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=pE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return FS._fromServerResponse(r,e)}));ix(i.mfaPendingCredential,r,"internal-error");var u=h_._fromMfaPendingCredential(i.mfaPendingCredential);return new e(u,a,function(){var e=s(o().mark((function e(t){var a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,dS._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return ix(n.user,r,"internal-error"),e.abrupt("return",dS._forOperation(n.user,n.operationType,s));case 17:Zw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function v_(e,t){return gx(e,"POST","/v2/accounts/mfaEnrollment:start",yx(e,t))}function m_(e,t){return gx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",yx(e,t))}var y_=function(){function e(t){var n=this;$n(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return FS._fromServerResponse(t.auth,e)})))}))}return Zn(e,[{key:"getSession",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h_,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Fx(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Fx(this.user,m_(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),g_=new WeakMap;var b_="__sak",k_=function(){function e(t,n){$n(this,e),this.storageRetriever=t,this.type=n}return Zn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(b_,"1"),this.storage.removeItem(b_),Promise.resolve(!0)):Promise.resolve(!1)}catch(yb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var w_=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=dr();return rE(e)||cE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lE(),e._shouldAllowMigration=!0,e}return Zn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=s(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(zn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(zn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(zn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(k_);w_.type="LOCAL";var x_=w_,E_=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Zn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(k_);E_.type="SESSION";var S_=E_;function __(e){return Promise.all(e.map(function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var I_=function(){function e(t){$n(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Zn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,u=r.data,null===(c=this.handlersMap[a])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(c).map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,__(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function T_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}I_.receivers=[];var C_=function(){function e(t){$n(this,e),this.target=t,this.handlers=new Set}return Zn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,o){var c=T_("",20);i.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);u={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),o(new Error("invalid_response"))}}},s.handlers.add(u),i.port1.addEventListener("message",u.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){u&&s.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function R_(){return window}function A_(){return"undefined"!==typeof R_().WorkerGlobalScope&&"function"===typeof R_().importScripts}function N_(){return D_.apply(this,arguments)}function D_(){return(D_=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function P_(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var O_="firebaseLocalStorageDb",M_=1,L_="firebaseLocalStorage",F_="fbase_key",j_=function(){function e(t){$n(this,e),this.request=t}return Zn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function U_(e,t){return e.transaction([L_],t?"readwrite":"readonly").objectStore(L_)}function B_(){var e=indexedDB.deleteDatabase(O_);return new j_(e).toPromise()}function V_(){var e=indexedDB.open(O_,M_);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(L_,{keyPath:F_})}catch(r){n(r)}})),e.addEventListener("success",s(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(L_)){n.next=12;break}return r.close(),n.next=5,B_();case 5:return n.t0=t,n.next=8,V_();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function z_(e,t,n){return q_.apply(this,arguments)}function q_(){return q_=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=U_(t,!0).put((He(i={},F_,n),He(i,"value",r),i)),e.abrupt("return",new j_(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function W_(e,t){return K_.apply(this,arguments)}function K_(){return K_=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U_(t,!1).get(n),e.next=3,new j_(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function H_(e,t){var n=U_(e,!0).delete(t);return new j_(n).toPromise()}var G_=function(){function e(){$n(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Zn(e,[{key:"_openDb",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,V_();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A_()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=I_._getInstance(A_()?self:null),this.receiver._subscribe("keyChanged",function(){var e=s(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new C_(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&P_()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,V_();case 5:return t=e.sent,e.next=8,z_(t,b_,"1");case 8:return e.next=10,H_(t,b_);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return z_(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return W_(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return H_(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a,u,s,c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=U_(e,!1).getAll();return new j_(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Kn(t);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.fbase_key,c=u.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(o){i.e(o)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)d=f[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();G_.type="LOCAL";var Q_=G_;function X_(e,t){return gx(e,"POST","/v2/accounts/mfaSignIn:start",yx(e,t))}function Y_(e){return $_.apply(this,arguments)}function $_(){return $_=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function J_(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ex("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Z_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var eI=1e12,tI=function(){function e(t){$n(this,e),this.auth=t,this.counter=eI,this._widgets=new Map}return Zn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new nI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||eI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||eI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||eI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nI=function(){function e(t,n,r){var i=this;$n(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ix(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Zn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var rI=Z_("rcb"),iI=new dx(3e4,6e4),aI=function(){function e(){var t;$n(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=R_().grecaptcha)||void 0===t?void 0:t.render)}return Zn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ix(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(R_().grecaptcha):new Promise((function(r,i){var a=R_().setTimeout((function(){i(ex(e,"network-request-failed"))}),iI.get());R_()[rI]=function(){R_().clearTimeout(a),delete R_()[rI];var o=R_().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ex(e,"internal-error"))},J_("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Sr({onload:rI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ex(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=R_().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var oI=function(){function e(){$n(this,e)}return Zn(e,[{key:"load",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new tI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),uI="recaptcha",sI={theme:"light",type:"image"},cI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},sI),r=arguments.length>2?arguments[2]:void 0;$n(this,e),this.parameters=n,this.type=uI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pE(r),this.isInvisible="invisible"===this.parameters.size,ix("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ix(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oI:new aI,this.validateStartingState()}return Zn(e,[{key:"verify",value:function(){var e=s(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ix(!this.parameters.sitekey,this.auth,"argument-error"),ix(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ix("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=R_()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ix(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ix(lx()&&!A_(),this.auth,"internal-error"),e.next=3,lI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Y_(this.auth);case 8:ix(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ix(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function lI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var fI=function(){function e(t,n){$n(this,e),this.verificationId=t,this.onConfirmation=n}return Zn(e,[{key:"confirm",value:function(e){var t=JE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function dI(){return dI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pE(t),e.next=3,mI(i,n,Nr(r));case 3:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return CS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function hI(e,t,n){return pI.apply(this,arguments)}function pI(){return(pI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),e.next=3,xS(!1,i,"phone");case 3:return e.next=5,mI(i.auth,n,Nr(r));case 5:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return AS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vI(){return(vI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nr(t),e.next=3,mI(i.auth,n,Nr(r));case 3:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return DS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mI(e,t,n){return yI.apply(this,arguments)}function yI(){return yI=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ix("string"===typeof a,t,"argument-error"),ix(r.type===uI,t,"argument-error"),!("session"in(u="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=u.session,!("phoneNumber"in u)){e.next=17;break}return ix("enroll"===s.type,t,"internal-error"),e.next=13,v_(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return ix("signin"===s.type,t,"internal-error"),ix(l=(null===(i=u.multiFactorHint)||void 0===i?void 0:i.uid)||u.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,X_(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,HE(t,{phoneNumber:u.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),yI.apply(this,arguments)}function gI(){return(gI=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kS(Nr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bI=function(){function e(t){$n(this,e),this.providerId=e.PROVIDER_ID,this.auth=pE(t)}return Zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return mI(this.auth,e,Nr(t))}}],[{key:"credential",value:function(e,t){return JE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?JE._fromTokenResponse(n,r):null}}]),e}();function kI(e,t){return t?sx(t):(ix(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bI.PROVIDER_ID="phone",bI.PHONE_SIGN_IN_METHOD="phone";var wI=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return qE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return qE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return qE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(bE);function xI(e){return IS(e.auth,new wI(e),e.bypassAuthState)}function EI(e){var t=e.auth,n=e.user;return ix(n,t,"internal-error"),SS(n,new wI(e),e.bypassAuthState)}function SI(e){return _I.apply(this,arguments)}function _I(){return _I=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ix(r=t.user,n,"internal-error"),e.abrupt("return",kS(r,new wI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}var II=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];$n(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Zn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=s(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,u=t.error,s=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return SI;case"reauthViaPopup":case"reauthViaRedirect":return EI;default:Zw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ox(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ox(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),TI=new dx(2e3,1e4);function CI(e,t,n){return RI.apply(this,arguments)}function RI(){return RI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pE(t),nx(t,n,tS),a=kI(i,r),u=new PI(i,"signInViaPopup",n,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function AI(){return AI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nx((i=Nr(t)).auth,n,tS),a=kI(i.auth,r),u=new PI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t,n){return DI.apply(this,arguments)}function DI(){return DI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nx((i=Nr(t)).auth,n,tS),a=kI(i.auth,r),u=new PI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}var PI=function(e){Hn(n,e);var t=Qn(n);function n(e,r,i,a,o){var u;return $n(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Gn(u),u}return Zn(n,[{key:"executeNotNull",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ix(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox(1===this.filter.length,"Popup operations only handle one event"),t=T_(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ex(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ex(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ex(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,TI.get())}()}}]),n}(II);PI.currentPopupAction=null;var OI="pendingRedirect",MI=new Map,LI=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $n(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Zn(n,[{key:"execute",value:function(){var e=s(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=MI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,FI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,qn(zn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:MI.set(this.auth._key(),t);case 21:return this.bypassAuthState||MI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",qn(zn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",qn(zn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(II);function FI(e,t){return jI.apply(this,arguments)}function jI(){return jI=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(n),i=zI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t){return BI.apply(this,arguments)}function BI(){return BI=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zI(t)._set(qI(n),"true"));case 1:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function VI(e,t){MI.set(e._key(),t)}function zI(e){return sx(e._redirectPersistence)}function qI(e){return Zx(OI,e.config.apiKey,e.name)}function WI(e,t,n){return function(e,t,n){return KI.apply(this,arguments)}(e,t,n)}function KI(){return KI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pE(t),nx(t,n,tS),e.next=4,i._initializationPromise;case 4:return a=kI(i,r),e.next=7,UI(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function HI(e,t,n){return function(e,t,n){return GI.apply(this,arguments)}(e,t,n)}function GI(){return GI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nx((i=Nr(t)).auth,n,tS),e.next=4,i.auth._initializationPromise;case 4:return a=kI(i.auth,r),e.next=7,UI(a,i.auth);case 7:return e.next=9,eT(i);case 9:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",u));case 11:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(e,t,n){return function(e,t,n){return XI.apply(this,arguments)}(e,t,n)}function XI(){return XI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nx((i=Nr(t)).auth,n,tS),e.next=4,i.auth._initializationPromise;case 4:return a=kI(i.auth,r),e.next=7,xS(!1,i,n.providerId);case 7:return e.next=9,UI(a,i.auth);case 9:return e.next=11,eT(i);case 11:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",u));case 13:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function YI(e,t){return $I.apply(this,arguments)}function $I(){return $I=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pE(t)._initializationPromise;case 2:return e.abrupt("return",JI(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=s(o().mark((function e(t,n){var r,i,a,u,s,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=pE(t),a=kI(i,n),u=new LI(i,a,r),e.next=6,u.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eT(e){return tT.apply(this,arguments)}function tT(){return(tT=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T_("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nT=function(){function e(t){$n(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Zn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!iT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ex(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function rT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function iT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function aT(e){return oT.apply(this,arguments)}function oT(){return oT=s(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",gx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}var uT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sT=/^https?/;function cT(){return cT=s(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,aT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Kn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(u=a.value,e.prev=11,!lT(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Zw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),cT.apply(this,arguments)}function lT(e){var t=cx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sT.test(r))return!1;if(uT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fT=new dx(3e4,6e4);function dT(){var e=R_().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Yn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var hT=null;function pT(e){return hT=hT||function(e){return new Promise((function(t,n){var r,i,a;function o(){dT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){dT(),n(ex(e,"network-request-failed"))},timeout:fT.get()})}if(null===(i=null===(r=R_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=R_().gapi)||void 0===a?void 0:a.load)){var u=Z_("iframefcb");return R_()[u]=function(){gapi.load?o():n(ex(e,"network-request-failed"))},J_("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw hT=null,e}))}(e),hT}var vT=new dx(5e3,15e3),mT="__/auth/iframe",yT="emulator/auth/iframe",gT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kT(e){var t=e.config;ix(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?hx(t,yT):"https://".concat(e.config.authDomain,"/").concat(mT),r={apiKey:t.apiKey,appName:e.name,v:Ri},i=bT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Sr(r).slice(1))}function wT(e){return xT.apply(this,arguments)}function xT(){return xT=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pT(t);case 2:return n=e.sent,ix(r=R_().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:kT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gT,dontclear:!0},(function(e){return new Promise(function(){var n=s(o().mark((function n(r,i){var a,u,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){R_().clearTimeout(u),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ex(t,"network-request-failed"),u=R_().setTimeout((function(){i(a)}),vT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}var ET={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ST=500,_T=600,IT="_blank",TT="http://localhost",CT=function(){function e(t){$n(this,e),this.window=t,this.associatedEvent=null}return Zn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function RT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ST,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_T,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ET),{width:r.toString(),height:i.toString(),top:a,left:o}),c=dr().toLowerCase();n&&(u=iE(c)?IT:n),nE(c)&&(t=t||TT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return cE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new CT(null);var f=window.open(t||"",u,l);ix(f,e,"popup-blocked");try{f.focus()}catch(d){}return new CT(f)}var AT="__/auth/handler",NT="emulator/auth/handler";function DT(e,t,n,r,i,a){ix(e.config.authDomain,e,"auth-domain-config-required"),ix(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(t instanceof tS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=h(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof nS){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(AT);return hx(t,NT)}(e),"?").concat(Sr(p).slice(1))}var PT="webStorageSupport",OT=function(){function e(){$n(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S_,this._completeRedirectFn=JI,this._overrideRedirectResult=VI}return Zn(e,[{key:"_openPopup",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ox(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),u=DT(t,n,r,cx(),i),e.abrupt("return",RT(t,u,T_()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=DT(t,n,r,cx(),i),R_().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ox(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wT(t);case 2:return n=e.sent,r=new nT(t),n.register("authEvent",(function(e){return ix(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(PT,{type:PT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[PT];void 0!==i&&t(!!i),Zw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lE()||rE()||cE()}}]),e}(),MT=OT,LT=function(){function e(t){$n(this,e),this.factorId=t}return Zn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ax("unexpected MultiFactorSessionType")}}}]),e}(),FT=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this,"phone")).credential=e,r}return Zn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return gx(e,"POST","/v2/accounts/mfaEnrollment:finalize",yx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return gx(e,"POST","/v2/accounts/mfaSignIn:finalize",yx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(LT),jT=function(){function e(){$n(this,e)}return Zn(e,null,[{key:"assertion",value:function(e){return FT._fromCredential(e)}}]),e}();jT.FACTOR_ID="phone";var UT="@firebase/auth",BT="0.21.5",VT=function(){function e(t){$n(this,e),this.auth=t,this.internalListeners=new Map}return Zn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ix(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var zT;!function(e){var t;null===(t=ur())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function qT(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function WT(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}zT="Browser",xi(new Dr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ix(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ix(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:zT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(zT)},i=new hE(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),xi(new Dr("auth-internal",(function(e){return function(e){return new VT(e)}(pE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(UT,BT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zT)),Mi(UT,BT,"esm2017");var KT=function(){return KT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KT.apply(this,arguments)},HT=function(e){return{loading:void 0===e||null===e,value:e}},GT=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return KT(KT({},e),{error:t.error,loading:!1,value:void 0});case"reset":return HT(t.defaultValue);case"value":return KT(KT({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),HT(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},QT=function(e,n){var r=GT((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return Nr(e).onAuthStateChanged(t,n,r)}(e,(function(e){return qT(void 0,void 0,void 0,(function(){var t;return WT(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]),[s,a,i]},XT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YT=t.createContext&&t.createContext(XT),$T=function(){return $T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$T.apply(this,arguments)},JT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ZT(e){return e&&e.map((function(e,n){return t.createElement(e.tag,$T({key:n},e.attr),ZT(e.child))}))}function eC(e){return function(n){return t.createElement(tC,$T({attr:$T({},e.attr)},n),ZT(e.child))}}function tC(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=JT(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",$T({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:$T($T({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==YT?t.createElement(YT.Consumer,null,(function(e){return n(e)})):n(XT)}function nC(e){return eC({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function rC(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function iC(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function aC(e){return eC({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}var oC,uC="firebasestorage.googleapis.com",sC="storageBucket",cC=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return $n(this,n),(i=t.call(this,lC(e),"Firebase Storage: ".concat(r," (").concat(lC(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Gn(i),n.prototype),i}return Zn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return lC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(gr);function lC(e){return"storage/"+e}function fC(){return new cC(oC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function dC(){return new cC(oC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hC(){return new cC(oC.CANCELED,"User canceled the upload/download.")}function pC(){return new cC(oC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vC(e){return new cC(oC.INVALID_ARGUMENT,e)}function mC(){return new cC(oC.APP_DELETED,"The Firebase app was deleted.")}function yC(e,t){return new cC(oC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function gC(e){throw new cC(oC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(oC||(oC={}));var bC,kC=function(){function e(t,n){$n(this,e),this.bucket=t,this.path_=n}return Zn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new cC(oC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===uC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new cC(oC.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),wC=function(){function e(t){$n(this,e),this.promise_=Promise.reject(t)}return Zn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function xC(e){return"string"===typeof e||e instanceof String}function EC(e){return SC()&&e instanceof Blob}function SC(){return"undefined"!==typeof Blob&&!hr()}function _C(e,t,n,r){if(r<t)throw vC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw vC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function TC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function CC(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(bC||(bC={}));var RC=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];$n(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return Zn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=fC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?mC():hC());else i(dC())}};this.canceled_?t(0,new AC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new AC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===bC.NO_ERROR,a=r.getStatus();if(!n||CC(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===bC.ABORT;t(!1,new AC(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new AC(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),AC=Zn((function e(t,n,r){$n(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function NC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function DC(){for(var e=NC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(SC())return new Blob(n);throw new cC(oC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function PC(e){if("undefined"===typeof atob)throw t="base-64",new cC(oC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var OC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},MC=Zn((function e(t,n){$n(this,e),this.data=t,this.contentType=n||null}));function LC(e,t){switch(e){case OC.RAW:return new MC(FC(t));case OC.BASE64:case OC.BASE64URL:return new MC(jC(e,t));case OC.DATA_URL:return new MC(function(e){var t=new UC(e);return t.base64?jC(OC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw yC(OC.DATA_URL,"Malformed data URL.")}return FC(t)}(t.rest)}(t),new UC(t).contentType)}throw fC()}function FC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function jC(e,t){switch(e){case OC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw yC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case OC.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw yC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=PC(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw yC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var UC=Zn((function e(t){$n(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw yC(OC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var BC=function(){function e(t,n){$n(this,e);var r=0,i="";EC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Zn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(EC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(SC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(DC.apply(null,i))}var a=n.map((function(e){return xC(e)?LC(OC.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function VC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qC(e,t){return t}var WC=Zn((function e(t,n,r,i){$n(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||qC})),KC=null;function HC(){if(KC)return KC;var e=[];e.push(new WC("bucket")),e.push(new WC("generation")),e.push(new WC("metageneration")),e.push(new WC("name","fullPath",!0));var t=new WC("name");t.xform=function(e,t){return function(e){return!xC(e)||e.length<2?e:zC(e)}(t)},e.push(t);var n=new WC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new WC("timeCreated")),e.push(new WC("updated")),e.push(new WC("md5Hash",null,!0)),e.push(new WC("cacheControl",null,!0)),e.push(new WC("contentDisposition",null,!0)),e.push(new WC("contentEncoding",null,!0)),e.push(new WC("contentLanguage",null,!0)),e.push(new WC("contentType",null,!0)),e.push(new WC("metadata","customMetadata",!0)),KC=e}function GC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new kC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function QC(e,t,n){var r=VC(t);return null===r?null:GC(e,r,n)}function XC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var YC=Zn((function e(t,n,r,i){$n(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $C(e){if(!e)throw fC()}function JC(e,t){return function(n,r){var i=QC(e,r,t);return $C(null!==i),i}}function ZC(e,t){return function(n,r){var i=QC(e,r,t);return $C(null!==i),function(e,t,n,r){var i=VC(t);if(null===i)return null;if(!xC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return IC("/b/"+o(i)+"/o/"+o(a),n,r)+TC({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function eR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new cC(oC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new cC(oC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new cC(oC.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new cC(oC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function tR(e){var t=eR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new cC(oC.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function nR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function rR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=nR(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+XC(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=BC.getBlob(c,r,l);if(null===f)throw pC();var d={name:s.fullPath},h=IC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new YC(h,"POST",JC(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=eR(t),v}var iR=null,aR=function(){function e(){var t=this;$n(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=bC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=bC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Zn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw gC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw gC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw gC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw gC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw gC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),oR=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(aR);function uR(){return iR?iR():new oR}var sR=function(){function e(t,n){$n(this,e),this._service=t,this._location=n instanceof kC?n:kC.makeFromUrl(n,t.host)}return Zn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new kC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return zC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new kC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new cC(oC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function cR(e,t,n){e._throwIfRoot("uploadBytes");var r=rR(e.storage,e._location,HC(),new BC(t,!0),n);return e.storage.makeRequestWithTokens(r,uR).then((function(t){return{metadata:t,ref:e}}))}function lR(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=IC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new YC(r,"GET",ZC(e,n),i);return a.errorHandler=tR(t),a}(e.storage,e._location,HC());return e.storage.makeRequestWithTokens(t,uR).then((function(e){if(null===e)throw new cC(oC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function fR(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=IC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new YC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=tR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,uR)}function dR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new kC(e._location.bucket,n);return new sR(e.storage,r)}function hR(e,t){if(e instanceof yR){var n=e;if(null==n._bucket)throw new cC(oC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sC+"' property when initializing the app?");var r=new sR(n,n._bucket);return null!=t?hR(r,t):r}return void 0!==t?dR(e,t):e}function pR(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yR)return new sR(e,t);throw vC("To use ref(service, url), the first argument must be a Storage instance.")}return hR(e,t)}function vR(e,t){var n=null===t||void 0===t?void 0:t[sC];return null==n?null:kC.makeFromBucketSpec(n,e)}var mR,yR=function(){function e(t,n,r,i,a){$n(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?kC.makeFromBucketSpec(i,this._host):vR(this._host,this.app.options)}return Zn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=kC.makeFromBucketSpec(this._url,e):this._bucket=vR(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new sR(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new wC(mC());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=TC(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new RC(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=h(r,2),a=i[0],u=i[1],e.abrupt("return",this._makeRequest(t,n,a,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),gR="@firebase/storage",bR="0.11.2",kR="storage";function wR(e,t){return pR(e=Nr(e),t)}function xR(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:fr(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function ER(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new yR(r,i,a,n,Ri)}xi(new Dr(kR,ER,"PUBLIC").setMultipleInstances(!0)),Mi(gR,bR,""),Mi(gR,bR,"esm2017");var SR=function(){function e(t,n){var r=this;$n(this,e),this._delegate=t,this.firebase=n,ki(t,new Dr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ki(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){wi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),_R=(He(mR={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(mR,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mR),IR=new br("app-compat","Firebase",_R);var TR=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ai(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Mi,setLogLevel:Fi,onLog:Li,apps:null,SDK_VERSION:Ri,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(xi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw IR.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ar(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wr(n,e=e||mi))throw IR.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(SR);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ar(n,e)},createSubscribe:Tr,ErrorFactory:br,deepExtend:ar}),n}(),CR=new Wr("@firebase/app-compat"),RR="@firebase/app-compat",AR="0.2.5";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){CR.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var NR=self.firebase.SDK_VERSION;NR&&NR.indexOf("LITE")>=0&&CR.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var DR=TR;!function(e){Mi(RR,AR,e)}();function PR(e){return c(e)||Xn(e)||f(e)||d()}function OR(){return window}DR.registerVersion("firebase","9.18.0","app-compat");var MR=2e3;function LR(e,t,n){return FR.apply(this,arguments)}function FR(){return FR=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=OR(),u=a.BuildInfo,ox(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qR(n.sessionId);case 4:return s=e.sent,c={},cE()?c.ibi=u.packageName:oE()?c.apn=u.packageName:Zw(t,"operation-not-supported-in-this-environment"),u.displayName&&(c.appDisplayName=u.displayName),c.sessionId=s,e.abrupt("return",DT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),FR.apply(this,arguments)}function jR(){return jR=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OR(),r=n.BuildInfo,i={},cE()?i.iosBundleId=r.packageName:oE()?i.androidPackageName=r.packageName:Zw(t,"operation-not-supported-in-this-environment"),e.next=5,aT(t,i);case 5:case"end":return e.stop()}}),e)}))),jR.apply(this,arguments)}function UR(e){var t=OR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function BR(e,t,n){return VR.apply(this,arguments)}function VR(){return VR=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OR(),a=i.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(ex(t,"redirect-cancelled-by-user"))}),MR))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),oE()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),VR.apply(this,arguments)}function zR(e){var t,n,r,i,a,o,u,s,c,l,f=OR();ix("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ix("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ix("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ix("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ix("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qR(e){return WR.apply(this,arguments)}function WR(){return(WR=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=KR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KR(e){if(ox(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var HR=20,GR=function(e){Hn(n,e);var t=Qn(n);function n(){var e;return $n(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Zn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),qn(zn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nT);function QR(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ZR(),postBody:null,tenantId:e.tenantId,error:ex(e,"no-auth-event")}}function XR(e,t){return eA()._set(tA(e),t)}function YR(e){return $R.apply(this,arguments)}function $R(){return $R=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eA()._get(tA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,eA()._remove(tA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),$R.apply(this,arguments)}function JR(e,t){var n,r,i=function(e){var t=nA(e),n=t.link?decodeURIComponent(t.link):void 0,r=nA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=nA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ex(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ZR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<HR;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function eA(){return sx(x_)}function tA(e){return Zx("authEvent",e.config.apiKey,e.name)}function nA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=PR(e.split("?"));t[0];return _r(t.slice(1).join("?"))}var rA=function(){function e(){$n(this,e),this._redirectPersistence=S_,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=JI,this._overrideRedirectResult=VI}return Zn(e,[{key:"_initialize",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new GR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Zw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),MI.clear(),e.next=10,this._originValidation(t);case 10:return u=QR(t,r,i),e.next=13,XR(t,u);case 13:return e.next=15,LR(t,u,n);case 15:return s=e.sent,e.next=18,UR(s);case 18:return c=e.sent,e.abrupt("return",BR(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=OR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,u=setTimeout(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,YR(e);case 2:t.onEvent(aA());case 3:case"end":return n.stop()}}),n)}))),500),c=function(){var n=s(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,YR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=JR(i,r.url)),t.onEvent(a||aA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,c);var l=i,f="".concat(a.packageName.toLowerCase(),"://");OR().handleOpenURL=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),iA=rA;function aA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ex("no-auth-event")}}var oA="@firebase/auth-compat",uA="0.3.5",sA=1e3;function cA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return!("file:"!==cA()&&"ionic:"!==cA()&&"capacitor:"!==cA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return mr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();return/Edge\/\d+/.test(e)}(e)}function dA(){try{var e=self.localStorage,t=T_();if(e)return e.setItem(t,"1"),e.removeItem(t),!fA()||yr()}catch(n){return hA()&&yr()}return!1}function hA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pA(){return("http:"===cA()||"https:"===cA()||pr()||lA())&&!(vr()||hr())&&dA()&&!hA()}function vA(){return lA()&&"undefined"!==typeof document}function mA(){return yA.apply(this,arguments)}function yA(){return(yA=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),sA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gA={LOCAL:"local",NONE:"none",SESSION:"session"},bA=ix,kA="persistence";function wA(e,t){bA(Object.values(gA).includes(t),e,"invalid-persistence-type"),vr()?bA(t!==gA.SESSION,e,"unsupported-persistence-type"):hr()?bA(t===gA.NONE,e,"unsupported-persistence-type"):hA()?bA(t===gA.NONE||t===gA.LOCAL&&yr(),e,"unsupported-persistence-type"):bA(t===gA.NONE||dA(),e,"unsupported-persistence-type")}function xA(e){return EA.apply(this,arguments)}function EA(){return EA=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=SA(),r=Zx(kA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function SA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _A=ix,IA=function(){function e(){$n(this,e),this.browserResolver=sx(MT),this.cordovaResolver=sx(iA),this.underlyingResolver=null,this._redirectPersistence=S_,this._completeRedirectFn=JI,this._overrideRedirectResult=VI}return Zn(e,[{key:"_initialize",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _A(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function TA(e){return e.unwrap()}function CA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new PA(e,function(e,t){var n,r=Nr(e),i=t;return ix(t.customData.operationType,r,"argument-error"),ix(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),p_._fromError(r,i)}(e,t));else if(r){var i=RA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function RA(e){var t=(e instanceof gr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gr)&&"temporaryProof"in t&&"phoneNumber"in t)return bI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Kw.PASSWORD)return null;switch(r){case Kw.GOOGLE:n=aS;break;case Kw.FACEBOOK:n=iS;break;case Kw.GITHUB:n=oS;break;case Kw.TWITTER:n=cS;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?uS._create(r,u):KE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new rS(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gr?n.credentialFromError(e):n.credentialFromResult(e)}function AA(e,t){return t.catch((function(t){throw t instanceof gr&&CA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,RA(t)),additionalUserInfo:d_(e),user:OA.getOrCreate(r)}}))}function NA(e,t){return DA.apply(this,arguments)}function DA(){return DA=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return AA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}var PA=function(){function e(t,n){$n(this,e),this.resolver=n,this.auth=t.wrapped()}return Zn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return AA(TA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),OA=function(){function e(t){$n(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nr(e);return g_.has(t)||g_.set(t,y_._fromUser(t)),g_.get(t)}(t)}return Zn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AA(this.auth,AS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NA(this.auth,hI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AA(this.auth,NI(this._delegate,t,IA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xA(pE(this.auth));case 2:return e.abrupt("return",QI(this._delegate,t,IA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AA(this.auth,DS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return NA(this.auth,function(e,t,n){return vI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return AA(this.auth,function(e,t,n){return AI.apply(this,arguments)}(this._delegate,e,IA))}},{key:"reauthenticateWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xA(pE(this.auth));case 2:return e.abrupt("return",HI(this._delegate,t,IA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ZS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gS(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return i_(Nr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return i_(Nr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return gI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return r_.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return e_.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();OA.USER_MAP=new WeakMap;var MA=ix,LA=function(){function e(t,n){if($n(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;MA(r,"invalid-api-key",{appName:t.name}),MA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?IA:void 0;this._delegate=n.initialize({options:{persistence:jA(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Qw),this.linkUnderlyingAuth()}return Zn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?OA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){mE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return zS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return VS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AA(this._delegate,HS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return JS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ZE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MA(pA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,YI(this._delegate,IA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",AA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){pE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=FA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=FA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return QS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return BS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wA(this._delegate,t),e.t0=t,e.next=e.t0===gA.SESSION?4:e.t0===gA.LOCAL?6:e.t0===gA.NONE?11:13;break;case 4:return n=S_,e.abrupt("break",14);case 6:return e.next=8,sx(Q_)._isAvailable();case 8:return r=e.sent,n=r?Q_:x_,e.abrupt("break",14);case 11:return n=Jx,e.abrupt("break",14);case 13:return e.abrupt("return",Zw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return AA(this._delegate,function(e){return pS.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return AA(this._delegate,CS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return AA(this._delegate,function(e,t){return LS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return AA(this._delegate,function(e,t,n){return CS(Nr(e),eS.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return AA(this._delegate,function(e,t,n){return XS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return NA(this._delegate,function(e,t,n){return dI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MA(pA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",AA(this._delegate,CI(this._delegate,t,IA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MA(pA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xA(this._delegate);case 3:return e.abrupt("return",WI(this._delegate,t,IA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return KS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function FA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&OA.getOrCreate(e))},error:t,complete:n}}function jA(e,t){var n=function(e,t){var n=SA();if(!n)return[];var r=Zx(kA,e,t);switch(n.getItem(r)){case gA.NONE:return[Jx];case gA.LOCAL:return[Q_,S_];case gA.SESSION:return[S_];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Q_)||n.push(Q_),"undefined"!==typeof window)for(var r=0,i=[x_,S_];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Jx)||n.push(Jx),n}LA.Persistence=gA;var UA=function(){function e(){$n(this,e),this.providerId="phone",this._delegate=new bI(TA(DR.auth()))}return Zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return bI.credential(e,t)}}]),e}();UA.PHONE_SIGN_IN_METHOD=bI.PHONE_SIGN_IN_METHOD,UA.PROVIDER_ID=bI.PROVIDER_ID;var BA,VA=ix,zA=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DR.app();$n(this,e),VA(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new cI(t,n,i.auth()),this.type=this._delegate.type}return Zn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),qA="auth-compat";(BA=DR).INTERNAL.registerComponent(new Dr(qA,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new LA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hw.EMAIL_SIGNIN,PASSWORD_RESET:Hw.PASSWORD_RESET,RECOVER_EMAIL:Hw.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Hw.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Hw.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Hw.VERIFY_EMAIL}},EmailAuthProvider:eS,FacebookAuthProvider:iS,GithubAuthProvider:oS,GoogleAuthProvider:aS,OAuthProvider:rS,SAMLAuthProvider:sS,PhoneAuthProvider:UA,PhoneMultiFactorGenerator:jT,RecaptchaVerifier:zA,TwitterAuthProvider:cS,Auth:LA,AuthCredential:bE,Error:gr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),BA.registerVersion(oA,uA);var WA="@firebase/firestore-compat",KA="0.3.5";function HA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GA(){if("undefined"===typeof Uint8Array)throw new bc("unimplemented","Uint8Arrays are not available in this environment.")}function QA(){if("undefined"==typeof atob)throw new bc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XA=function(){function e(t){$n(this,e),this._delegate=t}return Zn(e,[{key:"toBase64",value:function(){return QA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QA(),new e(yk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GA(),new e(yk.fromUint8Array(t))}}]),e}();function YA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Kn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var $A=function(){function e(){$n(this,e)}return Zn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){mk(e=Hb(e,uk));var n=ck(e),r=e._freezeSettings(),i=new mb;return fk(n,i,new pb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){mk(e=Hb(e,uk));var t=ck(e),n=e._freezeSettings(),r=new mb;return fk(t,r,new vb(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new bc(gc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kc;return e._queue.enqueueAndForgetEvenWhileRestricted(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nl.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(sm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JA=function(){function e(t,n,r){var i=this;$n(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof pl||(this._appCompat=t)}return Zn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yb(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dk(this._delegate)}},{key:"disableNetwork",value:function(){return hk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zb("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Og,n.next=3,Ob(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ck(e=Hb(e,uk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ow(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new bc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dN(this,ek(this._delegate,e))}catch(t){throw iN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rN(this,tk(this._delegate,e))}catch(t){throw iN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cN(this,function(e,t){if(e=Hb(e,Xb),Vb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bc(gc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Jb(e,null,function(e){return new Bf(Fc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw iN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Hb(e,uk);var r=Object.assign(Object.assign({},Fw),n);return function(e){if(e.maxAttempts<1)throw new bc(gc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new kc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Mb(e);case 2:a=i.sent,new wb(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ck(e),(function(n){return t(new Bw(e,n))}),r)}(this._delegate,(function(n){return e(new eN(t,n))}))}},{key:"batch",value:function(){var e=this;return ck(this._delegate),new tN(new jw(this._delegate,(function(t){return Mw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return pk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return vk(this._delegate,e).then((function(e){return e?new cN(t,e):null}))}}]),e}(),ZA=function(e){Hn(n,e);var t=Qn(n);function n(e){var r;return $n(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new XA(new yk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rN.forKey(t,this.firestore,null)}}]),n}(mw);var eN=function(){function e(t,n){$n(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZA(t)}return Zn(e,[{key:"get",value:function(e){var t=this,n=hN(e);return this._delegate.get(n).then((function(e){return new uN(t._firestore,new kw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hN(e);return n?(HA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hN(e);return this._delegate.delete(t),this}}]),e}(),tN=function(){function e(t){$n(this,e),this._delegate=t}return Zn(e,[{key:"set",value:function(e,t,n){var r=hN(e);return n?(HA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nN=function(){function e(t,n,r){$n(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Zn(e,[{key:"fromFirestore",value:function(e,t){var n=new ww(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZA(t),n),i.set(n,a)),a}}]),e}();nN.INSTANCES=new WeakMap;var rN=function(){function e(t,n){$n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZA(t)}return Zn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dN(this.firestore,ek(this._delegate,e))}catch(t){throw iN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nr(e))instanceof $b&&nk(this._delegate,e)}},{key:"set",value:function(e,t){t=HA("DocumentReference.set",t);try{return t?Aw(this._delegate,e,t):Aw(this._delegate,e)}catch(n){throw iN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Nw(this._delegate,e):Nw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw iN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Dw(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aN(n),a=oN(n,(function(t){return new uN(e.firestore,new kw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Pw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Tw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hb(e,$b);var t=Hb(e.firestore,uk);return jb(ck(t),e._key,{source:"server"}).then((function(n){return Lw(t,e,n)}))}(this._delegate):_w(this._delegate),t.then((function(e){return new uN(n.firestore,new kw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new bc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $b(n._delegate,r,new Bc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $b(n._delegate,r,t))}}]),e}();function iN(e,t,n){return e.message=e.message.replace(t,n),e}function aN(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!YA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=YA(e[0])?e[0]:YA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uN=function(){function e(t,n){$n(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"ref",get:function(){return new rN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Sw(this._delegate,e._delegate)}}]),e}(),sN=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||vc()}(void 0!==t),t}}]),n}(uN),cN=function(){function e(t,n){$n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZA(t)}return Zn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Zk(this._delegate,tw(t,n,r)))}catch(i){throw iN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Zk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Xk("orderBy",e);return rw._create(n,t)}(t,n)))}catch(r){throw iN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Zk(this._delegate,function(e){return Gb("limit",e),iw._create("limit",e,"F")}(t)))}catch(n){throw iN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Zk(this._delegate,function(e){return Gb("limitToLast",e),iw._create("limitToLast",e,"L")}(t)))}catch(n){throw iN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Zk(this._delegate,ow.apply(void 0,arguments)))}catch(t){throw iN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Zk(this._delegate,uw.apply(void 0,arguments)))}catch(t){throw iN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Zk(this._delegate,cw.apply(void 0,arguments)))}catch(t){throw iN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Zk(this._delegate,lw.apply(void 0,arguments)))}catch(t){throw iN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Rw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hb(e,Jb);var t=Hb(e.firestore,uk),n=ck(t),r=new Iw(t);return Ub(n,e._query,{source:"server"}).then((function(n){return new xw(t,r,e,n)}))}(this._delegate):Cw(this._delegate),t.then((function(e){return new fN(n.firestore,new xw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aN(n),a=oN(n,(function(t){return new fN(e.firestore,new xw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Pw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lN=function(){function e(t,n){$n(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new sN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fN=function(){function e(t,n){$n(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"query",get:function(){return new cN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new sN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new sN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Sw(this._delegate,e._delegate)}}]),e}(),dN=function(e){Hn(n,e);var t=Qn(n);function n(e,r){var i;return $n(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Zn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rN(this.firestore,void 0===e?tk(this._delegate):tk(this._delegate,e))}catch(t){throw iN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Hb(e.firestore,uk),r=tk(e),i=yw(e.converter,t);return Mw(n,[Ck(Tk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wd.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cN);function hN(e){return Hb(e,$b)}var pN=function(){function e(){$n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Vn(gk,n)}return Zn(e,[{key:"isEqual",value:function(e){return(e=Nr(e))instanceof gk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Uc.keyField().canonicalString())}}]),e}(),vN=function(){function e(t){$n(this,e),this._delegate=t}return Zn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Nk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Rk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Vw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=zw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ok("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mN={Firestore:JA,GeoPoint:kk,Timestamp:Oc,Blob:XA,Transaction:eN,WriteBatch:tN,DocumentReference:rN,DocumentSnapshot:uN,Query:cN,QueryDocumentSnapshot:sN,QuerySnapshot:fN,CollectionReference:dN,FieldPath:pN,FieldValue:vN,setLogLevel:function(e){!function(e){cc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Dr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mN)))}(e,(function(e,t){return new JA(e,t,new $A)})),e.registerVersion(WA,KA)}(DR);var yN=DR.initializeApp({apiKey:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",authDomain:"firechat-60a6c.firebaseapp.com",projectId:"firechat-60a6c",storageBucket:"firechat-60a6c.appspot.com",messagingSenderId:"790402549965",appId:"1:790402549965:web:62e8eec1b35c868bb54184"}),gN=yN.firestore(),bN=yN.auth(),kN=new DR.auth.GoogleAuthProvider;kN.setCustomParameters({prompt:"select_account"});var wN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ni(),t=arguments.length>1?arguments[1]:void 0,n=Ei(e=Nr(e),kR).getImmediate({identifier:t}),r=sr("storage");return r&&xR.apply(void 0,[n].concat(Yn(r))),n}(yN);var xN=n.p+"static/media/loading.112e0687f86ebc485e7ca8abf7d6b0b4.svg",EN=n(184);function SN(){return(0,EN.jsx)("div",{className:"Loading flex h-full w-full items-center justify-center",children:(0,EN.jsx)("img",{src:xN,alt:"Loading...",className:"w-[60px] lg:w-[100px] xl:w-[130px]",referrerPolicy:"no-referrer"})})}var _N=function(){return _N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_N.apply(this,arguments)},IN=function(e){return{loading:void 0===e||null===e,value:e}},TN=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return _N(_N({},e),{error:t.error,loading:!1,value:void 0});case"reset":return IN(t.defaultValue);case"value":return _N(_N({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),IN(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},CN=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},RN=function(e,t){var n=!e&&!t,r=!!e&&!!t&&rk(e,t);return n||r},AN=function(e,t){return CN(e,RN,t)},NN=function(e,n){var r=TN(),i=r.error,a=r.loading,o=r.reset,u=r.setError,s=r.setValue,c=r.value,l=AN(e,o);return(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?Pw(l.current,n.snapshotListenOptions,s,u):Pw(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,i]},DN=function(e,t){var n=NN(e,t),r=n[0],i=n[1],a=n[2];return[PN(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),i,a,r]},PN=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)})))&&void 0!==t?t:r}),[e,n])};function ON(e){return eC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function MN(e){return eC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"}}]})(e)}function LN(e){return eC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}function FN(e){return eC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}function jN(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.1 334.7c-11.2-4-29.5-4.2-37.6-7.3-5.6-2.2-14.5-4.6-17.4-8.1-2.9-3.5-2.9-28.5-2.9-28.5s7-6.6 9.9-14c2.9-7.3 4.8-27.5 4.8-27.5s6.6 2.8 9.2-10.4c2.2-11.4 6.4-17.4 5.3-25.8-1.2-8.4-5.8-6.4-5.8-6.4s5.8-8.5 5.8-37.4c0-29.8-22.5-59.1-64.6-59.1-42 0-64.7 29.4-64.7 59.1 0 28.9 5.7 37.4 5.7 37.4s-4.7-2-5.8 6.4c-1.2 8.4 3 14.4 5.3 25.8 2.6 13.3 9.2 10.4 9.2 10.4s1.9 20.1 4.8 27.5c2.9 7.4 9.9 14 9.9 14s0 25-2.9 28.5-11.8 5.9-17.4 8c-8 3.1-26.3 3.5-37.6 7.5-11.2 4-45.8 22.2-45.8 67.2h278.3c.1-45.1-34.5-63.3-45.7-67.3z"}},{tag:"path",attr:{d:"M140 286s23.9-.8 33.4-9.3c-15.5-23.5-7.1-50.9-10.3-76.5-3.2-25.5-17.7-40.8-46.7-40.8h-.4c-28 0-43.1 15.2-46.3 40.8-3.2 25.5 5.7 56-10.2 76.5C69 285.3 93 285 93 285s1 14.4-1 16.8c-2 2.4-7.9 4.7-12 5.5-8.8 1.9-18.1 4.5-25.9 7.2-7.8 2.7-22.6 17.2-22.6 37.2h80.3c2.2-8 17.3-22.3 32-29.8 9-4.6 17.9-4.3 24.7-5.2 0 0 3.8-6-8.7-8.3 0 0-17.2-4.3-19.2-6.7-1.9-2.2-.6-15.7-.6-15.7zM372 286s-23.9-.8-33.4-9.3c15.5-23.5 7.1-50.9 10.3-76.5 3.2-25.5 17.7-40.8 46.7-40.8h.4c28 0 43.1 15.2 46.3 40.8 3.2 25.5-5.7 56 10.2 76.5-9.5 8.6-33.5 8.3-33.5 8.3s-1 14.4 1 16.8c2 2.4 7.9 4.7 12 5.5 8.8 1.9 18.1 4.5 25.9 7.2 7.8 2.7 22.6 17.2 22.6 37.2h-80.3c-2.2-8-17.3-22.3-32-29.8-9-4.6-17.9-4.3-24.7-5.2 0 0-3.8-6 8.7-8.3 0 0 17.2-4.3 19.2-6.7 1.9-2.2.6-15.7.6-15.7z"}}]})(e)}function UN(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M457.6 224l-2.1-8.9H262V297h115.6c-12 57-67.7 87-113.2 87-33.1 0-68-13.9-91.1-36.3-23.7-23-38.8-56.9-38.8-91.8 0-34.5 15.5-69 38.1-91.7 22.5-22.6 56.6-35.4 90.5-35.4 38.8 0 66.6 20.6 77 30l58.2-57.9c-17.1-15-64-52.8-137.1-52.8-56.4 0-110.5 21.6-150 61C72.2 147.9 52 204 52 256s19.1 105.4 56.9 144.5c40.4 41.7 97.6 63.5 156.5 63.5 53.6 0 104.4-21 140.6-59.1 35.6-37.5 54-89.4 54-143.8 0-22.9-2.3-36.5-2.4-37.1z"}}]})(e)}function BN(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(e)}var VN=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e!==t}))[0]};function zN(e){var n,r,i=e.id,a=e.users,o=e.user,u=e.setUserChat,s=e.active,c=e.UserData,l=h((0,t.useState)(),2),f=l[0],d=l[1],p=h((0,t.useState)(),2),v=p[0],m=p[1];(0,t.useEffect)((function(){var e=VN(a,o);m(e)}),[a]),(0,t.useMemo)((function(){var e=gN.collection("usersDB").where("userID","==",VN(a,o));d(e)}),[v]);var y=h(NN(f),1)[0],g=null===y||void 0===y||null===(n=y.docs)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.data();return(0,EN.jsxs)("div",{className:"".concat(s," color3 flex cursor-pointer items-center gap-1 border-t-[1px] border-b-[1px] border-gray-100 border-opacity-30 p-2 transition hover:bg-[#a34373] md:gap-2"),onClick:function(){var e={chatId:i,username:g.username,photoURL:g.photoURL,userID:g.userID,UserData:c};u(e)},children:[g?(0,EN.jsx)("img",{className:"w-[40px] rounded-full lg:w-[50px] xl:w-[60px]",alt:"Imagem do Usu\xe1rio",src:g.photoURL,referrerPolicy:"no-referrer"}):(0,EN.jsx)(FN,{}),(0,EN.jsx)("span",{className:"overflow-hidden text-ellipsis text-sm lg:text-base xl:text-lg",children:null===g||void 0===g?void 0:g.username})]})}function qN(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var WN=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qN(e))&&(r&&(r+=" "),r+=t);return r};function KN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var HN=0;var GN=r.useId;function QN(e){if(void 0!==GN){var n=GN();return null!=e?e:n}return function(e){var n=h(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(HN+=1))}),[r]),a}(e)}var XN=nt;function YN(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $N(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){YN(t,e)}))}}),n)}function JN(e){return e&&e.ownerDocument||document}var ZN="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function eD(e){var n=t.useRef(e);return ZN((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function tD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var nD=t.forwardRef((function(e,n){var r=e.children,a=e.container,o=e.disablePortal,u=void 0!==o&&o,s=h(t.useState(null),2),c=s[0],l=s[1],f=$N(t.isValidElement(r)?r.ref:null,n);if(ZN((function(){u||l(function(e){return"function"===typeof e?e():e}(a)||document.body)}),[a,u]),ZN((function(){if(c&&!u)return YN(n,c),function(){YN(n,null)}}),[n,c,u]),u){if(t.isValidElement(r)){var d={ref:f};return t.cloneElement(r,d)}return(0,EN.jsx)(t.Fragment,{children:r})}return(0,EN.jsx)(t.Fragment,{children:c?i.createPortal(r,c):c})}));var rD=nD;function iD(e){return JN(e).defaultView||window}function aD(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function oD(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function uD(e){return parseInt(iD(e).getComputedStyle(e).paddingRight,10)||0}function sD(e,t,n,r,i){var a=[t,n].concat(Yn(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&oD(e,i)}))}function cD(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function lD(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=JN(e);return t.body===e?iD(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=aD(JN(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(uD(r)+i,"px");var a=JN(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(uD(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=JN(r).body;else{var u=r.parentElement,s=iD(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var fD=function(){function e(){$n(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Zn(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&oD(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);sD(t,e.mount,e.modalRef,r,!0);var i=cD(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=cD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=lD(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=cD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&oD(e.modalRef,t),sD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&oD(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),dD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function hD(e){var t=[],n=[];return Array.from(e.querySelectorAll(dD)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function pD(){return!0}var vD=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?hD:c,f=e.isEnabled,d=void 0===f?pD:f,h=e.open,p=t.useRef(!1),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=$N(n.ref,k),x=t.useRef(null);t.useEffect((function(){h&&k.current&&(b.current=!i)}),[i,h]),t.useEffect((function(){if(h&&k.current){var e=JN(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),t.useEffect((function(){if(h&&k.current){var e=JN(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];"string"!==typeof s&&"string"!==typeof c&&(u?c.focus():s.focus())}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var E=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,EN.jsxs)(t.Fragment,{children:[(0,EN.jsx)("div",{tabIndex:h?0:-1,onFocus:E,ref:v,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,EN.jsx)("div",{tabIndex:h?0:-1,onFocus:E,ref:m,"data-testid":"sentinelEnd"})]})},mD=function(e){return e},yD=function(){var e=mD;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=mD}}}(),gD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function bD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=gD[t];return r?"".concat(n,"-").concat(r):"".concat(yD.generate(e),"-").concat(t)}function kD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=bD(e,t,n)})),r}function wD(e){return bD("MuiModal",e)}kD("MuiModal",["root","hidden","backdrop"]);function xD(e){return"string"===typeof e}function ED(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}function SD(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function _D(e,t){return"function"===typeof e?e(t):e}var ID=["elementType","externalSlotProps","ownerState"];function TD(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=Be(e,ID),o=_D(r,i),u=function(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=WN(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=ye({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=ye({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=ED(ye({},i,r)),l=SD(r),f=SD(i),d=t(c),h=WN(null==d?void 0:d.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=ye({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=ye({},d,n,f,l);return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:d.ref}}(ye({},a,{externalSlotProps:o})),s=function(e,t,n){return void 0===e||xD(e)?t:ye({},t,{ownerState:ye({},t.ownerState,n)})}(n,ye({},u.props,{ref:$N(u.internalRef,null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return s}var CD={disableDefaultClasses:!1},RD=t.createContext(CD);var AD=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],ND=function(e){var n=e.open,r=e.exited;return KN({root:["root",!n&&r&&"hidden"],backdrop:["backdrop"]},function(e){var n=t.useContext(RD).disableDefaultClasses;return function(t){return n?"":e(t)}}(wD))};var DD=new fD,PD=t.forwardRef((function(e,n){var r,i,a=e.children,o=e.closeAfterTransition,u=void 0!==o&&o,s=e.component,c=e.container,l=e.disableAutoFocus,f=void 0!==l&&l,d=e.disableEnforceFocus,p=void 0!==d&&d,v=e.disableEscapeKeyDown,m=void 0!==v&&v,y=e.disablePortal,g=void 0!==y&&y,b=e.disableRestoreFocus,k=void 0!==b&&b,w=e.disableScrollLock,x=void 0!==w&&w,E=e.hideBackdrop,S=void 0!==E&&E,_=e.keepMounted,I=void 0!==_&&_,T=e.manager,C=void 0===T?DD:T,R=e.onBackdropClick,A=e.onClose,N=e.onKeyDown,D=e.open,P=e.onTransitionEnter,O=e.onTransitionExited,M=e.slotProps,L=void 0===M?{}:M,F=e.slots,j=void 0===F?{}:F,U=Be(e,AD),B=h(t.useState(!D),2),V=B[0],z=B[1],q=t.useRef({}),W=t.useRef(null),K=t.useRef(null),H=$N(K,n),G=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),Q=null==(r=e["aria-hidden"])||r,X=function(){return q.current.modalRef=K.current,q.current.mountNode=W.current,q.current},Y=function(){C.mount(X(),{disableScrollLock:x}),K.current&&(K.current.scrollTop=0)},$=eD((function(){var e=function(e){return"function"===typeof e?e():e}(c)||JN(W.current).body;C.add(X(),e),K.current&&Y()})),J=t.useCallback((function(){return C.isTopModal(X())}),[C]),Z=eD((function(e){W.current=e,e&&K.current&&(D&&J()?Y():oD(K.current,Q))})),ee=t.useCallback((function(){C.remove(X(),Q)}),[C,Q]);t.useEffect((function(){return function(){ee()}}),[ee]),t.useEffect((function(){D?$():G&&u||ee()}),[D,ee,G,u,$]);var te=ye({},e,{closeAfterTransition:u,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:g,disableRestoreFocus:k,disableScrollLock:x,exited:V,hideBackdrop:S,keepMounted:I}),ne=ND(te),re={};void 0===a.props.tabIndex&&(re.tabIndex="-1"),G&&(re.onEnter=tD((function(){z(!1),P&&P()}),a.props.onEnter),re.onExited=tD((function(){z(!0),O&&O(),u&&ee()}),a.props.onExited));var ie=null!=(i=null!=s?s:j.root)?i:"div",ae=TD({elementType:ie,externalSlotProps:L.root,externalForwardedProps:U,additionalProps:{ref:H,role:"presentation",onKeyDown:function(e){N&&N(e),"Escape"===e.key&&J()&&(m||(e.stopPropagation(),A&&A(e,"escapeKeyDown")))}},className:ne.root,ownerState:te}),oe=j.backdrop,ue=TD({elementType:oe,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(R&&R(e),A&&A(e,"backdropClick"))},open:D},className:ne.backdrop,ownerState:te});return I||D||G&&!V?(0,EN.jsx)(rD,{ref:Z,container:c,disablePortal:g,children:(0,EN.jsxs)(ie,ye({},ae,{children:[!S&&oe?(0,EN.jsx)(oe,ye({},ue)):null,(0,EN.jsx)(vD,{disableEnforceFocus:p,disableAutoFocus:f,disableRestoreFocus:k,isEnabled:J,open:D,children:t.cloneElement(a,re)})]}))}):null})),OD=PD,MD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var LD=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},FD=function(e,t,n){LD(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},jD=we((function(e){return MD.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),UD=function(e){return"theme"!==e},BD=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?jD:UD},VD=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},zD=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;LD(t,n,r);Pe((function(){return FD(t,n,r)}));return null},qD=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=VD(n,r,o),c=s||BD(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var h=f.length,p=1;p<h;p++)d.push(f[p],f[0][p])}var v=Le((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Fe)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Ne(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?BD(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(zD,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=d,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,ye({},r,n,{shouldForwardProp:VD(v,n,!0)})).apply(void 0,d)},v}},WD=qD.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){WD[e]=WD(e)}));var KD=WD;var HD=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},GD=["variant"];function QD(e){return 0===e.length}function XD(e){var t=e.variant,n=Be(e,GD),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?QD(r)?e[t]:nt(e[t]):"".concat(QD(r)?t:nt(t)).concat(nt(e[t].toString()))})),r}var YD=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],$D=["theme"],JD=["theme"];function ZD(e){return 0===Object.keys(e).length}var eP=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},tP=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=XD(e.props);r[t]=e.style})),r},nP=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[XD(n.props)])})),s};function rP(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var iP=$t();function aP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?iP:t,r=e.rootShouldForwardProp,i=void 0===r?rP:r,a=e.slotShouldForwardProp,o=void 0===a?rP:a,u=function(e){var t=ZD(e.theme)?n:e.theme;return Xt(ye({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};HD(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r=t.name,a=t.slot,s=t.skipVariantsResolver,c=t.skipSx,l=t.overridesResolver,f=Be(t,YD),d=void 0!==s?s:a&&"Root"!==a||!1,p=c||!1;var v=rP;"Root"===a?v=i:a?v=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(v=void 0);var m=function(e,t){return KD(e,t)}(e,ye({shouldForwardProp:v,label:undefined},f)),y=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=i?i.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Be(t,$D);return e(ye({theme:ZD(r)?n:r},i))}:e})):[],s=e;r&&l&&o.push((function(e){var t=ZD(e.theme)?n:e.theme,i=eP(r,t);if(i){var a={};return Object.entries(i).forEach((function(n){var r=h(n,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(ye({},e,{theme:t})):o})),l(e,a)}return null})),r&&!d&&o.push((function(e){var t=ZD(e.theme)?n:e.theme;return nP(e,tP(r,t),t,r)})),p||o.push(u);var c=o.length-i.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(s=[].concat(Yn(e),Yn(f))).raw=[].concat(Yn(e.raw),Yn(f))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=Be(t,JD);return e(ye({theme:ZD(r)?n:r},i))});return m.apply(void 0,[s].concat(Yn(o)))};return m.withConfig&&(y.withConfig=m.withConfig),y}}var oP=jn(),uP=function(e){return rP(e)&&"classes"!==e},sP=rP,cP=aP({defaultTheme:oP,rootShouldForwardProp:uP});function lP(e,t){var n=ye({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=ye({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=ye({},a),Object.keys(i).forEach((function(e){n[r][e]=lP(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var fP=t.createContext(null);var dP=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t.useContext(fP);return r&&(e=r,0!==Object.keys(e).length)?r:n},hP=$t();var pP=function(){return dP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hP)};function vP(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?lP(t.components[n].defaultProps,r):r}({theme:pP(r),name:n,props:t});return i}function mP(e){return vP({props:e.props,name:e.name,defaultTheme:oP})}function yP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Un(e,t)}var gP=!1,bP=t.createContext(null),kP="unmounted",wP="exited",xP="entering",EP="entered",SP="exiting",_P=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=wP,r.appearStatus=xP):i=EP:i=t.unmountOnExit||t.mountOnEnter?kP:wP,r.state={status:i},r.nextCallback=null,r}yP(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===kP?{status:wP}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==xP&&n!==EP&&(t=xP):n!==xP&&n!==EP||(t=SP)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===xP){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wP&&this.setState({status:kP})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],u=a[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||gP?this.safeSetState({status:EP},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:xP},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:EP},(function(){t.props.onEntered(o,u)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!gP?(this.props.onExit(r),this.safeSetState({status:SP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:wP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:wP},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===kP)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Be(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(bP.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function IP(){}_P.contextType=bP,_P.propTypes={},_P.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:IP,onEntering:IP,onEntered:IP,onExit:IP,onExiting:IP,onExited:IP},_P.UNMOUNTED=kP,_P.EXITED=wP,_P.ENTERING=xP,_P.ENTERED=EP,_P.EXITING=SP;var TP=_P;function CP(){return pP(oP)}var RP=function(e){return e.scrollTop};function AP(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var NP=$N,DP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],PP={entering:{opacity:1},entered:{opacity:1}},OP=t.forwardRef((function(e,n){var r=CP(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?i:g,k=e.TransitionComponent,w=void 0===k?TP:k,x=Be(e,DP),E=t.useRef(null),S=NP(E,s.ref,n),_=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},I=_(h),T=_((function(e,t){RP(e);var n=AP({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),C=_(d),R=_(m),A=_((function(e){var t=AP({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),N=_(v);return(0,EN.jsx)(w,ye({appear:u,in:l,nodeRef:E,onEnter:T,onEntered:C,onEntering:I,onExit:A,onExited:N,onExiting:R,addEndListener:function(e){a&&a(E.current,e)},timeout:b},x,{children:function(e,n){return t.cloneElement(s,ye({style:ye({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},PP[e],y,s.props.style),ref:S},n))}}))})),MP=OP;function LP(e){return bD("MuiBackdrop",e)}kD("MuiBackdrop",["root","invisible"]);var FP=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],jP=cP("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return ye({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),UP=t.forwardRef((function(e,t){var n,r,i,a=mP({props:e,name:"MuiBackdrop"}),o=a.children,u=a.className,s=a.component,c=void 0===s?"div":s,l=a.components,f=void 0===l?{}:l,d=a.componentsProps,h=void 0===d?{}:d,p=a.invisible,v=void 0!==p&&p,m=a.open,y=a.slotProps,g=void 0===y?{}:y,b=a.slots,k=void 0===b?{}:b,w=a.TransitionComponent,x=void 0===w?MP:w,E=a.transitionDuration,S=Be(a,FP),_=ye({},a,{component:c,invisible:v}),I=function(e){var t=e.classes;return KN({root:["root",e.invisible&&"invisible"]},LP,t)}(_),T=null!=(n=g.root)?n:h.root;return(0,EN.jsx)(x,ye({in:m,timeout:E},S,{children:(0,EN.jsx)(jP,ye({"aria-hidden":!0},T,{as:null!=(r=null!=(i=k.root)?i:f.Root)?r:c,className:WN(I.root,u,null==T?void 0:T.className),ownerState:ye({},_,null==T?void 0:T.ownerState),classes:I,ref:t,children:o}))}))})),BP=UP,VP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],zP=cP("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return ye({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),qP=cP(BP,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),WP=t.forwardRef((function(e,n){var r,i,a,o,u,s,c=mP({name:"MuiModal",props:e}),l=c.BackdropComponent,f=void 0===l?qP:l,d=c.BackdropProps,p=c.classes,v=c.className,m=c.closeAfterTransition,y=void 0!==m&&m,g=c.children,b=c.component,k=c.components,w=void 0===k?{}:k,x=c.componentsProps,E=void 0===x?{}:x,S=c.disableAutoFocus,_=void 0!==S&&S,I=c.disableEnforceFocus,T=void 0!==I&&I,C=c.disableEscapeKeyDown,R=void 0!==C&&C,A=c.disablePortal,N=void 0!==A&&A,D=c.disableRestoreFocus,P=void 0!==D&&D,O=c.disableScrollLock,M=void 0!==O&&O,L=c.hideBackdrop,F=void 0!==L&&L,j=c.keepMounted,U=void 0!==j&&j,B=c.slotProps,V=c.slots,z=c.theme,q=Be(c,VP),W=h(t.useState(!0),2),K=W[0],H=W[1],G={closeAfterTransition:y,disableAutoFocus:_,disableEnforceFocus:T,disableEscapeKeyDown:R,disablePortal:N,disableRestoreFocus:P,disableScrollLock:M,hideBackdrop:F,keepMounted:U},Q=ye({},c,G,{exited:K}),X=null!=(r=null!=(i=null==V?void 0:V.root)?i:w.Root)?r:zP,Y=null!=(a=null!=(o=null==V?void 0:V.backdrop)?o:w.Backdrop)?a:f,$=null!=(u=null==B?void 0:B.root)?u:E.root,J=null!=(s=null==B?void 0:B.backdrop)?s:E.backdrop;return(0,EN.jsx)(OD,ye({slots:{root:X,backdrop:Y},slotProps:{root:function(){return ye({},_D($,Q),!xD(X)&&{as:b,theme:z},{className:WN(v,null==$?void 0:$.className,null==p?void 0:p.root,!Q.open&&Q.exited&&(null==p?void 0:p.hidden))})},backdrop:function(){return ye({},d,_D(J,Q),{className:WN(null==J?void 0:J.className,null==p?void 0:p.backdrop)})}},onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:n},q,G,{children:g}))})),KP=WP,HP=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function GP(e){return bD("MuiPaper",e)}kD("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var QP=["className","component","elevation","square","variant"],XP=cP("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&ye({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(rn("#fff",HP(r.elevation)),", ").concat(rn("#fff",HP(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),YP=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,d=Be(n,QP),h=ye({},n,{component:a,elevation:u,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return KN({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},GP,i)}(h);return(0,EN.jsx)(XP,ye({as:a,ownerState:h,className:WN(p.root,r),ref:t},d))})),$P=YP;function JP(e){return bD("MuiDialog",e)}var ZP=kD("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var eO=t.createContext({}),tO=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],nO=cP(BP,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),rO=cP(KP,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),iO=cP("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(XN(n.scroll))]]}})((function(e){var t=e.ownerState;return ye({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),aO=cP($P,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(XN(n.scroll))],t["paperWidth".concat(XN(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return ye({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&He({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(ZP.paperScrollBody),He({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&He({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(ZP.paperScrollBody),He({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&He({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(ZP.paperScrollBody),{margin:0,maxWidth:"100%"}))})),oO=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiDialog"}),i=CP(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r["aria-describedby"],u=r["aria-labelledby"],s=r.BackdropComponent,c=r.BackdropProps,l=r.children,f=r.className,d=r.disableEscapeKeyDown,h=void 0!==d&&d,p=r.fullScreen,v=void 0!==p&&p,m=r.fullWidth,y=void 0!==m&&m,g=r.maxWidth,b=void 0===g?"sm":g,k=r.onBackdropClick,w=r.onClose,x=r.open,E=r.PaperComponent,S=void 0===E?$P:E,_=r.PaperProps,I=void 0===_?{}:_,T=r.scroll,C=void 0===T?"paper":T,R=r.TransitionComponent,A=void 0===R?MP:R,N=r.transitionDuration,D=void 0===N?a:N,P=r.TransitionProps,O=Be(r,tO),M=ye({},r,{disableEscapeKeyDown:h,fullScreen:v,fullWidth:y,maxWidth:b,scroll:C}),L=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen;return KN({root:["root"],container:["container","scroll".concat(XN(n))],paper:["paper","paperScroll".concat(XN(n)),"paperWidth".concat(XN(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},JP,t)}(M),F=t.useRef(),j=QN(u),U=t.useMemo((function(){return{titleId:j}}),[j]);return(0,EN.jsx)(rO,ye({className:WN(L.root,f),closeAfterTransition:!0,components:{Backdrop:nO},componentsProps:{backdrop:ye({transitionDuration:D,as:s},c)},disableEscapeKeyDown:h,onClose:w,open:x,ref:n,onClick:function(e){F.current&&(F.current=null,k&&k(e),w&&w(e,"backdropClick"))},ownerState:M},O,{children:(0,EN.jsx)(A,ye({appear:!0,in:x,timeout:D,role:"presentation"},P,{children:(0,EN.jsx)(iO,{className:WN(L.container),onMouseDown:function(e){F.current=e.target===e.currentTarget},ownerState:M,children:(0,EN.jsx)(aO,ye({as:S,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":j},I,{className:WN(L.paper,I.className),ownerState:M,children:(0,EN.jsx)(eO.Provider,{value:U,children:l})}))})}))}))})),uO=oO,sO=["sx"],cO=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Gt;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function lO(e){var t,n=e.sx,r=Be(e,sO),i=cO(r),a=i.systemProps,o=i.otherProps;return t=Array.isArray(n)?[a].concat(Yn(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return ze(e)?ye({},a,e):a}:ye({},a,n),ye({},o,{sx:t})}function fO(e){return bD("MuiTypography",e)}kD("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var dO=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],hO=cP("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(XN(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return ye({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),pO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vO={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},mO=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiTypography"}),r=function(e){return vO[e]||e}(n.color),i=lO(ye({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,d=void 0!==f&&f,h=i.paragraph,p=void 0!==h&&h,v=i.variant,m=void 0===v?"body1":v,y=i.variantMapping,g=void 0===y?pO:y,b=Be(i,dO),k=ye({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:d,paragraph:p,variant:m,variantMapping:g}),w=s||(p?"p":g[m]||pO[m])||"span",x=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return KN({root:["root",a,"inherit"!==e.align&&"align".concat(XN(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},fO,o)}(k);return(0,EN.jsx)(hO,ye({as:w,ref:t,ownerState:k,className:WN(x.root,u)},b))})),yO=mO;function gO(e){return bD("MuiDialogTitle",e)}var bO=kD("MuiDialogTitle",["root"]),kO=["className","id"],wO=cP(yO,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),xO=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiDialogTitle"}),i=r.className,a=r.id,o=Be(r,kO),u=r,s=function(e){return KN({root:["root"]},gO,e.classes)}(u),c=t.useContext(eO).titleId,l=void 0===c?a:c;return(0,EN.jsx)(wO,ye({component:"h2",className:WN(s.root,i),ownerState:u,ref:n,variant:"h6",id:null!=a?a:l},o))})),EO=xO;function SO(e){return bD("MuiDialogContent",e)}kD("MuiDialogContent",["root","dividers"]);var _O=["className","dividers"],IO=cP("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme;return ye({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.ownerState.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:He({},".".concat(bO.root," + &"),{paddingTop:0}))})),TO=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiDialogContent"}),r=n.className,i=n.dividers,a=void 0!==i&&i,o=Be(n,_O),u=ye({},n,{dividers:a}),s=function(e){var t=e.classes;return KN({root:["root",e.dividers&&"dividers"]},SO,t)}(u);return(0,EN.jsx)(IO,ye({className:WN(s.root,r),ownerState:u,ref:t},o))})),CO=TO;function RO(e){return bD("MuiDialogContentText",e)}kD("MuiDialogContentText",["root"]);var AO=["children","className"],NO=cP(yO,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),DO=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiDialogContentText"}),r=n.className,i=Be(n,AO),a=function(e){var t=e.classes;return ye({},t,KN({root:["root"]},RO,t))}(i);return(0,EN.jsx)(NO,ye({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:WN(a.root,r)},n,{classes:a}))})),PO=DO;function OO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}var MO=["onChange","maxRows","minRows","style","value"];function LO(e){return parseInt(e,10)||0}var FO={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function jO(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var UO=t.forwardRef((function(e,n){var r=e.onChange,a=e.maxRows,o=e.minRows,u=void 0===o?1:o,s=e.style,c=e.value,l=Be(e,MO),f=t.useRef(null!=c).current,d=t.useRef(null),p=$N(n,d),v=t.useRef(null),m=t.useRef(0),y=h(t.useState({outerHeightStyle:0}),2),g=y[0],b=y[1],k=t.useCallback((function(){var t=d.current,n=iD(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n.boxSizing,o=LO(n.paddingBottom)+LO(n.paddingTop),s=LO(n.borderBottomWidth)+LO(n.borderTopWidth),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return u&&(f=Math.max(Number(u)*l,f)),a&&(f=Math.min(Number(a)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===i?o+s:0),overflow:Math.abs(f-c)<=1}}),[a,u,e.placeholder]),w=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},x=t.useCallback((function(){var e=k();jO(e)||b((function(t){return w(t,e)}))}),[k]);t.useEffect((function(){var e,t=OO((function(){m.current=0,d.current&&function(){var e=k();jO(e)||i.flushSync((function(){b((function(t){return w(t,e)}))}))}()})),n=d.current,r=iD(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),ZN((function(){x()})),t.useEffect((function(){m.current=0}),[c]);return(0,EN.jsxs)(t.Fragment,{children:[(0,EN.jsx)("textarea",ye({value:c,onChange:function(e){m.current=0,f||x(),r&&r(e)},ref:p,rows:u,style:ye({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},s)},l)),(0,EN.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:ye({},FO,s,{padding:0})})]})})),BO=UO;function VO(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var zO=t.createContext(void 0);function qO(){return t.useContext(zO)}var WO=ZN,KO=(n(110),Le((function(e,n){var r=e.styles,i=Ne([r],void 0,(0,t.useContext)(Fe)),a=(0,t.useRef)();return Oe((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Oe((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&FD(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function HO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ne(t)}var GO=function(){var e=HO.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function QO(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,EN.jsx)(KO,{styles:i})}var XO=function(e){return(0,EN.jsx)(QO,ye({},e,{defaultTheme:oP}))};function YO(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function $O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(YO(e.value)&&""!==e.value||t&&YO(e.defaultValue)&&""!==e.defaultValue)}function JO(e){return bD("MuiInputBase",e)}var ZO=kD("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),eM=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],tM=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(XN(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},nM=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},rM=cP("div",{name:"MuiInputBase",slot:"Root",overridesResolver:tM})((function(e){var t=e.theme,n=e.ownerState;return ye({},t.typography.body1,He({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ZO.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&ye({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),iM=cP("input",{name:"MuiInputBase",slot:"Input",overridesResolver:nM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=ye({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return ye((He(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(ZO.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),He(t,"&.".concat(ZO.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),He(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),aM=(0,EN.jsx)(XO,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),oM=t.forwardRef((function(e,n){var r,i=mP({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,u=i.autoFocus,s=i.className,c=i.components,l=void 0===c?{}:c,f=i.componentsProps,d=void 0===f?{}:f,p=i.defaultValue,v=i.disabled,m=i.disableInjectingGlobalStyles,y=i.endAdornment,g=i.fullWidth,b=void 0!==g&&g,k=i.id,w=i.inputComponent,x=void 0===w?"input":w,E=i.inputProps,S=void 0===E?{}:E,_=i.inputRef,I=i.maxRows,T=i.minRows,C=i.multiline,R=void 0!==C&&C,A=i.name,N=i.onBlur,D=i.onChange,P=i.onClick,O=i.onFocus,M=i.onKeyDown,L=i.onKeyUp,F=i.placeholder,j=i.readOnly,U=i.renderSuffix,B=i.rows,V=i.slotProps,z=void 0===V?{}:V,q=i.slots,W=void 0===q?{}:q,K=i.startAdornment,H=i.type,G=void 0===H?"text":H,Q=i.value,X=Be(i,eM),Y=null!=S.value?S.value:Q,$=t.useRef(null!=Y).current,J=t.useRef(),Z=t.useCallback((function(e){0}),[]),ee=NP(J,_,S.ref,Z),te=h(t.useState(!1),2),ne=te[0],re=te[1],ie=qO();var ae=VO({props:i,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,t.useEffect((function(){!ie&&v&&ne&&(re(!1),N&&N())}),[ie,v,ne,N]);var oe=ie&&ie.onFilled,ue=ie&&ie.onEmpty,se=t.useCallback((function(e){$O(e)?oe&&oe():ue&&ue()}),[oe,ue]);WO((function(){$&&se({value:Y})}),[Y,se,$]);t.useEffect((function(){se(J.current)}),[]);var ce=x,le=S;R&&"input"===ce&&(le=ye(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:I,minRows:T},le),ce=BO);t.useEffect((function(){ie&&ie.setAdornedStart(Boolean(K))}),[ie,K]);var fe=ye({},i,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:y,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:b,hiddenLabel:ae.hiddenLabel,multiline:R,size:ae.size,startAdornment:K,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type;return KN({root:["root","color".concat(XN(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},JO,t)}(fe),he=W.root||l.Root||rM,pe=z.root||d.root||{},ve=W.input||l.Input||iM;return le=ye({},le,null!=(r=z.input)?r:d.input),(0,EN.jsxs)(t.Fragment,{children:[!m&&aM,(0,EN.jsxs)(he,ye({},pe,!xD(he)&&{ownerState:ye({},fe,pe.ownerState)},{ref:n,onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),P&&P(e)}},X,{className:WN(de.root,pe.className,s,j&&"MuiInputBase-readOnly"),children:[K,(0,EN.jsx)(zO.Provider,{value:null,children:(0,EN.jsx)(ve,ye({ownerState:fe,"aria-invalid":ae.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:p,disabled:ae.disabled,id:k,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:A,placeholder:F,readOnly:j,required:ae.required,rows:B,value:Y,onKeyDown:M,onKeyUp:L,type:G},le,!xD(ve)&&{as:ce,ownerState:ye({},fe,le.ownerState)},{ref:ee,className:WN(de.input,le.className,j&&"MuiInputBase-readOnly"),onBlur:function(e){N&&N(e),S.onBlur&&S.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!$){var t=e.target||J.current;if(null==t)throw new Error(Ve(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];S.onChange&&S.onChange.apply(S,[e].concat(r)),D&&D.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(O&&O(e),S.onFocus&&S.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),y,U?U(ye({},ae,{startAdornment:K})):null]}))]})})),uM=oM;function sM(e){return bD("MuiInput",e)}var cM=ye({},ZO,kD("MuiInput",["root","underline","input"])),lM=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],fM=cP(rM,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Yn(tM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),ye({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(He(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(cM.focused,":after"),{transform:"scaleX(1) translateX(0)"}),He(t,"&.".concat(cM.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),He(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),He(t,"&:hover:not(.".concat(cM.disabled,", .").concat(cM.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),He(t,"&.".concat(cM.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),dM=cP(iM,{name:"MuiInput",slot:"Input",overridesResolver:nM})({}),hM=t.forwardRef((function(e,t){var n,r,i,a,o=mP({props:e,name:"MuiInput"}),u=o.disableUnderline,s=o.components,c=void 0===s?{}:s,l=o.componentsProps,f=o.fullWidth,d=void 0!==f&&f,h=o.inputComponent,p=void 0===h?"input":h,v=o.multiline,m=void 0!==v&&v,y=o.slotProps,g=o.slots,b=void 0===g?{}:g,k=o.type,w=void 0===k?"text":k,x=Be(o,lM),E=function(e){var t=e.classes;return ye({},t,KN({root:["root",!e.disableUnderline&&"underline"],input:["input"]},sM,t))}(o),S={root:{ownerState:{disableUnderline:u}}},_=(null!=y?y:l)?We(null!=y?y:l,S):S,I=null!=(n=null!=(r=b.root)?r:c.Root)?n:fM,T=null!=(i=null!=(a=b.input)?a:c.Input)?i:dM;return(0,EN.jsx)(uM,ye({slots:{root:I,input:T},slotProps:_,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:w},x,{classes:E}))}));hM.muiName="Input";var pM=hM;function vM(e){return bD("MuiFilledInput",e)}var mM=ye({},ZO,kD("MuiFilledInput",["root","underline","input"])),yM=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],gM=cP(rM,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Yn(tM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,u=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ye((He(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}}},"&.".concat(mM.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}),He(t,"&.".concat(mM.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:l}),t),!a.disableUnderline&&(He(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(mM.focused,":after"),{transform:"scaleX(1) translateX(0)"}),He(n,"&.".concat(mM.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),He(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),He(n,"&:hover:not(.".concat(mM.disabled,", .").concat(mM.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),He(n,"&.".concat(mM.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&ye({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),bM=cP(iM,{name:"MuiFilledInput",slot:"Input",overridesResolver:nM})((function(e){var t=e.theme,n=e.ownerState;return ye({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&He({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),kM=t.forwardRef((function(e,t){var n,r,i,a,o=mP({props:e,name:"MuiFilledInput"}),u=o.components,s=void 0===u?{}:u,c=o.componentsProps,l=o.fullWidth,f=void 0!==l&&l,d=o.inputComponent,h=void 0===d?"input":d,p=o.multiline,v=void 0!==p&&p,m=o.slotProps,y=o.slots,g=void 0===y?{}:y,b=o.type,k=void 0===b?"text":b,w=Be(o,yM),x=ye({},o,{fullWidth:f,inputComponent:h,multiline:v,type:k}),E=function(e){var t=e.classes;return ye({},t,KN({root:["root",!e.disableUnderline&&"underline"],input:["input"]},vM,t))}(o),S={root:{ownerState:x},input:{ownerState:x}},_=(null!=m?m:c)?We(null!=m?m:c,S):S,I=null!=(n=null!=(r=g.root)?r:s.Root)?n:gM,T=null!=(i=null!=(a=g.input)?a:s.Input)?i:bM;return(0,EN.jsx)(uM,ye({slots:{root:I,input:T},componentsProps:_,fullWidth:f,inputComponent:h,multiline:v,ref:t,type:k},w,{classes:E}))}));kM.muiName="Input";var wM,xM=kM,EM=["children","classes","className","label","notched"],SM=cP("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_M=cP("legend")((function(e){var t=e.ownerState,n=e.theme;return ye({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&ye({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function IM(e){return bD("MuiOutlinedInput",e)}var TM=ye({},ZO,kD("MuiOutlinedInput",["root","notchedOutline","input"])),CM=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],RM=cP(rM,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:tM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ye((He(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(TM.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),He(t,"@media (hover: none)",He({},"&:hover .".concat(TM.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),He(t,"&.".concat(TM.focused," .").concat(TM.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),He(t,"&.".concat(TM.error," .").concat(TM.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),He(t,"&.".concat(TM.disabled," .").concat(TM.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&ye({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),AM=cP((function(e){var t=e.className,n=e.label,r=e.notched,i=Be(e,EM),a=null!=n&&""!==n,o=ye({},e,{notched:r,withLabel:a});return(0,EN.jsx)(SM,ye({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,EN.jsx)(_M,{ownerState:o,children:a?(0,EN.jsx)("span",{children:n}):wM||(wM=(0,EN.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),NM=cP(iM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:nM})((function(e){var t=e.theme,n=e.ownerState;return ye({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&He({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),DM=t.forwardRef((function(e,n){var r,i,a,o,u,s=mP({props:e,name:"MuiOutlinedInput"}),c=s.components,l=void 0===c?{}:c,f=s.fullWidth,d=void 0!==f&&f,h=s.inputComponent,p=void 0===h?"input":h,v=s.label,m=s.multiline,y=void 0!==m&&m,g=s.notched,b=s.slots,k=void 0===b?{}:b,w=s.type,x=void 0===w?"text":w,E=Be(s,CM),S=function(e){var t=e.classes;return ye({},t,KN({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IM,t))}(s),_=qO(),I=VO({props:s,muiFormControl:_,states:["required"]}),T=ye({},s,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:_,fullWidth:d,hiddenLabel:I.hiddenLabel,multiline:y,size:I.size,type:x}),C=null!=(r=null!=(i=k.root)?i:l.Root)?r:RM,R=null!=(a=null!=(o=k.input)?o:l.Input)?a:NM;return(0,EN.jsx)(uM,ye({slots:{root:C,input:R},renderSuffix:function(e){return(0,EN.jsx)(AM,{ownerState:T,className:S.notchedOutline,label:null!=v&&""!==v&&I.required?u||(u=(0,EN.jsxs)(t.Fragment,{children:[v,"\u2009","*"]})):v,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:p,multiline:y,ref:n,type:x},E,{classes:ye({},S,{notchedOutline:null})}))}));DM.muiName="Input";var PM=DM;function OM(e){return bD("MuiFormLabel",e)}var MM=kD("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),LM=["children","className","color","component","disabled","error","filled","focused","required"],FM=cP("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return ye({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({color:(n.vars||n).palette.text.secondary},n.typography.body1,(He(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(MM.focused),{color:(n.vars||n).palette[r.color].main}),He(t,"&.".concat(MM.disabled),{color:(n.vars||n).palette.text.disabled}),He(t,"&.".concat(MM.error),{color:(n.vars||n).palette.error.main}),t))})),jM=cP("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return He({},"&.".concat(MM.error),{color:(t.vars||t).palette.error.main})})),UM=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=Be(n,LM),s=VO({props:n,muiFormControl:qO(),states:["color","required","focused","disabled","error","filled"]}),c=ye({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return KN({root:["root","color".concat(XN(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},OM,t)}(c);return(0,EN.jsxs)(FM,ye({as:o,ownerState:c,className:WN(l.root,i),ref:t},u,{children:[r,s.required&&(0,EN.jsxs)(jM,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),BM=UM;function VM(e){return bD("MuiInputLabel",e)}kD("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var zM=["disableAnimation","margin","shrink","variant","className"],qM=cP(BM,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"& .".concat(MM.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&ye({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&ye({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&ye({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),WM=t.forwardRef((function(e,t){var n=mP({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,u=Be(n,zM),s=qO(),c=a;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);var l=VO({props:n,muiFormControl:s,states:["size","variant","required"]}),f=ye({},n,{disableAnimation:i,formControl:s,shrink:c,size:l.size,variant:l.variant,required:l.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return ye({},t,KN({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},VM,t))}(f);return(0,EN.jsx)(qM,ye({"data-shrink":c,ownerState:f,ref:t,className:WN(d.root,o)},u,{classes:d}))})),KM=WM;var HM=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function GM(e){return bD("MuiFormControl",e)}kD("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var QM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],XM=cP("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return ye({},t.root,t["margin".concat(XN(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return ye({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),YM=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,c=void 0===s?"div":s,l=r.disabled,f=void 0!==l&&l,d=r.error,p=void 0!==d&&d,v=r.focused,m=r.fullWidth,y=void 0!==m&&m,g=r.hiddenLabel,b=void 0!==g&&g,k=r.margin,w=void 0===k?"none":k,x=r.required,E=void 0!==x&&x,S=r.size,_=void 0===S?"medium":S,I=r.variant,T=void 0===I?"outlined":I,C=Be(r,QM),R=ye({},r,{color:u,component:c,disabled:f,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:E,size:_,variant:T}),A=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return KN({root:["root","none"!==n&&"margin".concat(XN(n)),r&&"fullWidth"]},GM,t)}(R),N=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(HM(t,["Input","Select"])){var n=HM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),D=h(N,2),P=D[0],O=D[1],M=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){HM(t,["Input","Select"])&&$O(t.props,!0)&&(e=!0)})),e})),L=h(M,2),F=L[0],j=L[1],U=h(t.useState(!1),2),B=U[0],V=U[1];f&&B&&V(!1);var z,q=void 0===v||f?B:v,W=t.useMemo((function(){return{adornedStart:P,setAdornedStart:O,color:u,disabled:f,error:p,filled:F,focused:q,fullWidth:y,hiddenLabel:b,size:_,onBlur:function(){V(!1)},onEmpty:function(){j(!1)},onFilled:function(){j(!0)},onFocus:function(){V(!0)},registerEffect:z,required:E,variant:T}}),[P,u,f,p,F,q,y,b,z,E,_,T]);return(0,EN.jsx)(zO.Provider,{value:W,children:(0,EN.jsx)(XM,ye({as:c,ownerState:R,className:WN(A.root,a),ref:n},C,{children:i}))})})),$M=YM;function JM(e){return bD("MuiFormHelperText",e)}var ZM,eL=kD("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),tL=["children","className","component","disabled","error","filled","focused","margin","required","variant"],nL=cP("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(XN(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({color:(n.vars||n).palette.text.secondary},n.typography.caption,(He(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(eL.disabled),{color:(n.vars||n).palette.text.disabled}),He(t,"&.".concat(eL.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),rL=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=Be(n,tL),s=VO({props:n,muiFormControl:qO(),states:["variant","size","disabled","error","filled","focused","required"]}),c=ye({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return KN({root:["root",i&&"disabled",a&&"error",r&&"size".concat(XN(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},JM,t)}(c);return(0,EN.jsx)(nL,ye({as:o,ownerState:c,className:WN(l.root,i),ref:t},u,{children:" "===r?ZM||(ZM=(0,EN.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),iL=rL,aL=(n(457),JN);var oL=t.createContext({});function uL(e){return bD("MuiList",e)}kD("MuiList",["root","padding","dense","subheader"]);var sL=["children","className","component","dense","disablePadding","subheader"],cL=cP("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return ye({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),lL=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,l=r.disablePadding,f=void 0!==l&&l,d=r.subheader,h=Be(r,sL),p=t.useMemo((function(){return{dense:c}}),[c]),v=ye({},r,{component:u,dense:c,disablePadding:f}),m=function(e){var t=e.classes;return KN({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},uL,t)}(v);return(0,EN.jsx)(oL.Provider,{value:p,children:(0,EN.jsxs)(cL,ye({as:u,className:WN(m.root,a),ref:n,ownerState:v},h,{children:[d,i]}))})})),fL=lL,dL=aD,hL=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function pL(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function vL(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function mL(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function yL(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&mL(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var gL=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=Be(e,hL),g=t.useRef(null),b=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});WO((function(){a&&g.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(dL(aL(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var k=NP(g,n),w=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===w)&&(w=n),w===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(w+=1)>=s.length&&(w=-1))}));var x=t.Children.map(s,(function(e,n){if(n===w){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,EN.jsx)(fL,ye({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=aL(t).activeElement;if("ArrowDown"===n)e.preventDefault(),yL(t,r,h,f,pL);else if("ArrowUp"===n)e.preventDefault(),yL(t,r,h,f,vL);else if("Home"===n)e.preventDefault(),yL(t,null,h,f,pL);else if("End"===n)e.preventDefault(),yL(t,null,h,f,vL);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&mL(r,i);i.previousKeyMatched&&(u||yL(t,r,!1,f,pL,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y,{children:x}))})),bL=gL,kL=OO,wL=iD,xL=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function EL(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var SL={entering:{opacity:1,transform:EL(1)},entered:{opacity:1,transform:"none"}},_L="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),IL=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?TP:g,k=Be(e,xL),w=t.useRef(),x=t.useRef(),E=CP(),S=t.useRef(null),_=NP(S,o.ref,n),I=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},T=I(f),C=I((function(e,t){RP(e);var n,r=AP({style:v,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:_L?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),R=I(l),A=I(p),N=I((function(e){var t,n=AP({style:v,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:_L?t:.666*t,delay:_L?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=EL(.75),d&&d(e)})),D=I(h);return t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,EN.jsx)(b,ye({appear:a,in:s,nodeRef:S,onEnter:C,onEntered:R,onEntering:T,onExit:N,onExited:D,onExiting:A,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,x.current||0)),r&&r(S.current,e)},timeout:"auto"===y?null:y},k,{children:function(e,n){return t.cloneElement(o,ye({style:ye({opacity:0,transform:EL(.75),visibility:"exited"!==e||s?void 0:"hidden"},SL[e],v,o.props.style),ref:_},n))}}))}));IL.muiSupportAuto=!0;var TL=IL;function CL(e){return bD("MuiPopover",e)}kD("MuiPopover",["root","paper"]);var RL=["onEntering"],AL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function NL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function DL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function PL(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function OL(e){return"function"===typeof e?e():e}var ML=cP(KP,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),LL=cP($P,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),FL=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,l=void 0===c?"anchorEl":c,f=r.children,d=r.className,p=r.container,v=r.elevation,m=void 0===v?8:v,y=r.marginThreshold,g=void 0===y?16:y,b=r.open,k=r.PaperProps,w=void 0===k?{}:k,x=r.transformOrigin,E=void 0===x?{vertical:"top",horizontal:"left"}:x,S=r.TransitionComponent,_=void 0===S?TL:S,I=r.transitionDuration,T=void 0===I?"auto":I,C=r.TransitionProps,R=(void 0===C?{}:C).onEntering,A=Be(r.TransitionProps,RL),N=Be(r,AL),D=t.useRef(),P=NP(D,w.ref),O=ye({},r,{anchorOrigin:u,anchorReference:l,elevation:m,marginThreshold:g,PaperProps:w,transformOrigin:E,TransitionComponent:_,transitionDuration:T,TransitionProps:A}),M=function(e){return KN({root:["root"],paper:["paper"]},CL,e.classes)}(O),L=t.useCallback((function(){if("anchorPosition"===l)return s;var e=OL(a),t=(e&&1===e.nodeType?e:aL(D.current).body).getBoundingClientRect();return{top:t.top+NL(t,u.vertical),left:t.left+DL(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),F=t.useCallback((function(e){return{vertical:NL(e,E.vertical),horizontal:DL(e,E.horizontal)}}),[E.horizontal,E.vertical]),j=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=F(t);if("none"===l)return{top:null,left:null,transformOrigin:PL(n)};var r=L(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=wL(OL(a)),f=c.innerHeight-g,d=c.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<g){var v=o-g;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:PL(n)}}),[a,l,L,F,g]),U=h(t.useState(b),2),B=U[0],V=U[1],z=t.useCallback((function(){var e=D.current;if(e){var t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,V(!0)}}),[j]);t.useEffect((function(){b&&z()})),t.useImperativeHandle(i,(function(){return b?{updatePosition:function(){z()}}:null}),[b,z]),t.useEffect((function(){if(b){var e=kL((function(){z()})),t=wL(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,z]);var q=T;"auto"!==T||_.muiSupportAuto||(q=void 0);var W=p||(a?aL(OL(a)).body:void 0);return(0,EN.jsx)(ML,ye({BackdropProps:{invisible:!0},className:WN(M.root,d),container:W,open:b,ref:n,ownerState:O},N,{children:(0,EN.jsx)(_,ye({appear:!0,in:b,onEntering:function(e,t){R&&R(e,t),z()},onExited:function(){V(!1)},timeout:q},A,{children:(0,EN.jsx)(LL,ye({elevation:m},w,{ref:P,className:WN(M.paper,w.className)},B?void 0:{style:ye({},w.style,{opacity:0})},{ownerState:O,children:f}))}))}))})),jL=FL;function UL(e){return bD("MuiMenu",e)}kD("MuiMenu",["root","paper","list"]);var BL=["onEntering"],VL=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],zL={vertical:"top",horizontal:"right"},qL={vertical:"top",horizontal:"left"},WL=cP(jL,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),KL=cP($P,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),HL=cP(bL,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),GL=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,l=void 0===c?{}:c,f=r.onClose,d=r.open,h=r.PaperProps,p=void 0===h?{}:h,v=r.PopoverClasses,m=r.transitionDuration,y=void 0===m?"auto":m,g=r.TransitionProps,b=(void 0===g?{}:g).onEntering,k=r.variant,w=void 0===k?"selectedMenu":k,x=Be(r.TransitionProps,BL),E=Be(r,VL),S=CP(),_="rtl"===S.direction,I=ye({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:x,variant:w}),T=function(e){return KN({root:["root"],paper:["paper"],list:["list"]},UL,e.classes)}(I),C=a&&!s&&d,R=t.useRef(null),A=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===A)&&(A=n))})),(0,EN.jsx)(WL,ye({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?zL:qL,PaperProps:ye({as:KL},p,{classes:ye({},p.classes,{root:T.paper})}),className:T.root,open:d,ref:n,transitionDuration:y,TransitionProps:ye({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,S),b&&b(e,t)}},x),ownerState:I},E,{classes:v,children:(0,EN.jsx)(HL,ye({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:R,autoFocus:a&&(-1===A||s),autoFocusItem:C,variant:w},l,{className:WN(T.list,l.className),children:o}))}))})),QL=GL;function XL(e){return bD("MuiNativeSelect",e)}var YL=kD("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),$L=["className","disabled","IconComponent","inputRef","variant"],JL=function(e){var t,n=e.ownerState,r=e.theme;return ye((He(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ye({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(YL.disabled),{cursor:"default"}),He(t,"&[multiple]",{height:"auto"}),He(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),He(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},ZL=cP("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:uP,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],He({},"&.".concat(YL.multiple),t.multiple)]}})(JL),eF=function(e){var t=e.ownerState,n=e.theme;return ye(He({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(YL.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},tF=cP("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(XN(n.variant))],n.open&&t.iconOpen]}})(eF),nF=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=Be(e,$L),l=ye({},e,{disabled:i,variant:s}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return KN({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(XN(n)),a&&"iconOpen",r&&"disabled"]},XL,t)}(l);return(0,EN.jsxs)(t.Fragment,{children:[(0,EN.jsx)(ZL,ye({ownerState:l,className:WN(f.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,EN.jsx)(tF,{as:a,ownerState:l,className:f.icon})]})})),rF=nF;var iF=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=h(t.useState(r),2),o=a[0],u=a[1];return[i?n:o,t.useCallback((function(e){i||u(e)}),[])]};function aF(e){return bD("MuiSelect",e)}var oF,uF=kD("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),sF=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],cF=cP("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"&.".concat(uF.select),t.select),He({},"&.".concat(uF.select),t[n.variant]),He({},"&.".concat(uF.multiple),t.multiple)]}})(JL,He({},"&.".concat(uF.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),lF=cP("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(XN(n.variant))],n.open&&t.iconOpen]}})(eF),fF=cP("input",{shouldForwardProp:function(e){return sP(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dF(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function hF(e){return null==e||"string"===typeof e&&!e.trim()}var pF=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,c=e.defaultOpen,l=e.defaultValue,f=e.disabled,d=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,E=e.onClose,S=e.onFocus,_=e.onOpen,I=e.open,T=e.readOnly,C=e.renderValue,R=e.SelectDisplayProps,A=void 0===R?{}:R,N=e.tabIndex,D=e.value,P=e.variant,O=void 0===P?"standard":P,M=Be(e,sF),L=h(iF({controlled:D,default:l,name:"Select"}),2),F=L[0],j=L[1],U=h(iF({controlled:I,default:c,name:"Select"}),2),B=U[0],V=U[1],z=t.useRef(null),q=t.useRef(null),W=h(t.useState(null),2),K=W[0],H=W[1],G=t.useRef(null!=I).current,Q=h(t.useState(),2),X=Q[0],Y=Q[1],$=NP(n,v),J=t.useCallback((function(e){q.current=e,e&&H(e)}),[]),Z=null==K?void 0:K.parentNode;t.useImperativeHandle($,(function(){return{focus:function(){q.current.focus()},node:z.current,value:F}}),[F]),t.useEffect((function(){c&&B&&K&&!G&&(Y(o?null:Z.clientWidth),q.current.focus())}),[K,o]),t.useEffect((function(){a&&q.current.focus()}),[a]),t.useEffect((function(){if(m){var e=aL(q.current).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m]);var ee,te,ne=function(e,t){e?_&&_(t):E&&E(t),G||(Y(o?null:Z.clientWidth),V(e))},re=t.Children.toArray(u),ie=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(F)?F.slice():[];var r=F.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==n&&(j(n),x)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:k}}),x(a,e)}b||ne(!1,t)}}},ae=null!==K&&B;delete M["aria-invalid"];var oe=[],ue=!1;($O({value:F})||d)&&(C?ee=C(F):ue=!0);var se=re.map((function(e){if(!t.isValidElement(e))return null;var n;if(b){if(!Array.isArray(F))throw new Error(Ve(2));n=F.some((function(t){return dF(t,e.props.value)})),n&&ue&&oe.push(e.props.children)}else(n=dF(F,e.props.value))&&ue&&(te=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:ie(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ue&&(ee=b?0===oe.length?null:oe.reduce((function(e,t,n){return e.push(t),n<oe.length-1&&e.push(", "),e}),[]):te);var ce,le=X;!o&&G&&K&&(le=Z.clientWidth),ce="undefined"!==typeof N?N:f?null:0;var fe=A.id||(k?"mui-component-select-".concat(k):void 0),de=ye({},e,{variant:O,value:F,open:ae}),he=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return KN({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(XN(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},aF,t)}(de);return(0,EN.jsxs)(t.Fragment,{children:[(0,EN.jsx)(cF,ye({ref:J,tabIndex:ce,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:f||T?null:function(e){0===e.button&&(e.preventDefault(),q.current.focus(),ne(!0,e))},onBlur:function(e){!ae&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:k}}),w(e))},onFocus:S},A,{ownerState:de,className:WN(A.className,he.select,s),id:fe,children:hF(ee)?oF||(oF=(0,EN.jsx)("span",{className:"notranslate",children:"\u200b"})):ee})),(0,EN.jsx)(fF,ye({value:Array.isArray(F)?F.join(","):F,name:k,ref:z,"aria-hidden":!0,onChange:function(e){var t=re.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=re[t];j(n.props.value),x&&x(e,n)}},tabIndex:-1,disabled:f,className:he.nativeInput,autoFocus:a,ownerState:de},M)),(0,EN.jsx)(lF,{as:p,className:he.icon,ownerState:de}),(0,EN.jsx)(QL,ye({id:"menu-".concat(k||""),anchorEl:Z,open:ae,onClose:function(e){ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:ye({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:ye({},g.PaperProps,{style:ye({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)}),children:se}))]})})),vF=pF;function mF(e){return bD("MuiSvgIcon",e)}kD("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var yF=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gF=cP("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(XN(n.color))],t["fontSize".concat(XN(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(d=(g.vars||g).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),bF=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,d=n.inheritViewBox,h=void 0!==d&&d,p=n.titleAccess,v=n.viewBox,m=void 0===v?"0 0 24 24":v,y=Be(n,yF),g=ye({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m}),b={};h||(b.viewBox=m);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return KN({root:["root","inherit"!==t&&"color".concat(XN(t)),"fontSize".concat(XN(n))]},mF,r)}(g);return(0,EN.jsxs)(gF,ye({as:s,className:WN(k.root,i),focusable:"false",color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},b,y,{ownerState:g,children:[r,p?(0,EN.jsx)("title",{children:p}):null]}))}));bF.muiName="SvgIcon";var kF=bF;function wF(e,n){function r(t,r){return(0,EN.jsx)(kF,ye({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=kF.muiName,t.memo(t.forwardRef(r))}var xF,EF,SF=wF((0,EN.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_F=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],IF={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return uP(e)&&"variant"!==e},slot:"Root"},TF=cP(pM,IF)(""),CF=cP(PM,IF)(""),RF=cP(xM,IF)(""),AF=t.forwardRef((function(e,n){var r=mP({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,l=r.defaultOpen,f=void 0!==l&&l,d=r.displayEmpty,h=void 0!==d&&d,p=r.IconComponent,v=void 0===p?SF:p,m=r.id,y=r.input,g=r.inputProps,b=r.label,k=r.labelId,w=r.MenuProps,x=r.multiple,E=void 0!==x&&x,S=r.native,_=void 0!==S&&S,I=r.onClose,T=r.onOpen,C=r.open,R=r.renderValue,A=r.SelectDisplayProps,N=r.variant,D=void 0===N?"outlined":N,P=Be(r,_F),O=_?rF:vF,M=VO({props:r,muiFormControl:qO(),states:["variant"]}).variant||D,L=y||{standard:xF||(xF=(0,EN.jsx)(TF,{})),outlined:(0,EN.jsx)(CF,{label:b}),filled:EF||(EF=(0,EN.jsx)(RF,{}))}[M],F=function(e){return e.classes}(ye({},r,{variant:M,classes:s})),j=NP(n,L.ref);return(0,EN.jsx)(t.Fragment,{children:t.cloneElement(L,ye({inputComponent:O,inputProps:ye({children:o,IconComponent:v,variant:M,type:void 0,multiple:E},_?{id:m}:{autoWidth:a,defaultOpen:f,displayEmpty:h,labelId:k,MenuProps:w,onClose:I,onOpen:T,open:C,renderValue:R,SelectDisplayProps:ye({id:m},A)},g,{classes:g?We(F,g.classes):F},y?y.props.inputProps:{})},E&&_&&"outlined"===M?{notched:!0}:{},{ref:j,className:WN(L.props.className,c)},!y&&{variant:M},P))})}));AF.muiName="Select";var NF=AF;function DF(e){return bD("MuiTextField",e)}kD("MuiTextField",["root"]);var PF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],OF={standard:pM,filled:xM,outlined:PM},MF=cP($M,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),LF=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,v=n.FormHelperTextProps,m=n.fullWidth,y=void 0!==m&&m,g=n.helperText,b=n.id,k=n.InputLabelProps,w=n.inputProps,x=n.InputProps,E=n.inputRef,S=n.label,_=n.maxRows,I=n.minRows,T=n.multiline,C=void 0!==T&&T,R=n.name,A=n.onBlur,N=n.onChange,D=n.onFocus,P=n.placeholder,O=n.required,M=void 0!==O&&O,L=n.rows,F=n.select,j=void 0!==F&&F,U=n.SelectProps,B=n.type,V=n.value,z=n.variant,q=void 0===z?"outlined":z,W=Be(n,PF),K=ye({},n,{autoFocus:a,color:c,disabled:d,error:p,fullWidth:y,multiline:C,required:M,select:j,variant:q}),H=function(e){return KN({root:["root"]},DF,e.classes)}(K);var G={};"outlined"===q&&(k&&"undefined"!==typeof k.shrink&&(G.notched=k.shrink),G.label=S),j&&(U&&U.native||(G.id=void 0),G["aria-describedby"]=void 0);var Q=QN(b),X=g&&Q?"".concat(Q,"-helper-text"):void 0,Y=S&&Q?"".concat(Q,"-label"):void 0,$=OF[q],J=(0,EN.jsx)($,ye({"aria-describedby":X,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:y,multiline:C,name:R,rows:L,maxRows:_,minRows:I,type:B,value:V,id:Q,inputRef:E,onBlur:A,onChange:N,onFocus:D,placeholder:P,inputProps:w},G,x));return(0,EN.jsxs)(MF,ye({className:WN(H.root,u),disabled:d,error:p,fullWidth:y,ref:t,required:M,color:c,variant:q,ownerState:K},W,{children:[null!=S&&""!==S&&(0,EN.jsx)(KM,ye({htmlFor:Q,id:Y},k,{children:S})),j?(0,EN.jsx)(NF,ye({"aria-describedby":X,id:Q,labelId:Y,value:V,input:J},U,{children:o})):J,g&&(0,EN.jsx)(iL,ye({id:X},v,{children:g}))]}))})),FF=LF;function jF(e){return bD("MuiDialogActions",e)}kD("MuiDialogActions",["root","spacing"]);var UF,BF=["className","disableSpacing"],VF=cP("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){return ye({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.ownerState.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),zF=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiDialogActions"}),r=n.className,i=n.disableSpacing,a=void 0!==i&&i,o=Be(n,BF),u=ye({},n,{disableSpacing:a}),s=function(e){var t=e.classes;return KN({root:["root",!e.disableSpacing&&"spacing"]},jF,t)}(u);return(0,EN.jsx)(VF,ye({className:WN(s.root,r),ownerState:u,ref:t},o))})),qF=zF,WF=eD,KF=!0,HF=!1,GF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function QF(e){e.metaKey||e.altKey||e.ctrlKey||(KF=!0)}function XF(){KF=!1}function YF(){"hidden"===this.visibilityState&&HF&&(KF=!0)}function $F(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return KF||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!GF[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var JF=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",QF,!0),t.addEventListener("mousedown",XF,!0),t.addEventListener("pointerdown",XF,!0),t.addEventListener("touchstart",XF,!0),t.addEventListener("visibilitychange",YF,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!$F(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(HF=!0,window.clearTimeout(UF),UF=window.setTimeout((function(){HF=!1}),100),n.current=!1,!0)},ref:e}};function ZF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ej(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function tj(e,t,n){return null!=n[t]?n[t]:e.props[t]}function nj(e,n,r){var i=ej(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:tj(u,"exit",e),enter:tj(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:tj(u,"exit",e),enter:tj(u,"enter",e)})}})),a}var rj=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ij=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Gn(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}yP(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ej(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:tj(e,"appear",r),enter:tj(e,"enter",r),exit:tj(e,"exit",r)})}))):nj(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=ej(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ye({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=Be(e,["component","childFactory"]),a=this.state.contextValue,o=rj(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(bP.Provider,{value:a},o):t.createElement(bP.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);ij.propTypes={},ij.defaultProps={component:"div",childFactory:function(e){return e}};var aj=ij;var oj=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,d=h(t.useState(!1),2),p=d[0],v=d[1],m=WN(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=WN(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,EN.jsx)("span",{className:m,style:y,children:(0,EN.jsx)("span",{className:g})})};var uj,sj,cj,lj,fj,dj,hj,pj,vj=kD("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mj=["center","classes","className"],yj=GO(fj||(fj=uj||(uj=ZF(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),gj=GO(dj||(dj=sj||(sj=ZF(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),bj=GO(hj||(hj=cj||(cj=ZF(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),kj=cP("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),wj=cP(oj,{name:"MuiTouchRipple",slot:"Ripple"})(pj||(pj=lj||(lj=ZF(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),vj.rippleVisible,yj,550,(function(e){return e.theme.transitions.easing.easeInOut}),vj.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),vj.child,vj.childLeaving,gj,550,(function(e){return e.theme.transitions.easing.easeInOut}),vj.childPulsate,bj,(function(e){return e.theme.transitions.easing.easeInOut})),xj=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,c=Be(r,mj),l=h(t.useState([]),2),f=l[0],d=l[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(Yn(e),[(0,EN.jsx)(wj,{classes:{ripple:WN(u.ripple,vj.ripple),rippleVisible:WN(u.rippleVisible,vj.rippleVisible),ripplePulsate:WN(u.ripplePulsate,vj.ripplePulsate),child:WN(u.child,vj.child),childLeaving:WN(u.childLeaving,vj.childLeaving),childPulsate:WN(u.childPulsate,vj.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,d,h=c?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(S,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,k]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),E=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){E(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:E}}),[x,w,E]),(0,EN.jsx)(kj,ye({className:WN(vj.root,u.root,s),ref:b},c,{children:(0,EN.jsx)(aj,{component:null,exit:!0,children:f})}))})),Ej=xj;function Sj(e){return bD("MuiButtonBase",e)}var _j,Ij=kD("MuiButtonBase",["root","disabled","focusVisible"]),Tj=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Cj=cP("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((He(_j={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Ij.disabled),{pointerEvents:"none",cursor:"default"}),He(_j,"@media print",{colorAdjust:"exact"}),_j)),Rj=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,d=void 0!==f&&f,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,b=void 0!==g&&g,k=r.LinkComponent,w=void 0===k?"a":k,x=r.onBlur,E=r.onClick,S=r.onContextMenu,_=r.onDragLeave,I=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,R=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,D=r.onMouseUp,P=r.onTouchEnd,O=r.onTouchMove,M=r.onTouchStart,L=r.tabIndex,F=void 0===L?0:L,j=r.TouchRippleProps,U=r.touchRippleRef,B=r.type,V=Be(r,Tj),z=t.useRef(null),q=t.useRef(null),W=NP(q,U),K=JF(),H=K.isFocusVisibleRef,G=K.onFocus,Q=K.onBlur,X=K.ref,Y=h(t.useState(!1),2),$=Y[0],J=Y[1];d&&$&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),z.current.focus()}}}),[]);var Z=h(t.useState(!1),2),ee=Z[0],te=Z[1];t.useEffect((function(){te(!0)}),[]);var ne=ee&&!v&&!d;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return WF((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}t.useEffect((function(){$&&b&&!v&&ee&&q.current.pulsate()}),[v,b,$,ee]);var ie=re("start",A),ae=re("stop",S),oe=re("stop",_),ue=re("stop",D),se=re("stop",(function(e){$&&e.preventDefault(),N&&N(e)})),ce=re("start",M),le=re("stop",P),fe=re("stop",O),de=re("stop",(function(e){Q(e),!1===H.current&&J(!1),x&&x(e)}),!1),he=WF((function(e){z.current||(z.current=e.currentTarget),G(e),!0===H.current&&(J(!0),T&&T(e)),I&&I(e)})),pe=function(){var e=z.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ve=t.useRef(!1),me=WF((function(e){b&&!ve.current&&$&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!d&&(e.preventDefault(),E&&E(e))})),ge=WF((function(e){b&&" "===e.key&&q.current&&$&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),R&&R(e),E&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&E(e)})),be=l;"button"===be&&(V.href||V.to)&&(be=w);var ke={};"button"===be?(ke.type=void 0===B?"button":B,ke.disabled=d):(V.href||V.to||(ke.role="button"),d&&(ke["aria-disabled"]=d));var we=NP(n,X,z);var xe=ye({},r,{centerRipple:o,component:l,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:$}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=KN({root:["root",t&&"disabled",n&&"focusVisible"]},Sj,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(xe);return(0,EN.jsxs)(Cj,ye({as:be,className:WN(Ee.root,s),ownerState:xe,onBlur:de,onClick:E,onContextMenu:ae,onFocus:he,onKeyDown:me,onKeyUp:ge,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:we,tabIndex:d?-1:F,type:B},ke,V,{children:[u,ne?(0,EN.jsx)(Ej,ye({ref:W,center:o},j)):null]}))})),Aj=Rj;function Nj(e){return bD("MuiButton",e)}var Dj=kD("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Pj=t.createContext({}),Oj=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Mj=function(e){return ye({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Lj=cP(Aj,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(XN(n.color))],t["size".concat(XN(n.size))],t["".concat(n.variant,"Size").concat(XN(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return ye({},i.typography.button,(He(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":ye({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):rn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):rn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):rn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":ye({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Dj.focusVisible),ye({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),He(t,"&.".concat(Dj.disabled),ye({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(rn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(He(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Dj.focusVisible),{boxShadow:"none"}),He(t,"&:active",{boxShadow:"none"}),He(t,"&.".concat(Dj.disabled),{boxShadow:"none"}),t)})),Fj=cP("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(XN(n.size))]]}})((function(e){var t=e.ownerState;return ye({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Mj(t))})),jj=cP("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(XN(n.size))]]}})((function(e){var t=e.ownerState;return ye({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Mj(t))})),Uj=t.forwardRef((function(e,n){var r=t.useContext(Pj),i=mP({props:lP(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,d=void 0!==f&&f,h=i.disableElevation,p=void 0!==h&&h,v=i.disableFocusRipple,m=void 0!==v&&v,y=i.endIcon,g=i.focusVisibleClassName,b=i.fullWidth,k=void 0!==b&&b,w=i.size,x=void 0===w?"medium":w,E=i.startIcon,S=i.type,_=i.variant,I=void 0===_?"text":_,T=Be(i,Oj),C=ye({},i,{color:u,component:c,disabled:d,disableElevation:p,disableFocusRipple:m,fullWidth:k,size:x,type:S,variant:I}),R=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return ye({},o,KN({root:["root",a,"".concat(a).concat(XN(t)),"size".concat(XN(i)),"".concat(a,"Size").concat(XN(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(XN(i))],endIcon:["endIcon","iconSize".concat(XN(i))]},Nj,o))}(C),A=E&&(0,EN.jsx)(Fj,{className:R.startIcon,ownerState:C,children:E}),N=y&&(0,EN.jsx)(jj,{className:R.endIcon,ownerState:C,children:y});return(0,EN.jsxs)(Lj,ye({ownerState:C,className:WN(r.className,R.root,l),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:WN(R.focusVisible,g),ref:n,type:S},T,{classes:R,children:[A,a,N]}))})),Bj=Uj,Vj=t.memo((function(e){var n=e.setUserChat,r=e.userChat,i=e.UserData,a=e.setShowAlert,u=h((0,t.useState)(""),2),c=u[0],l=u[1],f=h((0,t.useState)(),2),d=f[0],p=f[1];(0,t.useMemo)((function(){var e=gN.collection("privateChat").where("users","array-contains",i.userID);p(e)}),[i]);var v=h(NN(d),1)[0],m=function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ek(gN,"usersDB"),c!==i.userID){e.next=6;break}a({severity:"warning",setOpen:!0,title:"Aviso",message:"Insira um ID de usu\xe1rio diferente do seu"}),e.next=16;break;case 6:if(!y(c)){e.next=11;break}a({severity:"warning",setOpen:!0,title:"Aviso",message:"Contato j\xe1 adicionado"}),e.next=16;break;case 11:return n=Zk(t,tw("userID","==",c)),e.next=14,Cw(n);case 14:e.sent.empty?a({severity:"warning",setOpen:!0,title:"Aviso",message:"ID de usu\xe1rio n\xe3o existente"}):(gN.collection("privateChat").add({users:[i.userID,c]}),a({severity:"success",setOpen:!0,title:"Sucesso",message:"Contato adicionado"}),w());case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return!(null===v||void 0===v||!v.docs.find((function(t){var n;return(null===(n=t.data().users.find((function(t){return t===e})))||void 0===n?void 0:n.length)>0})))},g=h((0,t.useState)(!1),2),b=g[0],k=g[1],w=function(){k(!1)};return(0,EN.jsxs)("div",{className:"flex-col gap-1 text-xl",children:[(0,EN.jsxs)(uO,{fullWidth:!0,open:b,onClose:w,children:[(0,EN.jsx)(EO,{color:"secondary",borderBottom:3,sx:{fontSize:25,backgroundColor:"secundary"},children:(0,EN.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl",children:"Adicionar Contato"})}),(0,EN.jsxs)(CO,{sx:{margin:5},children:[(0,EN.jsxs)(PO,{sx:{fontSize:18},children:["Digite o ",(0,EN.jsx)("strong",{children:"ID do \xfasuario"}),":"]}),(0,EN.jsx)(FF,{variant:"outlined",autoFocus:!0,fullWidth:!0,margin:"dense",id:"userID",label:"UserID",value:c,onChange:function(e){l(e.target.value)}})]}),(0,EN.jsxs)(qF,{sx:{padding:2},children:[(0,EN.jsx)(Bj,{onClick:w,children:"Cancelar"}),(0,EN.jsx)(Bj,{variant:"contained",onClick:m,children:"Adicionar"})]})]}),(0,EN.jsxs)("div",{className:"".concat(r?"":"active"," color3 flex justify-center border-opacity-30 border-gray-100 border-b items-center md:gap-2 hover:bg-[#a34373] transition cursor-pointer gap-1 p-3"),onClick:function(){n(null)},children:[(0,EN.jsx)(jN,{className:"text-[2.5rem]"}),(0,EN.jsx)("span",{className:"text-sm lg:text-base xl:text-lg text-ellipsis overflow-hidden",children:"Chat Geral"})]}),(0,EN.jsxs)("div",{className:"flex justify-between my-5 h-full w-full px-2",children:[(0,EN.jsxs)("div",{className:"flex items-center gap-1",children:[(0,EN.jsx)(MN,{className:"text-2xl"}),(0,EN.jsx)("h1",{children:"Contatos"})]}),(0,EN.jsx)("div",{className:"flex items-center text-3xl",children:(0,EN.jsx)(BN,{className:"cursor-pointer",onClick:function(){k(!0)}})})]}),(0,EN.jsx)("div",{className:"overflow-y-auto",children:null===v||void 0===v?void 0:v.docs.map((function(e,t){return(0,EN.jsx)("div",{className:"h-full w-full",children:(0,EN.jsx)(zN,{setUserChat:n,active:(null===r||void 0===r?void 0:r.chatId)===(null===e||void 0===e?void 0:e.id)?"active":"",id:e.id,users:e.data().users,user:i.userID,UserData:i})},t)}))})]})})),zj=Vj;function qj(e){var t=e.userChat,n=null===t||void 0===t?void 0:t.username,r=null===t||void 0===t?void 0:t.photoURL,i=null===t||void 0===t?void 0:t.userID;return t?(0,EN.jsxs)("header",{className:"color2 flex w-full items-center gap-2 border-l-[2px] border-gray-700 border-opacity-30 p-3 pl-16 drop-shadow-xl md:p-5",children:[r?(0,EN.jsx)("img",{className:"w-[35px] rounded-full lg:w-[40px] xl:w-[50px]",src:r,alt:"Avatar",referrerPolicy:"no-referrer"}):(0,EN.jsx)(FN,{}),(0,EN.jsxs)("span",{className:"overflow-hidden text-ellipsis text-base lg:text-base xl:text-lg",children:[n,(0,EN.jsx)("span",{className:"ml-1 text-[0.6rem] font-extralight",children:i})]})]}):(0,EN.jsxs)("div",{className:"color2 flex justify-center items-center p-3 gap-2",children:[(0,EN.jsx)(jN,{className:"text-[2.5rem]"}),(0,EN.jsx)("span",{className:"text-xl text-ellipsis overflow-hidden",children:"Chat Geral"})]})}function Wj(){return bN.currentUser&&(0,EN.jsx)("button",{onClick:function(){return bN.signOut()},children:(0,EN.jsx)(iC,{className:"text-3xl"})})}function Kj(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function Hj(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"}}]})(e)}var Gj=kD("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Qj(e){return bD("MuiListItemIcon",e)}var Xj=kD("MuiListItemIcon",["root","alignItemsFlexStart"]);function Yj(e){return bD("MuiListItemText",e)}var $j=kD("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Jj(e){return bD("MuiMenuItem",e)}var Zj=kD("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),eU=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],tU=cP(Aj,{shouldForwardProp:function(e){return uP(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(He(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Zj.selected),He({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):rn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Zj.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):rn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),He(t,"&.".concat(Zj.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):rn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):rn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),He(t,"&.".concat(Zj.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),He(t,"&.".concat(Zj.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),He(t,"& + .".concat(Gj.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),He(t,"& + .".concat(Gj.inset),{marginLeft:52}),He(t,"& .".concat($j.root),{marginTop:0,marginBottom:0}),He(t,"& .".concat($j.inset),{paddingLeft:36}),He(t,"& .".concat(Xj.root),{minWidth:36}),t),!r.dense&&He({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&ye({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,He({},"& .".concat(Xj.root," svg"),{fontSize:"1.25rem"})))})),nU=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiMenuItem"}),i=r.autoFocus,a=void 0!==i&&i,o=r.component,u=void 0===o?"li":o,s=r.dense,c=void 0!==s&&s,l=r.divider,f=void 0!==l&&l,d=r.disableGutters,h=void 0!==d&&d,p=r.focusVisibleClassName,v=r.role,m=void 0===v?"menuitem":v,y=r.tabIndex,g=r.className,b=Be(r,eU),k=t.useContext(oL),w=t.useMemo((function(){return{dense:c||k.dense||!1,disableGutters:h}}),[k.dense,c,h]),x=t.useRef(null);WO((function(){a&&x.current&&x.current.focus()}),[a]);var E,S=ye({},r,{dense:w.dense,divider:f,disableGutters:h}),_=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes;return ye({},o,KN({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},Jj,o))}(r),I=NP(x,n);return r.disabled||(E=void 0!==y?y:-1),(0,EN.jsx)(oL.Provider,{value:w,children:(0,EN.jsx)(tU,ye({ref:I,role:m,tabIndex:E,component:u,focusVisibleClassName:WN(_.focusVisible,p),className:WN(_.root,g)},b,{ownerState:S,classes:_}))})})),rU=nU,iU=["className"],aU=cP("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return ye({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),oU=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiListItemIcon"}),i=r.className,a=Be(r,iU),o=ye({},r,{alignItems:t.useContext(oL).alignItems}),u=function(e){return KN({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},Qj,e.classes)}(o);return(0,EN.jsx)(aU,ye({className:WN(u.root,i),ownerState:o,ref:n},a))})),uU=oU,sU=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],cU=cP("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"& .".concat($j.primary),t.primary),He({},"& .".concat($j.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return ye({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),lU=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,u=void 0!==o&&o,s=r.inset,c=void 0!==s&&s,l=r.primary,f=r.primaryTypographyProps,d=r.secondary,h=r.secondaryTypographyProps,p=Be(r,sU),v=t.useContext(oL).dense,m=null!=l?l:i,y=d,g=ye({},r,{disableTypography:u,inset:c,primary:!!m,secondary:!!y,dense:v}),b=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return KN({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Yj,t)}(g);return null==m||m.type===yO||u||(m=(0,EN.jsx)(yO,ye({variant:v?"body2":"body1",className:b.primary,component:null!=f&&f.variant?void 0:"span",display:"block"},f,{children:m}))),null==y||y.type===yO||u||(y=(0,EN.jsx)(yO,ye({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},h,{children:y}))),(0,EN.jsxs)(cU,ye({className:WN(b.root,a),ownerState:g,ref:n},p,{children:[m,y]}))})),fU=lU;function dU(e){return eC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(e)}function hU(e){var n=e.docRef,r=e.imagePath,i=e.editMessage,a=e.imageURL,u=h((0,t.useState)(!1),2),c=u[0],l=u[1],f=function(){l(!1)},d=h((0,t.useState)(!1),2),p=d[0],v=d[1],m=h((0,t.useState)(i),2),y=m[0],g=m[1],b=function(){v(!1)},k=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=tk(gN,n.path),e.next=3,Nw(t,{text:y,editedAt:DR.firestore.FieldValue.serverTimestamp()}).then((function(){b(),_()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=h((0,t.useState)(null),2),x=w[0],E=w[1],S=Boolean(x),_=function(){E(null)};return(0,EN.jsxs)(EN.Fragment,{children:[(0,EN.jsxs)(uO,{fullWidth:!0,maxWidth:"md",open:p,onClose:b,children:[(0,EN.jsxs)(EO,{color:"secondary",borderBottom:3,sx:{backgroundColor:"secundary",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,EN.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl",onClick:k,children:"Editar mensagem"}),(0,EN.jsx)("button",{className:"float-right rounded-full text-[3rem]",onClick:b,children:(0,EN.jsx)(Kj,{})})]}),a&&(0,EN.jsx)(CO,{sx:{justifyContent:"center",display:"flex"},children:(0,EN.jsx)("img",{src:a,className:"object-contain",referrerPolicy:"no-referrer",alt:"img"})}),(0,EN.jsx)(PO,{sx:{padding:3},children:(0,EN.jsx)("p",{className:"break-all",children:i})}),(0,EN.jsxs)(qF,{sx:{paddingBottom:2,paddingRight:2,paddingLeft:3,gap:4},children:[(0,EN.jsx)(FF,{variant:"outlined",className:"h-full w-full",multiline:!0,maxRows:4,value:y,onChange:function(e){return g(e.target.value)}}),(0,EN.jsx)("button",{className:"color5 rounded-full p-3 text-[2rem]",onClick:k,children:(0,EN.jsx)(Hj,{})})]})]}),(0,EN.jsxs)(uO,{open:c,onClose:f,children:[(0,EN.jsx)(CO,{children:(0,EN.jsx)(PO,{children:"Deseja realmente apagar a mensagem?"})}),(0,EN.jsxs)(qF,{children:[(0,EN.jsx)(Bj,{onClick:f,children:" Cancelar "}),(0,EN.jsxs)(Bj,{onClick:function(){r&&function(e){return fR(e=Nr(e))}(wR(wN,r)).then((function(){})).catch((function(e){console.log("error:",e)}));Dw(tk(gN,n.path)).then((function(){f(),_()}))},autoFocus:!0,children:[" ","Apagar"," "]})]})]}),(0,EN.jsxs)("div",{className:"m-2 flex items-center",children:[(0,EN.jsx)("button",{"aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:function(e){E(e.currentTarget)},children:(0,EN.jsx)(dU,{})}),(0,EN.jsxs)(QL,{id:"basic-menu",anchorEl:x,open:S,onClose:_,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,EN.jsxs)(rU,{onClick:function(){l(!0)},children:[(0,EN.jsx)(uU,{children:(0,EN.jsx)(ON,{className:"text-xl text-[#cc264acf]"})}),(0,EN.jsx)(fU,{className:"text-[#cc264acf]",children:"Deletar"})]}),(0,EN.jsxs)(rU,{onClick:function(){v(!0)},children:[(0,EN.jsx)(uU,{children:(0,EN.jsx)(LN,{className:"text-xl text-white"})}),(0,EN.jsx)(fU,{children:"Editar"})]})]})]})]})}function pU(e){var n=e.docRef,r=e.CurrentUserID,i=e.message,a=i.text,o=i.uid,u=i.photoURL,s=i.createdAt,c=i.username,l=i.userID,f=i.imageURL,d=i.imagePath,p=i.editedAt,v=new Date(1e3*s),m=new Date(v),y=("0"+(m.getMonth()+1)).slice(-2),g=("0"+(m.getDate()+1)).slice(-2),b=("0"+m.getHours()).slice(-2),k=("0"+m.getMinutes()).slice(-2),w=new Date(1e3*p),x=new Date(w),E=("0"+(x.getMonth()+1)).slice(-2),S=("0"+(x.getDate()+1)).slice(-2),_=("0"+x.getHours()).slice(-2),I=("0"+x.getMinutes()).slice(-2),T=u,C=h((0,t.useState)(),2),R=C[0],A=C[1];(0,t.useEffect)((function(){o?o===bN.currentUser.uid?A("sent"):A("received"):A(l===r?"sent":"received")}));var N=h((0,t.useState)(!1),2),D=N[0],P=N[1],O=function(){P(!1)};return(0,EN.jsxs)(EN.Fragment,{children:[D&&function(e,t,n,r){return(0,EN.jsxs)(uO,{fullWidth:!0,maxWidth:"md",open:D,onClose:O,children:[(0,EN.jsxs)(EO,{sx:{backgroundColor:"secundary",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,EN.jsxs)("span",{className:"text-sm sm:text-lg md:text-xl",children:[n," - ",r]}),(0,EN.jsx)("button",{className:"rounded-full p-3 text-[2rem]",onClick:O,children:(0,EN.jsx)(Kj,{})})]}),(0,EN.jsx)(CO,{sx:{justifyContent:"center",display:"flex"},children:(0,EN.jsx)("img",{src:e,className:"object-contain",referrerPolicy:"no-referrer"})}),t&&(0,EN.jsxs)(PO,{sx:{paddingLeft:3,paddingRight:3},children:[" ",t," "]}),(0,EN.jsx)(qF,{sx:{paddingBottom:2,paddingRight:2,paddingLeft:3,gap:4}})]})}(f,a,c,"".concat(g,"/").concat(y," ").concat(b,":").concat(k)),(0,EN.jsx)("div",{className:"div".concat(R," ml-2 opacity-90"),children:(0,EN.jsxs)("div",{className:"".concat(R," m-5 inline-flex rounded-xl py-1 px-2 brightness-125"),children:[(0,EN.jsx)("img",{className:"mr-2 h-[35px] w-auto -translate-y-6 -translate-x-6 rounded-full",src:T,referrerPolicy:"no-referrer",alt:"Foto de ".concat(c)}),(0,EN.jsxs)("div",{children:[(0,EN.jsxs)("div",{className:"flex h-auto w-auto justify-between font-thin",children:[(0,EN.jsxs)("span",{className:"m-1 -translate-x-8 text-base font-normal",children:[c,(0,EN.jsx)("span",{className:"ml-1 text-[0.5rem] font-thin",children:l})]}),(0,EN.jsxs)("span",{className:"my-auto ml-auto flex flex-col justify-end text-[0.5rem] ",children:[(0,EN.jsxs)("span",{className:"self-end text-right",children:[g,"/",y," ",b,":",k]}),(0,EN.jsx)("span",{className:"self-end text-right",children:p&&"(editado \xe0s ".concat(S,"/").concat(E," ").concat(_,":").concat(I,")")})]}),l===r&&(0,EN.jsx)(hU,{docRef:n,imagePath:d,editMessage:a,imageURL:f}),o===bN.currentUser.uid&&(0,EN.jsx)(hU,{docRef:n,imagePath:d,editMessage:a,imageURL:f})]}),f&&(0,EN.jsx)("img",{className:"mx-auto max-h-[250px] max-w-full cursor-pointer p-2",src:f,onClick:function(){P(!0)}}),a&&(0,EN.jsx)("p",{className:"m-2 mt-0 -translate-x-9 break-all font-extralight",children:a})]})]})})]})}var vU=DR.firestore();function mU(e){var n=e.userChat,r=e.setShowAlert,i=n.chatId,a=n.UserData.photoURL,u=n.UserData.userID,c=n.UserData.username,l=h((0,t.useState)(),2),f=l[0],d=l[1];(0,t.useMemo)((function(){var e=Zk(gN.collection("privateChat").doc(i).collection("messages").orderBy("createdAt"));d(e)}),[i]);var p=h(DN(f),4),v=p[0],m=(p[1],p[2],p[3]),y=[];null===m||void 0===m||m.forEach((function(e){y.push(e.ref)}));var g=(0,t.useRef)("");(0,t.useEffect)((function(){g.current.scrollHeight>g.current.offsetHeight&&(g.current.scrollTop=g.current.scrollHeight-g.current.offsetHeight)}),[v]);var b=h((0,t.useState)(""),2),k=b[0],w=b[1],x=function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=vU.collection("privateChat").doc(i).collection("messages"),t.preventDefault(),!(k.length>0)){e.next=6;break}return e.next=5,n.add({text:k,createdAt:DR.firestore.FieldValue.serverTimestamp(),userID:u,photoURL:a,username:c});case 5:w("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=h((0,t.useState)(!0),2),S=E[0],_=E[1];(0,t.useEffect)((function(){if(0===k.length)_(!0);else if(_(!1),k.length>1e3){r({severity:"warning",setOpen:!0,title:"Mensagem muito longa",message:"N\xfamero m\xe1ximo de 1000 caracteres excedido"}),_(!0)}else _(!1)}),[k]);var I=h((0,t.useState)(null),2),T=I[0],C=I[1],R=h((0,t.useState)(k),2),A=R[0],N=R[1],D=h((0,t.useState)(!1),2),P=D[0],O=D[1],M=function(){O(!1),N("")},L=function(e){var t;if(null!==(t=e.target.files[0])&&void 0!==t&&t.type.includes("image"))C(e.target.files[0],function(e){O(!0);var t=new FileReader;t.onload=function(e){document.getElementById("imgpreview").setAttribute("src",e.target.result)},t.readAsDataURL(e)}(e.target.files[0]));else{r({severity:"warning",setOpen:!0,title:"Erro no envio",message:"S\xf3 \xe9 permitido o envio de arquivos de imagem/gif"})}};return(0,EN.jsxs)(EN.Fragment,{children:[(0,EN.jsxs)(uO,{fullWidth:!0,maxWidth:"md",open:P,onClose:M,children:[(0,EN.jsxs)(EO,{color:"secondary",borderBottom:3,sx:{backgroundColor:"secundary",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,EN.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl",children:"Enviar Imagem"}),(0,EN.jsx)("button",{className:"float-right rounded-full text-[3rem]",onClick:M,children:(0,EN.jsx)(Kj,{})})]}),(0,EN.jsx)(CO,{sx:{marginTop:2,justifyContent:"center",display:"flex"},children:(0,EN.jsx)("img",{id:"imgpreview",className:"object-contain",referrerPolicy:"no-referrer",alt:"imgpreview"})}),(0,EN.jsxs)(qF,{sx:{paddingBottom:2,paddingRight:2,paddingLeft:3,gap:4},children:[(0,EN.jsx)(FF,{variant:"outlined",className:"h-full w-full",value:A,onChange:function(e){return N(e.target.value)}}),(0,EN.jsx)("button",{className:"color5 rounded-full p-3 text-[2rem]",onClick:function(){null!==T&&(M(),function(e,t,n){return cR(e=Nr(e),t,n)}(wR(wN,"privateChat/".concat(i,"/").concat(T.name+Ar())),T).then((function(e){(function(e){return lR(e=Nr(e))})(e.ref).then((function(t){vU.collection("privateChat").doc(i).collection("messages").add({imageURL:t,imagePath:e.ref.fullPath,text:A,createdAt:DR.firestore.FieldValue.serverTimestamp(),userID:u,photoURL:a,username:c})}))})))},children:(0,EN.jsx)(Hj,{})})]})]}),(0,EN.jsxs)("div",{className:"flex h-full w-full flex-col place-content-end overflow-hidden",children:[(0,EN.jsx)("main",{className:"h-full overflow-y-auto scroll-smooth pt-3",ref:g,children:v&&v.map((function(e,t){return(0,EN.jsx)(pU,{message:e,docRef:y[t],CurrentUserID:n.UserData.userID},t)}))}),(0,EN.jsxs)("div",{className:"flex items-center",children:[(0,EN.jsxs)("label",{className:"block cursor-pointer",children:[(0,EN.jsx)(rC,{className:"ml-4 mr-2 text-4xl"}),(0,EN.jsx)("input",{id:"sendImage",className:"hidden",type:"file",accept:"image/*",onChange:function(e){return L(e)}})]}),(0,EN.jsx)("form",{className:"m-2 flex w-full overflow-hidden rounded-[2rem] bg-[rgba(32,36,53,0.85)] p-2 px-4 pb-0 pt-0 shadow-inner drop-shadow-xl",onSubmit:x,children:(0,EN.jsx)(FF,{variant:"standard",className:"h-full w-full",value:k,onChange:function(e){w(e.target.value),N(e.target.value)},InputProps:{endAdornment:(0,EN.jsx)("button",{disabled:S,className:"".concat(S&&"saturate-0"," color5 float-right m-1 rounded-full p-3 text-[2rem] transition"),type:"submit",children:(0,EN.jsx)(Hj,{})})}})})]})]})]})}var yU=DR.firestore();function gU(e){var n=e.userData,r=e.setShowAlert,i=h((0,t.useState)(),2),a=i[0],u=i[1];(0,t.useMemo)((function(){var e=yU.collection("messages").orderBy("createdAt");u(e)}),[yU]),(0,t.useEffect)((function(){}),[a]);var c=h(DN(a),4),l=c[0],f=(c[1],c[2],c[3]),d=[];null===f||void 0===f||f.forEach((function(e){d.push(e.ref)}));var p=h((0,t.useState)(""),2),v=p[0],m=p[1],y=(0,t.useRef)("");(0,t.useEffect)((function(){y.current.scrollHeight>y.current.offsetHeight&&(y.current.scrollTop=y.current.scrollHeight-y.current.offsetHeight)}),[l]);var g=function(){var e=s(o().mark((function e(t){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yU.collection("messages"),t.preventDefault(),!(v.length>0)){e.next=9;break}return i=bN.currentUser,a=i.uid,u=i.photoURL,s=n.username,c=n.userID,e.next=8,r.add({text:v,createdAt:DR.firestore.FieldValue.serverTimestamp(),uid:a,photoURL:u,username:s,userID:c});case 8:m("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=h((0,t.useState)(!0),2),k=b[0],w=b[1];return(0,t.useEffect)((function(){if(0===v.length)w(!0);else if(w(!1),v.length>1e3){r({severity:"warning",setOpen:!0,title:"Mensagem muito longa",message:"N\xfamero m\xe1ximo de 1000 caracteres excedido"}),w(!0)}else w(!1)}),[v]),(0,EN.jsxs)("div",{className:"flex flex-col place-content-end h-full w-full overflow-hidden",children:[(0,EN.jsx)("main",{className:"h-full overflow-auto overflow-x-hidden scroll-smooth pt-3",ref:y,children:l&&l.map((function(e,t){return(0,EN.jsx)(pU,{message:e,docRef:d[t]},t)}))}),(0,EN.jsx)("form",{className:"flex m-2 p-2 px-4 pt-0  drop-shadow-xl shadow-inner rounded-[2rem] overflow-hidden opacity-80 bg-[rgba(32,36,53,0.85)]",onSubmit:g,children:(0,EN.jsx)(FF,{variant:"standard",className:"w-full h-full",value:v,onChange:function(e){return m(e.target.value)},InputProps:{endAdornment:(0,EN.jsx)("button",{disabled:k,className:"".concat(k&&"saturate-0"," transition rounded-full text-[2rem] p-3 m-1 float-right color5"),type:"submit",children:(0,EN.jsx)(Hj,{})})}})})]})}function bU(e){var n=e.setShowAlert,r=e.userData,i=e.userChat;return(0,t.useMemo)((function(){return null==i?(0,EN.jsx)(gU,{setShowAlert:n,userData:r}):(0,EN.jsx)(mU,{setShowAlert:n,userChat:i})}),[i])}var kU=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function wU(e,t,n){var r,i=function(e,t,n){var r,i=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=wL(t);if(t.fakeTransform)r=t.fakeTransform;else{var u=o.getComputedStyle(t);r=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}var s=0,c=0;if(r&&"none"!==r&&"string"===typeof r){var l=r.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),c=parseInt(l[5],10)}return"left"===e?"translateX(".concat(a?a.right+s-i.left:o.innerWidth+s-i.left,"px)"):"right"===e?"translateX(-".concat(a?i.right-a.left-s:i.left+i.width-s,"px)"):"up"===e?"translateY(".concat(a?a.bottom+c-i.top:o.innerHeight+c-i.top,"px)"):"translateY(-".concat(a?i.top-a.top+i.height-c:i.top+i.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}var xU=t.forwardRef((function(e,n){var r=CP(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=e.addEndListener,u=e.appear,s=void 0===u||u,c=e.children,l=e.container,f=e.direction,d=void 0===f?"down":f,h=e.easing,p=void 0===h?i:h,v=e.in,m=e.onEnter,y=e.onEntered,g=e.onEntering,b=e.onExit,k=e.onExited,w=e.onExiting,x=e.style,E=e.timeout,S=void 0===E?a:E,_=e.TransitionComponent,I=void 0===_?TP:_,T=Be(e,kU),C=t.useRef(null),R=NP(c.ref,C,n),A=function(e){return function(t){e&&(void 0===t?e(C.current):e(C.current,t))}},N=A((function(e,t){wU(d,e,l),RP(e),m&&m(e,t)})),D=A((function(e,t){var n=AP({timeout:S,style:x,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",ye({},n)),e.style.transition=r.transitions.create("transform",ye({},n)),e.style.webkitTransform="none",e.style.transform="none",g&&g(e,t)})),P=A(y),O=A(w),M=A((function(e){var t=AP({timeout:S,style:x,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),wU(d,e,l),b&&b(e)})),L=A((function(e){e.style.webkitTransition="",e.style.transition="",k&&k(e)})),F=t.useCallback((function(){C.current&&wU(d,C.current,l)}),[d,l]);return t.useEffect((function(){if(!v&&"down"!==d&&"right"!==d){var e=kL((function(){C.current&&wU(d,C.current,l)})),t=wL(C.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[d,v,l]),t.useEffect((function(){v||F()}),[v,F]),(0,EN.jsx)(I,ye({nodeRef:C,onEnter:N,onEntered:P,onEntering:D,onExit:M,onExited:L,onExiting:O,addEndListener:function(e){o&&o(C.current,e)},appear:s,in:v,timeout:S},T,{children:function(e,n){return t.cloneElement(c,ye({ref:R,style:ye({visibility:"exited"!==e||v?void 0:"hidden"},x,c.props.style)},n))}}))})),EU=xU,SU=aP(),_U=["component","direction","spacing","divider","children","className"],IU=$t(),TU=SU("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function CU(e){return vP({props:e,name:"MuiStack",defaultTheme:IU})}function RU(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var AU=function(e){var t=e.ownerState,n=e.theme,r=ye({display:"flex",flexDirection:"column"},Je({theme:n},tt({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=vt(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),o=tt({values:t.direction,base:a}),u=tt({values:t.spacing,base:a});"object"===typeof o&&Object.keys(o).forEach((function(e,t,n){if(!o[e]){var r=t>0?o[n[t-1]]:"column";o[e]=r}}));r=We(r,Je({theme:n},u,(function(e,n){return{"& > :not(style) + :not(style)":He({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),mt(i,e))};var r})))}return r=function(e){for(var t=Ze(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=[t].concat(r).reduce((function(e,t){return We(e,t)}),{});return et(Object.keys(t),a)}(n.breakpoints,r),r};var NU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,r=void 0===n?TU:n,i=e.useThemeProps,a=void 0===i?CU:i,o=e.componentName,u=void 0===o?"MuiStack":o,s=r(AU),c=t.forwardRef((function(e,t){var n=lO(a(e)),r=n.component,i=void 0===r?"div":r,o=n.direction,c=void 0===o?"column":o,l=n.spacing,f=void 0===l?0:l,d=n.divider,h=n.children,p=n.className,v=Be(n,_U),m={direction:c,spacing:f},y=KN({root:["root"]},(function(e){return bD(u,e)}),{});return(0,EN.jsx)(s,ye({as:i,ownerState:m,ref:t,className:WN(y.root,p)},v,{children:d?RU(h,d):h}))}));return c}({createStyledComponent:cP("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return mP({props:e,name:"MuiStack"})}}),DU=NU;function PU(e){return e.substring(2).toLowerCase()}var OU=function(e){var n=e.children,r=e.disableReactTree,i=void 0!==r&&r,a=e.mouseEvent,o=void 0===a?"onClick":a,u=e.onClickAway,s=e.touchEvent,c=void 0===s?"onTouchEnd":s,l=t.useRef(!1),f=t.useRef(null),d=t.useRef(!1),h=t.useRef(!1);t.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var p=$N(n.ref,f),v=eD((function(e){var t=h.current;h.current=!1;var n=JN(f.current);!d.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(l.current?l.current=!1:(e.composedPath?e.composedPath().indexOf(f.current)>-1:!n.documentElement.contains(e.target)||f.current.contains(e.target))||!i&&t||u(e))})),m=function(e){return function(t){h.current=!0;var r=n.props[e];r&&r(t)}},y={ref:p};return!1!==c&&(y[c]=m(c)),t.useEffect((function(){if(!1!==c){var e=PU(c),t=JN(f.current),n=function(){l.current=!0};return t.addEventListener(e,v),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,v),t.removeEventListener("touchmove",n)}}}),[v,c]),!1!==o&&(y[o]=m(o)),t.useEffect((function(){if(!1!==o){var e=PU(o),t=JN(f.current);return t.addEventListener(e,v),function(){t.removeEventListener(e,v)}}}),[v,o]),(0,EN.jsx)(t.Fragment,{children:t.cloneElement(n,y)})};function MU(e){return bD("MuiSnackbarContent",e)}kD("MuiSnackbarContent",["root","message","action"]);var LU=["action","className","message","role"],FU=cP($P,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return nn(e)>.5?an(e,t):on(e,t)}(t.palette.background.default,n);return ye({},t.typography.body2,He({color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),jU=cP("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),UU=cP("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),BU=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiSnackbarContent"}),r=n.action,i=n.className,a=n.message,o=n.role,u=void 0===o?"alert":o,s=Be(n,LU),c=n,l=function(e){return KN({root:["root"],action:["action"],message:["message"]},MU,e.classes)}(c);return(0,EN.jsxs)(FU,ye({role:u,square:!0,elevation:6,className:WN(l.root,i),ownerState:c,ref:t},s,{children:[(0,EN.jsx)(jU,{className:l.message,ownerState:c,children:a}),r?(0,EN.jsx)(UU,{className:l.action,ownerState:c,children:r}):null]}))})),VU=BU;function zU(e){return bD("MuiSnackbar",e)}kD("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var qU=["onEnter","onExited"],WU=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],KU=cP("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["anchorOrigin".concat(XN(n.anchorOrigin.vertical)).concat(XN(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},He({},t.breakpoints.up("sm"),ye({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})))})),HU=t.forwardRef((function(e,n){var r=mP({props:e,name:"MuiSnackbar"}),i=CP(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r.action,u=r.anchorOrigin,s=void 0===u?{vertical:"bottom",horizontal:"left"}:u,c=s.vertical,l=s.horizontal,f=r.autoHideDuration,d=void 0===f?null:f,p=r.children,v=r.className,m=r.ClickAwayListenerProps,y=r.ContentProps,g=r.disableWindowBlurListener,b=void 0!==g&&g,k=r.message,w=r.open,x=r.TransitionComponent,E=void 0===x?TL:x,S=r.transitionDuration,_=void 0===S?a:S,I=r.TransitionProps,T=void 0===I?{}:I,C=T.onEnter,R=T.onExited,A=Be(r.TransitionProps,qU),N=Be(r,WU),D=ye({},r,{anchorOrigin:{vertical:c,horizontal:l},autoHideDuration:d,disableWindowBlurListener:b,TransitionComponent:E,transitionDuration:_}),P=function(e){var t=e.classes,n=e.anchorOrigin;return KN({root:["root","anchorOrigin".concat(XN(n.vertical)).concat(XN(n.horizontal))]},zU,t)}(D),O=function(e){var n=e.autoHideDuration,r=void 0===n?null:n,i=e.disableWindowBlurListener,a=void 0!==i&&i,o=e.onClose,u=e.open,s=e.ref,c=e.resumeHideDuration,l=t.useRef();t.useEffect((function(){if(u)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[u,o]);var f=eD((function(e,t){null==o||o(e,t)})),d=eD((function(e){o&&null!=e&&(clearTimeout(l.current),l.current=setTimeout((function(){f(null,"timeout")}),e))}));t.useEffect((function(){return u&&d(r),function(){clearTimeout(l.current)}}),[u,r,d]);var h=function(){clearTimeout(l.current)},p=t.useCallback((function(){null!=r&&d(null!=c?c:.5*r)}),[r,c,d]),v=function(e){return function(t){var n=e.onBlur;null==n||n(t),p()}},m=function(e){return function(t){var n=e.onFocus;null==n||n(t),h()}},y=function(e){return function(t){var n=e.onMouseEnter;null==n||n(t),h()}},g=function(e){return function(t){var n=e.onMouseLeave;null==n||n(t),p()}};return t.useEffect((function(){if(!a&&u)return window.addEventListener("focus",p),window.addEventListener("blur",h),function(){window.removeEventListener("focus",p),window.removeEventListener("blur",h)}}),[a,p,u]),{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=ye({},ED(e),t);return ye({ref:s,role:"presentation"},n,{onBlur:v(n),onFocus:m(n),onMouseEnter:y(n),onMouseLeave:g(n)})},onClickAway:function(e){null==o||o(e,"clickaway")}}}(ye({},D,{ref:n})),M=O.getRootProps,L=O.onClickAway,F=h(t.useState(!0),2),j=F[0],U=F[1],B=TD({elementType:KU,getSlotProps:M,externalForwardedProps:N,ownerState:D,className:[P.root,v]});return!w&&j?null:(0,EN.jsx)(OU,ye({onClickAway:L},m,{children:(0,EN.jsx)(KU,ye({},B,{children:(0,EN.jsx)(E,ye({appear:!0,in:w,timeout:_,direction:"top"===c?"down":"up",onEnter:function(e,t){U(!1),C&&C(e,t)},onExited:function(e){U(!0),R&&R(e)}},A,{children:p||(0,EN.jsx)(VU,ye({message:k,action:o},y))}))}))}))})),GU=HU;function QU(e){return bD("MuiAlert",e)}var XU=kD("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function YU(e){return bD("MuiIconButton",e)}var $U=kD("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),JU=["edge","children","className","color","disabled","disableFocusRipple","size"],ZU=cP(Aj,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(XN(n.color))],n.edge&&t["edge".concat(XN(n.edge))],t["size".concat(XN(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):rn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return ye({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&ye({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":ye({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):rn(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},He({},"&.".concat($U.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),eB=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,d=void 0!==f&&f,h=n.size,p=void 0===h?"medium":h,v=Be(n,JU),m=ye({},n,{edge:i,color:s,disabled:l,disableFocusRipple:d,size:p}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return KN({root:["root",n&&"disabled","default"!==r&&"color".concat(XN(r)),i&&"edge".concat(XN(i)),"size".concat(XN(a))]},YU,t)}(m);return(0,EN.jsx)(ZU,ye({className:WN(y.root,o),centerRipple:!0,focusRipple:!d,disabled:l,ref:t,ownerState:m},v,{children:a}))})),tB=eB,nB=wF((0,EN.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),rB=wF((0,EN.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),iB=wF((0,EN.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),aB=wF((0,EN.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),oB=wF((0,EN.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),uB=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],sB=cP($P,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(XN(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?an:on,i="light"===t.palette.mode?on:an,a=n.color||n.severity;return ye({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&He({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:i(t.palette[a].light,.9)},"& .".concat(XU.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"outlined"===n.variant&&He({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light)},"& .".concat(XU.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"filled"===n.variant&&ye({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))})),cB=cP("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),lB=cP("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),fB=cP("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),dB={success:(0,EN.jsx)(nB,{fontSize:"inherit"}),warning:(0,EN.jsx)(rB,{fontSize:"inherit"}),error:(0,EN.jsx)(iB,{fontSize:"inherit"}),info:(0,EN.jsx)(aB,{fontSize:"inherit"})},hB=t.forwardRef((function(e,t){var n,r,i,a,o,u,s=mP({props:e,name:"MuiAlert"}),c=s.action,l=s.children,f=s.className,d=s.closeText,h=void 0===d?"Close":d,p=s.color,v=s.components,m=void 0===v?{}:v,y=s.componentsProps,g=void 0===y?{}:y,b=s.icon,k=s.iconMapping,w=void 0===k?dB:k,x=s.onClose,E=s.role,S=void 0===E?"alert":E,_=s.severity,I=void 0===_?"success":_,T=s.slotProps,C=void 0===T?{}:T,R=s.slots,A=void 0===R?{}:R,N=s.variant,D=void 0===N?"standard":N,P=Be(s,uB),O=ye({},s,{color:p,severity:I,variant:D}),M=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes;return KN({root:["root","".concat(t).concat(XN(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},QU,i)}(O),L=null!=(n=null!=(r=A.closeButton)?r:m.CloseButton)?n:tB,F=null!=(i=null!=(a=A.closeIcon)?a:m.CloseIcon)?i:oB,j=null!=(o=C.closeButton)?o:g.closeButton,U=null!=(u=C.closeIcon)?u:g.closeIcon;return(0,EN.jsxs)(sB,ye({role:S,elevation:0,ownerState:O,className:WN(M.root,f),ref:t},P,{children:[!1!==b?(0,EN.jsx)(cB,{ownerState:O,className:M.icon,children:b||w[I]||dB[I]}):null,(0,EN.jsx)(lB,{ownerState:O,className:M.message,children:l}),null!=c?(0,EN.jsx)(fB,{ownerState:O,className:M.action,children:c}):null,null==c&&x?(0,EN.jsx)(fB,{ownerState:O,className:M.action,children:(0,EN.jsx)(L,ye({size:"small","aria-label":h,title:h,color:"inherit",onClick:x},j,{children:(0,EN.jsx)(F,ye({fontSize:"small"},U))}))}):null]}))})),pB=hB;function vB(e){return bD("MuiAlertTitle",e)}kD("MuiAlertTitle",["root"]);var mB=["className"],yB=cP(yO,{name:"MuiAlertTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{fontWeight:e.theme.typography.fontWeightMedium,marginTop:-2}})),gB=t.forwardRef((function(e,t){var n=mP({props:e,name:"MuiAlertTitle"}),r=n.className,i=Be(n,mB),a=n,o=function(e){return KN({root:["root"]},vB,e.classes)}(a);return(0,EN.jsx)(yB,ye({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:WN(o.root,r)},i))})),bB=gB;function kB(e){var n=e.showAlert,r=h((0,t.useState)(!1),2),i=r[0],a=r[1];(0,t.useEffect)((function(){a(n.setOpen)}),[n]);var o=function(e,t){"clickaway"!==t&&a(!1)};return(0,EN.jsx)(DU,{spacing:2,sx:{width:"100%",display:"".concat(i?"block":"none")},children:(0,EN.jsx)(GU,{open:i,autoHideDuration:5e3,onClose:o,TransitionComponent:function(e){return(0,EN.jsx)(EU,Hr(Hr({},e),{},{direction:"right"}))},children:(0,EN.jsxs)(pB,{severity:n.severity,onClose:o,children:[" ",(0,EN.jsx)(bB,{children:n.title})," ",n.message," "]})})})}function wB(e){var n=e.userData,r=h(QT(bN),1)[0],i=h((0,t.useState)(null),2),a=i[0],o=i[1],u=h((0,t.useState)(),2),s=u[0],c=u[1],l=h((0,t.useState)(!1),2),f=l[0],d=l[1],p=function(){return d(!f)};if(window.innerWidth<640){var v=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(v,"px"))}return(0,EN.jsxs)("div",{className:"container max-w-full",children:[!0===(null===s||void 0===s?void 0:s.setOpen)&&(0,EN.jsx)(kB,{showAlert:s}),(0,EN.jsxs)("div",{className:"grid h-full w-full grid-cols-12 grid-rows-6 overflow-hidden text-white opacity-[0.85] shadow-inner brightness-110 drop-shadow-2xl",children:[(0,EN.jsxs)("div",{className:"fixed z-20 md:block ".concat(f?"sidebarOut left-[-100%]":"sidebar left-[0]"," col-span-3 row-span-full h-full w-3/5 md:relative md:w-auto"),children:[(0,EN.jsx)("div",{className:"fixed left-[0] z-20 p-2 text-[2.5rem] md:hidden",children:f?(0,EN.jsx)(nC,{onClick:p}):(0,EN.jsx)(aC,{onClick:p})}),(0,EN.jsxs)("header",{className:"color2 col-span-3 row-span-1 flex justify-end gap-8 overflow-hidden p-4 drop-shadow-xl md:justify-between",children:[(0,EN.jsx)("img",{className:"h-10 w-auto rounded-full md:h-12",src:n.photoURL,alt:"Imagem de perfil",referrerPolicy:"no-referrer"}),(0,EN.jsx)(Wj,{})]}),(0,EN.jsx)("div",{className:"color3 col-span-3 row-start-2 row-end-6 h-full overflow-y-auto drop-shadow-xl",children:(0,t.useMemo)((function(){return n?(0,EN.jsx)(zj,{setShowAlert:c,setUserChat:o,userChat:a,UserData:n}):(0,EN.jsx)(SN,{})}),[a])})]}),(0,EN.jsxs)("section",{onClick:function(){return!f&&d(!0)},className:"Chat col-span-full row-span-6 inline-flex flex-col overflow-hidden md:col-span-9",children:[(0,EN.jsx)(qj,{userChat:a}),(0,t.useMemo)((function(){return r?(0,EN.jsx)(bU,{setShowAlert:c,userData:n,userChat:a}):(0,EN.jsx)(SN,{})}),[r,a])]})]})]})}var xB,EB=n.p+"static/media/logo.089016cdf846c72a6e4e.png";function SB(){return(0,EN.jsx)("div",{className:"SignIn grid h-screen place-items-center",children:(0,EN.jsx)("div",{className:"h-auto w-[95%] overflow-hidden rounded-3xl text-white shadow-inner drop-shadow-2xl md:w-[600px]",children:(0,EN.jsxs)("div",{className:"flex flex-col items-center rounded-b-3xl bg-[#33384e] bg-opacity-75 px-5 pb-14 md:px-20",children:[(0,EN.jsx)("img",{src:EB,alt:"FireChat Logo",className:"mx-auto h-auto w-[75%] translate-y-10 brightness-110 saturate-150",referrerPolicy:"no-referrer"}),(0,EN.jsx)("label",{className:"mb-2 text-xl md:text-3xl",children:"Seja bem-vindo ao"}),(0,EN.jsx)("label",{className:"text-3xl md:text-5xl",children:"FireChat"}),(0,EN.jsx)("label",{className:"mt-1 text-[0.5rem] opacity-40",children:"Firebase + Chat :P"}),(0,EN.jsx)("label",{className:"mt-10",children:"Fa\xe7a login para continuar"}),(0,EN.jsxs)("button",{className:"mt-4 flex w-full items-center rounded-lg bg-gradient-to-r from-[#992c4b] to-[#a13c81] text-black shadow-2xl transition hover:brightness-125",onClick:function(){bN.signInWithPopup(kN)},children:[(0,EN.jsx)(UN,{className:"m-2 text-[3rem] text-white"}),(0,EN.jsx)("label",{className:"mx-auto cursor-pointer text-lg font-semibold text-white",children:"Sign in with Google"})]})]})})})}function _B(){return _B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_B.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(xB||(xB={}));var IB,TB="popstate";function CB(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function RB(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function AB(e,t){return{usr:e.state,key:e.key,idx:t}}function NB(e,t,n,r){return void 0===n&&(n=null),_B({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?PB(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function DB(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function PB(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function OB(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=xB.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){l=xB.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:DB(e);return CB(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(_B({},c.state,{idx:d}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(TB,p),f=e,function(){o.removeEventListener(TB,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=xB.Push;var r=NB(m.location,e,t);n&&n(r,e);var i=AB(r,d=h()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=xB.Replace;var r=NB(m.location,e,t);n&&n(r,e);var i=AB(r,d=h()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(IB||(IB={}));var MB=new Set(["lazy","caseSensitive","path","id","index","children"]);function LB(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(Yn(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(CB(!0!==e.index||!e.children,"Cannot specify children on an index route"),CB(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var u=_B({},e,{hasErrorBoundary:t(e),id:o});return r[o]=u,u}var s=_B({},e,{id:o,hasErrorBoundary:t(e),children:void 0});return r[o]=s,e.children&&(s.children=LB(e.children,t,a,r)),s}))}function FB(e,t,n){void 0===n&&(n="/");var r=$B(("string"===typeof t?PB(t):t).pathname||"/",n);if(null==r)return null;var i=jB(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=QB(i[o],YB(r));return a}function jB(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(CB(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=tV([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(CB(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),jB(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:GB(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Kn(UB(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function UB(e){var t=e.split("/");if(0===t.length)return[];var n=PR(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=UB(i.join("/")),s=[];return s.push.apply(s,Yn(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Yn(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var BB=/^:\w+$/,VB=3,zB=2,qB=1,WB=10,KB=-2,HB=function(e){return"*"===e};function GB(e,t){var n=e.split("/"),r=n.length;return n.some(HB)&&(r+=KB),t&&(r+=zB),n.filter((function(e){return!HB(e)})).reduce((function(e,t){return e+(BB.test(t)?VB:""===t?qB:WB)}),r)}function QB(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=XB({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:tV([i,l.pathname]),pathnameBase:nV(tV([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=tV([i,l.pathnameBase]))}return a}function XB(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);RB("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return RB(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function YB(e){try{return decodeURI(e)}catch(t){return RB(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function JB(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ZB(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function eV(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=PB(e):(CB(!(i=_B({},e)).pathname||!i.pathname.includes("?"),JB("?","pathname","search",i)),CB(!i.pathname||!i.pathname.includes("#"),JB("#","pathname","hash",i)),CB(!i.search||!i.search.includes("#"),JB("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?PB(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:rV(a),hash:iV(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var tV=function(e){return e.join("/").replace(/\/\/+/g,"/")},nV=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},rV=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},iV=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},aV=function(e){Hn(n,e);var t=Qn(n);function n(){return $n(this,n),t.apply(this,arguments)}return Zn(n)}(Wn(Error)),oV=function(){function e(t,n){var r,i=this;$n(this,e),this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],CB(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return r=t})),this.controller=new AbortController;var a=function(){return r(new aV("Deferred data aborted"))};this.unlistenAbortSignal=function(){return i.controller.signal.removeEventListener("abort",a)},this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((function(e,t){var n=h(t,2),r=n[0],a=n[1];return Object.assign(e,He({},r,i.trackPromise(r,a)))}),{}),this.done&&this.unlistenAbortSignal(),this.init=n}return Zn(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){return this.controller.signal.aborted&&n instanceof aV?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:function(){return n}}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),this.emit(!1,t),r))}},{key:"emit",value:function(e,t){this.subscribers.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeysSet.forEach((function(t,n){return e.pendingKeysSet.delete(n)})),this.emit(!0)}},{key:"resolveData",value:function(){var e=s(o().mark((function e(t){var n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return i.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){i.subscribe((function(n){t.removeEventListener("abort",r),(n||i.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeysSet.size}},{key:"unwrappedData",get:function(){return CB(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return Object.assign(e,He({},r,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(i)))}),{})}},{key:"pendingKeys",get:function(){return Array.from(this.pendingKeysSet)}}]),e}();var uV=Zn((function e(t,n,r,i){$n(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function sV(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var cV=["post","put","patch","delete"],lV=new Set(cV),fV=["get"].concat(cV),dV=new Set(fV),hV=new Set([301,302,303,307,308]),pV=new Set([307,308]),vV={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},mV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},yV={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bV="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,kV=!bV,wV=function(e){return Boolean(e.hasErrorBoundary)};function xV(e){CB(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t,n=e.detectErrorBoundary||wV,r={},i=LB(e.routes,n,void 0,r),a=null,u=new Set,c=null,l=null,f=null,d=null!=e.hydrationData,p=FB(i,e.history.location,e.basename),v=null;if(null==p){var m=UV(404,{pathname:e.history.location.pathname}),y=jV(i);p=y.matches,v=He({},y.route.id,m)}var g,b,k=!p.some((function(e){return e.route.lazy}))&&(!p.some((function(e){return e.route.loader}))||null!=e.hydrationData),w={historyAction:e.history.action,location:e.history.location,matches:p,initialized:k,navigation:vV,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=xB.Pop,E=!1,S=!1,_=!1,I=[],T=[],C=new Map,R=0,A=-1,N=new Map,D=new Set,P=new Map,O=new Map,M=new Map,L=!1;function F(e){w=_B({},w,e),u.forEach((function(e){return e(w)}))}function j(n,r){var a,o,u,s=null!=w.actionData&&null!=w.navigation.formMethod&&QV(w.navigation.formMethod)&&"loading"===w.navigation.state&&!0!==(null==(a=n.state)?void 0:a._isRedirect);u=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:s?w.actionData:null;var c,l=r.loaderData?LV(w.loaderData,r.loaderData,r.matches||[],r.errors):w.loaderData,f=Kn(M);try{for(f.s();!(c=f.n()).done;){ue(h(c.value,1)[0])}}catch(p){f.e(p)}finally{f.f()}var d=!0===E||null!=w.navigation.formMethod&&QV(w.navigation.formMethod)&&!0!==(null==(o=n.state)?void 0:o._isRedirect);t&&(i=t,t=void 0),F(_B({},r,{actionData:u,loaderData:l,historyAction:x,location:n,initialized:!0,navigation:vV,revalidation:"idle",restoreScrollPosition:de(n,r.matches||w.matches),preventScrollReset:d,blockers:new Map(w.blockers)})),S||x===xB.Pop||(x===xB.Push?e.history.push(n,n.state):x===xB.Replace&&e.history.replace(n,n.state)),x=xB.Pop,E=!1,S=!1,_=!1,I=[],T=[]}function U(e,t){return B.apply(this,arguments)}function B(){return B=s(o().mark((function t(n,r){var i,a,u,s,c,l,f,d,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=EV(n,r),a=i.path,u=i.submission,s=i.error,c=w.location,l=_B({},l=NB(w.location,a,r&&r.state),e.history.encodeLocation(l)),f=r&&null!=r.replace?r.replace:void 0,d=xB.Push,!0===f?d=xB.Replace:!1===f||null!=u&&QV(u.formMethod)&&u.formAction===w.location.pathname+w.location.search&&(d=xB.Replace),h=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(p=ce({currentLocation:c,nextLocation:l,historyAction:d}))){t.next=15;break}return se(p,{state:"blocked",location:l,proceed:function(){se(p,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),U(n,r)},reset:function(){ue(p),F({blockers:new Map(w.blockers)})}}),t.abrupt("return");case 15:return t.next=17,V(d,l,{submission:u,pendingError:s,preventScrollReset:h,replace:r&&r.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function V(e,t,n){return z.apply(this,arguments)}function z(){return z=s(o().mark((function n(r,a,u){var s,c,l,f,d,h,p,v,m,y,g,k,_,I,T,C;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b&&b.abort(),b=null,x=r,S=!0===(u&&u.startUninterruptedRevalidation),fe(w.location,w.matches),E=!0===(u&&u.preventScrollReset),s=t||i,c=u&&u.overrideNavigation,l=FB(s,a,e.basename)){n.next=15;break}return f=UV(404,{pathname:a.pathname}),d=jV(s),h=d.matches,p=d.route,le(),j(a,{matches:h,loaderData:{},errors:He({},p.id,f)}),n.abrupt("return");case 15:if(!zV(w.location,a)||u&&u.submission&&QV(u.submission.formMethod)){n.next=18;break}return j(a,{matches:l}),n.abrupt("return");case 18:if(b=new AbortController,v=DV(e.history,a,b.signal,u&&u.submission),!u||!u.pendingError){n.next=24;break}y=He({},FV(l).route.id,u.pendingError),n.next=35;break;case 24:if(!(u&&u.submission&&QV(u.submission.formMethod))){n.next=35;break}return n.next=27,q(v,a,u.submission,l,{replace:u.replace});case 27:if(!(g=n.sent).shortCircuited){n.next=30;break}return n.abrupt("return");case 30:m=g.pendingActionData,y=g.pendingActionError,k=_B({state:"loading",location:a},u.submission),c=k,v=new Request(v.url,{signal:v.signal});case 35:return n.next=37,K(v,a,l,c,u&&u.submission,u&&u.replace,m,y);case 37:if(_=n.sent,I=_.shortCircuited,T=_.loaderData,C=_.errors,!I){n.next=43;break}return n.abrupt("return");case 43:b=null,j(a,_B({matches:l},m?{actionData:m}:{},{loaderData:T,errors:C}));case 45:case"end":return n.stop()}}),n)}))),z.apply(this,arguments)}function q(e,t,n,r,i){return W.apply(this,arguments)}function W(){return W=s(o().mark((function e(t,i,a,u,s){var c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(),F({navigation:_B({state:"submitting",location:i},a)}),(l=tz(u,i)).route.action||l.route.lazy){e.next=8;break}c={type:IB.error,error:UV(405,{method:t.method,pathname:i.pathname,routeId:l.route.id})},e.next=13;break;case 8:return e.next=10,AV("action",t,l,u,r,n,g.basename);case 10:if(c=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!KV(c)){e.next=18;break}return f=s&&null!=s.replace?s.replace:c.location===w.location.pathname+w.location.search,e.next=17,Y(w,c,{submission:a,replace:f});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!WV(c)){e.next=22;break}return d=FV(u,l.route.id),!0!==(s&&s.replace)&&(x=xB.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:He({},d.route.id,c.error)});case 22:if(!qV(c)){e.next=24;break}throw UV(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:He({},l.route.id,c.data)});case 25:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function K(e,t,n,r,i,a,o,u){return H.apply(this,arguments)}function H(){return H=s(o().mark((function n(r,a,u,s,c,l,f,d){var p,v,m,y,g,k,x,E,N,D,M,L,U,B,V,z,q,W;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((p=s)||(v=_B({state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c),p=v),m=c||(p.formMethod&&p.formAction&&p.formData&&p.formEncType?{formMethod:p.formMethod,formAction:p.formAction,formData:p.formData,formEncType:p.formEncType}:void 0),y=t||i,g=_V(e.history,w,u,m,a,_,I,T,P,y,e.basename,f,d),k=h(g,2),x=k[0],E=k[1],le((function(e){return!(u&&u.some((function(t){return t.route.id===e})))||x&&x.some((function(t){return t.route.id===e}))})),0!==x.length||0!==E.length){n.next=9;break}return j(a,_B({matches:u,loaderData:{},errors:d||null},f?{actionData:f}:{})),n.abrupt("return",{shortCircuited:!0});case 9:return S||(E.forEach((function(e){var t=w.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(e.key,n)})),N=f||w.actionData,F(_B({navigation:p},N?0===Object.keys(N).length?{actionData:null}:{actionData:N}:{},E.length>0?{fetchers:new Map(w.fetchers)}:{}))),A=++R,E.forEach((function(e){return C.set(e.key,b)})),n.next=14,J(w.matches,u,x,E,r);case 14:if(D=n.sent,M=D.results,L=D.loaderResults,U=D.fetcherResults,!r.signal.aborted){n.next=20;break}return n.abrupt("return",{shortCircuited:!0});case 20:if(E.forEach((function(e){return C.delete(e.key)})),!(B=BV(M))){n.next=26;break}return n.next=25,Y(w,B,{replace:l});case 25:return n.abrupt("return",{shortCircuited:!0});case 26:return V=MV(w,u,x,L,d,E,U,O),z=V.loaderData,q=V.errors,O.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&O.delete(t)}))})),ae(),W=oe(A),n.abrupt("return",_B({loaderData:z,errors:q},W||E.length>0?{fetchers:new Map(w.fetchers)}:{}));case 31:case"end":return n.stop()}}),n)}))),H.apply(this,arguments)}function G(e){return w.fetchers.get(e)||mV}function Q(){return Q=s(o().mark((function a(u,s,c,l,f,d){var p,v,m,y,k,E,S,M,L,U,B,V,z,q,W,K,H,G,Q,X,$,Z,ne,re,ie,ae,ue;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(ee(),P.delete(u),l.route.action||l.route.lazy){a.next=6;break}return p=UV(405,{method:d.formMethod,pathname:c,routeId:s}),te(u,s,p),a.abrupt("return");case 6:return v=w.fetchers.get(u),m=_B({state:"submitting"},d,{data:v&&v.data," _hasFetcherDoneAnything ":!0}),w.fetchers.set(u,m),F({fetchers:new Map(w.fetchers)}),y=new AbortController,k=DV(e.history,c,y.signal,d),C.set(u,y),a.next=15,AV("action",k,l,f,r,n,g.basename);case 15:if(E=a.sent,!k.signal.aborted){a.next=19;break}return C.get(u)===y&&C.delete(u),a.abrupt("return");case 19:if(!KV(E)){a.next=26;break}return C.delete(u),D.add(u),S=_B({state:"loading"},d,{data:void 0," _hasFetcherDoneAnything ":!0}),w.fetchers.set(u,S),F({fetchers:new Map(w.fetchers)}),a.abrupt("return",Y(w,E,{isFetchActionRedirect:!0}));case 26:if(!WV(E)){a.next=29;break}return te(u,s,E.error),a.abrupt("return");case 29:if(!qV(E)){a.next=31;break}throw UV(400,{type:"defer-action"});case 31:return M=w.navigation.location||w.location,L=DV(e.history,M,y.signal),U=t||i,CB(B="idle"!==w.navigation.state?FB(U,w.navigation.location,e.basename):w.matches,"Didn't find any matches after fetcher action"),V=++R,N.set(u,V),z=_B({state:"loading",data:E.data},d,{" _hasFetcherDoneAnything ":!0}),w.fetchers.set(u,z),q=_V(e.history,w,B,d,M,_,I,T,P,U,e.basename,He({},l.route.id,E.data),void 0),W=h(q,2),K=W[0],(H=W[1]).filter((function(e){return e.key!==u})).forEach((function(e){var t=e.key,n=w.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(t,r),C.set(t,y)})),F({fetchers:new Map(w.fetchers)}),a.next=45,J(w.matches,B,K,H,L);case 45:if(G=a.sent,Q=G.results,X=G.loaderResults,$=G.fetcherResults,!y.signal.aborted){a.next=51;break}return a.abrupt("return");case 51:if(N.delete(u),C.delete(u),H.forEach((function(e){return C.delete(e.key)})),!(Z=BV(Q))){a.next=57;break}return a.abrupt("return",Y(w,Z));case 57:ne=MV(w,w.matches,K,X,void 0,H,$,O),re=ne.loaderData,ie=ne.errors,ae={state:"idle",data:E.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},w.fetchers.set(u,ae),ue=oe(V),"loading"===w.navigation.state&&V>A?(CB(x,"Expected pending action"),b&&b.abort(),j(w.navigation.location,{matches:B,loaderData:re,errors:ie,fetchers:new Map(w.fetchers)})):(F(_B({errors:ie,loaderData:LV(w.loaderData,re,B,ie)},ue?{fetchers:new Map(w.fetchers)}:{})),_=!1);case 62:case"end":return a.stop()}}),a)}))),Q.apply(this,arguments)}function X(){return X=s(o().mark((function t(i,a,u,s,c,l){var f,d,h,p,v,m,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=w.fetchers.get(i),d=_B({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:f&&f.data," _hasFetcherDoneAnything ":!0}),w.fetchers.set(i,d),F({fetchers:new Map(w.fetchers)}),h=new AbortController,p=DV(e.history,u,h.signal),C.set(i,h),t.next=9,AV("loader",p,s,c,r,n,g.basename);case 9:if(!qV(v=t.sent)){t.next=17;break}return t.next=13,$V(v,p.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=v;case 16:v=t.t0;case 17:if(C.get(i)===h&&C.delete(i),!p.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!KV(v)){t.next=24;break}return t.next=23,Y(w,v);case 23:return t.abrupt("return");case 24:if(!WV(v)){t.next=29;break}return m=FV(w.matches,a),w.fetchers.delete(i),F({fetchers:new Map(w.fetchers),errors:He({},m.route.id,v.error)}),t.abrupt("return");case 29:CB(!qV(v),"Unhandled fetcher deferred data"),y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},w.fetchers.set(i,y),F({fetchers:new Map(w.fetchers)});case 33:case"end":return t.stop()}}),t)}))),X.apply(this,arguments)}function Y(e,t,n){return $.apply(this,arguments)}function $(){return $=s(o().mark((function t(n,r,i){var a,u,s,c,l,f,d,h,p,v,m,y,g,k;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(u=void 0===i?{}:i).submission,c=u.replace,l=u.isFetchActionRedirect,r.revalidate&&(_=!0),CB(f=NB(n.location,r.location,_B({_isRedirect:!0},l?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!gV.test(r.location)||!bV||"undefined"===typeof(null==(a=window)?void 0:a.location)){t.next=10;break}if(d=e.history.createURL(r.location),h=null==$B(d.pathname,e.basename||"/"),window.location.origin===d.origin&&!h){t.next=10;break}return c?window.location.replace(r.location):window.location.assign(r.location),t.abrupt("return");case 10:if(b=null,p=!0===c?xB.Replace:xB.Push,v=n.navigation,m=v.formMethod,y=v.formAction,g=v.formEncType,k=v.formData,!s&&m&&y&&k&&g&&(s={formMethod:m,formAction:y,formEncType:g,formData:k}),!(pV.has(r.status)&&s&&QV(s.formMethod))){t.next=19;break}return t.next=17,V(p,f,{submission:_B({},s,{formAction:r.location}),preventScrollReset:E});case 17:t.next=21;break;case 19:return t.next=21,V(p,f,{overrideNavigation:{state:"loading",location:f,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:E});case 21:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function J(e,t,n,r,i){return Z.apply(this,arguments)}function Z(){return Z=s(o().mark((function t(i,a,u,s,c){var l,f,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(Yn(u.map((function(e){return AV("loader",c,e,a,r,n,g.basename)}))),Yn(s.map((function(t){return t.matches&&t.match?AV("loader",DV(e.history,t.path,c.signal),t.match,t.matches,r,n,g.basename):{type:IB.error,error:UV(404,{pathname:t.path})}})))));case 2:return l=t.sent,f=l.slice(0,u.length),d=l.slice(u.length),t.next=7,Promise.all([XV(i,u,f,c.signal,!1,w.loaderData),XV(i,s.map((function(e){return e.match})),d,c.signal,!0)]);case 7:return t.abrupt("return",{results:l,loaderResults:f,fetcherResults:d});case 8:case"end":return t.stop()}}),t)}))),Z.apply(this,arguments)}function ee(){var e;_=!0,(e=I).push.apply(e,Yn(le())),P.forEach((function(e,t){C.has(t)&&(T.push(t),re(t))}))}function te(e,t,n){var r=FV(w.matches,t);ne(e),F({errors:He({},r.route.id,n),fetchers:new Map(w.fetchers)})}function ne(e){C.has(e)&&re(e),P.delete(e),N.delete(e),D.delete(e),w.fetchers.delete(e)}function re(e){var t=C.get(e);CB(t,"Expected fetch controller: "+e),t.abort(),C.delete(e)}function ie(e){var t,n=Kn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:G(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};w.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function ae(){var e,t=[],n=Kn(D);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=w.fetchers.get(r);CB(i,"Expected fetcher: "+r),"loading"===i.state&&(D.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}ie(t)}function oe(e){var t,n=[],r=Kn(N);try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0];if(i[1]<e){var o=w.fetchers.get(a);CB(o,"Expected fetcher: "+a),"loading"===o.state&&(re(a),N.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return ie(n),n.length>0}function ue(e){w.blockers.delete(e),M.delete(e)}function se(e,t){var n=w.blockers.get(e)||yV;CB("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),w.blockers.set(e,t),F({blockers:new Map(w.blockers)})}function ce(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==M.size){M.size>1&&RB(!1,"A router only supports one blocker at a time");var i=Array.from(M.entries()),a=h(i[i.length-1],2),o=a[0],u=a[1],s=w.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function le(e){var t=[];return O.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),O.delete(r))})),t}function fe(e,t){if(c&&l&&f){var n=t.map((function(e){return ez(e,w.loaderData)})),r=l(e,n)||e.key;c[r]=f()}}function de(e,t){if(c&&l&&f){var n=t.map((function(e){return ez(e,w.loaderData)})),r=l(e,n)||e.key,i=c[r];if("number"===typeof i)return i}return null}return g={get basename(){return e.basename},get state(){return w},get routes(){return i},initialize:function(){if(a=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!L){RB(0===M.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=ce({currentLocation:w.location,nextLocation:r,historyAction:n});return a&&null!=i?(L=!0,e.history.go(-1*i),void se(a,{state:"blocked",location:r,proceed:function(){se(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){ue(a),F({blockers:new Map(g.state.blockers)})}})):V(n,r)}L=!1})),w.initialized)return g;var t=w.matches.filter((function(e){return e.route.lazy}));if(0===t.length)return V(xB.Pop,w.location),g;var i=t.map((function(e){return CV(e.route,n,r)}));return Promise.all(i).then((function(){!w.matches.some((function(e){return e.route.loader}))||null!=e.hydrationData?F({initialized:!0}):V(xB.Pop,w.location)})),g},subscribe:function(e){return u.add(e),function(){return u.delete(e)}},enableScrollRestoration:function(e,t,n){if(c=e,f=t,l=n||function(e){return e.key},!d&&w.navigation===vV){d=!0;var r=de(w.location,w.matches);null!=r&&F({restoreScrollPosition:r})}return function(){c=null,f=null,l=null}},navigate:U,fetch:function(n,r,a,o){if(kV)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(n)&&re(n);var u=FB(t||i,a,e.basename);if(u){var s=EV(a,o,!0),c=s.path,l=s.submission,f=tz(u,c);E=!0===(o&&o.preventScrollReset),l&&QV(l.formMethod)?function(e,t,n,r,i,a){Q.apply(this,arguments)}(n,r,c,f,u,l):(P.set(n,{routeId:r,path:c}),function(e,t,n,r,i,a){X.apply(this,arguments)}(n,r,c,f,u,l))}else te(n,r,UV(404,{pathname:a}))},revalidate:function(){ee(),F({revalidation:"loading"}),"submitting"!==w.navigation.state&&("idle"!==w.navigation.state?V(x||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation}):V(w.historyAction,w.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:G,deleteFetcher:ne,dispose:function(){a&&a(),u.clear(),b&&b.abort(),w.fetchers.forEach((function(e,t){return ne(t)})),w.blockers.forEach((function(e,t){return ue(t)}))},getBlocker:function(e,t){var n=w.blockers.get(e)||yV;return M.get(e)!==t&&M.set(e,t),n},deleteBlocker:ue,_internalFetchControllers:C,_internalActiveDeferreds:O,_internalSetRoutes:function(e){t=e}},g}Symbol("deferred");function EV(e,t,n){void 0===n&&(n=!1);var r,i="string"===typeof e?e:DB(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!GV(t.formMethod))return{path:i,error:UV(405,{method:t.formMethod})};if(t.formData&&QV((r={formMethod:t.formMethod||"get",formAction:VV(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:i,submission:r};var a=PB(i),o=PV(t.formData);return n&&a.search&&ZV(a.search)&&o.append("index",""),a.search="?"+o,{path:DB(a),submission:r}}function SV(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function _V(e,t,n,r,i,a,o,u,s,c,l,f,d){var h=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),m=a||p.toString()===v.toString()||p.search!==v.search,y=d?Object.keys(d)[0]:void 0,g=SV(n,y).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],a=e;return TV(e,_B({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:h,defaultShouldRevalidate:m||IV(i,a)}))})),b=[];return s.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var a=FB(c,e.path,l);if(a){var o=tz(a,e.path);if(u.includes(i))b.push(_B({key:i,matches:a,match:o},e));else TV(o,_B({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:m}))&&b.push(_B({key:i,matches:a,match:o},e))}else b.push(_B({key:i},e,{matches:null,match:null}))}})),[g,b]}function IV(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function TV(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function CV(e,t,n){return RV.apply(this,arguments)}function RV(){return RV=s(o().mark((function e(t,n,r){var i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in CB(a=r[t.id],"No route found in manifest"),u={},i)c=a[s],RB(!(l=void 0!==c&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),l||MB.has(s)||(u[s]=i[s]);Object.assign(a,u),Object.assign(a,{hasErrorBoundary:n(_B({},a)),lazy:void 0});case 13:case"end":return e.stop()}}),e)}))),RV.apply(this,arguments)}function AV(e,t,n,r,i,a,o,u,s,c){return NV.apply(this,arguments)}function NV(){return NV=s(o().mark((function e(t,n,r,i,a,u,s,c,l,f){var d,h,p,v,m,y,g,b,k,w,x,E,S,_,I,T,C,R,A;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s="/"),void 0===c&&(c=!1),void 0===l&&(l=!1),v=function(e){var t,i=new Promise((function(e,n){return t=n}));return p=function(){return t()},n.signal.addEventListener("abort",p),Promise.race([e({request:n,params:r.params,context:f}),i])},e.prev=4,m=r.route[t],!r.route.lazy){e.next=30;break}if(!m){e.next=14;break}return e.next=10,Promise.all([v(m),CV(r.route,u,a)]);case 10:y=e.sent,h=y[0],e.next=28;break;case 14:return e.next=16,CV(r.route,u,a);case 16:if(!(m=r.route[t])){e.next=23;break}return e.next=20,v(m);case 20:h=e.sent,e.next=28;break;case 23:if("action"!==t){e.next=27;break}throw UV(405,{method:n.method,pathname:new URL(n.url).pathname,routeId:r.route.id});case 27:return e.abrupt("return",{type:IB.data,data:void 0});case 28:e.next=34;break;case 30:return CB(m,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=33,v(m);case 33:h=e.sent;case 34:CB(void 0!==h,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(4),d=IB.error,h=e.t0;case 41:return e.prev=41,p&&n.signal.removeEventListener("abort",p),e.finish(41);case 44:if(!HV(h)){e.next=69;break}if(g=h.status,!hV.has(g)){e.next=54;break}if(CB(b=h.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),gV.test(b)?c||(S=new URL(n.url),_=b.startsWith("//")?new URL(S.protocol+b):new URL(b),I=null!=$B(_.pathname,s),_.origin===S.origin&&I&&(b=_.pathname+_.search+_.hash)):(k=i.slice(0,i.indexOf(r)+1),w=ZB(k).map((function(e){return e.pathnameBase})),CB(DB(x=eV(b,w,new URL(n.url).pathname)),"Unable to resolve redirect location: "+b),s&&(E=x.pathname,x.pathname="/"===E?s:tV([s,E])),b=DB(x)),!c){e.next=53;break}throw h.headers.set("Location",b),h;case 53:return e.abrupt("return",{type:IB.redirect,status:g,location:b,revalidate:null!==h.headers.get("X-Remix-Revalidate")});case 54:if(!l){e.next=56;break}throw{type:d||IB.data,response:h};case 56:if(!(C=h.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(C)){e.next=63;break}return e.next=60,h.json();case 60:T=e.sent,e.next=66;break;case 63:return e.next=65,h.text();case 65:T=e.sent;case 66:if(d!==IB.error){e.next=68;break}return e.abrupt("return",{type:d,error:new uV(g,h.statusText,T),headers:h.headers});case 68:return e.abrupt("return",{type:IB.data,data:T,statusCode:h.status,headers:h.headers});case 69:if(d!==IB.error){e.next=71;break}return e.abrupt("return",{type:d,error:h});case 71:if(!(h instanceof oV)){e.next=73;break}return e.abrupt("return",{type:IB.deferred,deferredData:h,statusCode:null==(R=h.init)?void 0:R.status,headers:(null==(A=h.init)?void 0:A.headers)&&new Headers(h.init.headers)});case 73:return e.abrupt("return",{type:IB.data,data:h});case 74:case"end":return e.stop()}}),e,null,[[4,37,41,44]])}))),NV.apply(this,arguments)}function DV(e,t,n,r){var i=e.createURL(VV(t)).toString(),a={signal:n};if(r&&QV(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===u?PV(s):s}return new Request(i,a)}function PV(e){var t,n=new URLSearchParams,r=Kn(e.entries());try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function OV(e,t,n,r,i){var a,o={},u=null,s=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(CB(!KV(n),"Cannot handle redirect results in processLoaderData"),WV(n)){var d=FV(e,f),h=n.error;r&&(h=Object.values(r)[0],r=void 0),null==(u=u||{})[d.route.id]&&(u[d.route.id]=h),o[f]=void 0,s||(s=!0,a=sV(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else qV(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function MV(e,t,n,r,i,a,o,u){for(var s=OV(t,n,r,i,u),c=s.loaderData,l=s.errors,f=0;f<a.length;f++){var d=a[f],h=d.key,p=d.match;CB(void 0!==o&&void 0!==o[f],"Did not find corresponding fetcher result");var v=o[f];if(WV(v)){var m=FV(e.matches,null==p?void 0:p.route.id);l&&l[m.route.id]||(l=_B({},l,He({},m.route.id,v.error))),e.fetchers.delete(h)}else if(KV(v))CB(!1,"Unhandled fetcher revalidation redirect");else if(qV(v))CB(!1,"Unhandled fetcher deferred data");else{var y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,y)}}return{loaderData:c,errors:l}}function LV(e,t,n,r){var i,a=_B({},t),o=Kn(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return a}function FV(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):Yn(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function jV(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function UV(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new uV(e||500,u,new Error(s),!0)}function BV(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(KV(n))return n}}function VV(e){return DB(_B({},"string"===typeof e?PB(e):e,{hash:""}))}function zV(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function qV(e){return e.type===IB.deferred}function WV(e){return e.type===IB.error}function KV(e){return(e&&e.type)===IB.redirect}function HV(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function GV(e){return dV.has(e)}function QV(e){return lV.has(e)}function XV(e,t,n,r,i,a){return YV.apply(this,arguments)}function YV(){return(YV=s(o().mark((function e(t,n,r,i,a,u){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=o().mark((function e(s){var c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(f=t.find((function(e){return e.route.id===l.route.id})),d=null!=f&&!IV(f,l)&&void 0!==(u&&u[l.route.id]),!qV(c)||!a&&!d){e.next=9;break}return e.next=9,$V(c,i,a).then((function(e){e&&(r[s]=e||r[s])}));case 9:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=10;break}return e.delegateYield(s(c),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:c++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $V(e,t,n){return JV.apply(this,arguments)}function JV(){return JV=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:IB.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:IB.error,error:e.t0});case 14:return e.abrupt("return",{type:IB.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),JV.apply(this,arguments)}function ZV(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function ez(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function tz(e,t){var n="string"===typeof t?PB(t).search:t.search;if(e[e.length-1].route.index&&ZV(n||""))return e[e.length-1];var r=ZB(e);return r[r.length-1]}var nz="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},rz=t.useState,iz=t.useEffect,az=t.useLayoutEffect,oz=t.useDebugValue;function uz(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!nz(n,r)}catch(i){return!0}}var sz=!!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){var r=t(),i=h(rz({inst:{value:r,getSnapshot:t}}),2),a=i[0].inst,o=i[1];return az((function(){a.value=r,a.getSnapshot=t,uz(a)&&o({inst:a})}),[e,r,t]),iz((function(){uz(a)&&o({inst:a});return e((function(){uz(a)&&o({inst:a})}))}),[e]),oz(r),r},cz=t.createContext(null);var lz=t.createContext(null);var fz=t.createContext(null);var dz=t.createContext(null);var hz=t.createContext(null);var pz=t.createContext({outlet:null,matches:[]});var vz=t.createContext(null);function mz(){return mz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mz.apply(this,arguments)}function yz(){return null!=t.useContext(hz)}function gz(){return yz()||CB(!1),t.useContext(hz).location}function bz(){yz()||CB(!1);var e=t.useContext(dz),n=e.basename,r=e.navigator,i=t.useContext(pz).matches,a=gz().pathname,o=JSON.stringify(ZB(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=eV(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:tV([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function kz(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(pz).matches,a=gz().pathname,o=JSON.stringify(ZB(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return eV(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function wz(){var e=function(){var e,n=t.useContext(vz),r=Tz(Ez.UseRouteError),i=Cz(Ez.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=sV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var xz,Ez,Sz=function(e){Hn(r,e);var n=Qn(r);function r(e){var t;return $n(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Zn(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(pz.Provider,{value:this.props.routeContext},t.createElement(vz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function _z(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(cz);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(pz.Provider,{value:n},i)}function Iz(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||CB(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(wz,null));var l=n.concat(i.slice(0,u+1)),f=function(){var n=e;return s?n=c:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(_z,{match:o,routeContext:{outlet:e,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?t.createElement(Sz,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Tz(e){var n=t.useContext(lz);return n||CB(!1),n}function Cz(e){var n=function(e){var n=t.useContext(pz);return n||CB(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||CB(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(xz||(xz={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ez||(Ez={}));var Rz;function Az(e){var n=e.fallbackElement,r=e.router,i=t.useCallback((function(){return r.state}),[r]),a=sz(r.subscribe,i,i),o=t.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),u=r.basename||"/",s=t.useMemo((function(){return{router:r,navigator:o,static:!1,basename:u}}),[r,o,u]);return t.createElement(t.Fragment,null,t.createElement(cz.Provider,{value:s},t.createElement(lz.Provider,{value:a},t.createElement(Dz,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:o},r.state.initialized?t.createElement(Pz,null):n))),null)}function Nz(e){CB(!1)}function Dz(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?xB.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;yz()&&CB(!1);var d=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=PB(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,E=p.key,S=void 0===E?"default":E,_=t.useMemo((function(){var e=$B(m,d);return null==e?null:{location:{pathname:e,search:g,hash:k,state:x,key:S},navigationType:s}}),[d,m,g,k,x,S,s]);return null==_?null:t.createElement(dz.Provider,{value:h},t.createElement(hz.Provider,{children:a,value:_}))}function Pz(e){var n=e.children,r=e.location,i=t.useContext(cz);return function(e,n){yz()||CB(!1);var r,i=t.useContext(dz).navigator,a=t.useContext(lz),o=t.useContext(pz).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,gz());if(n){var f,d="string"===typeof n?PB(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||CB(!1),r=d}else r=l;var h=r.pathname||"/",p=FB(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=Iz(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:tV([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:tV([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(hz.Provider,{value:{location:mz({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:xB.Pop}},v):v}(i&&!n?i.router.routes:Mz(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Rz||(Rz={}));var Oz=new Promise((function(){}));t.Component;function Mz(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Nz&&CB(!1),e.props.index&&e.props.children&&CB(!1);var a=[].concat(Yn(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Mz(e.props.children,a)),r.push(o)}else r.push.apply(r,Mz(e.props.children,n))})),r}function Lz(e){return Boolean(e.ErrorBoundary)||Boolean(e.errorElement)}function Fz(e){var n=e.SignInConfirm,r=h(QT(bN),1)[0],i=bz();(0,t.useEffect)((function(){n||r&&i("/")}));var a=h((0,t.useState)(""),2),u=a[0],c=a[1],l=h((0,t.useState)(""),2),f=l[0],d=l[1],p=h((0,t.useState)(!1),2),v=p[0],m=p[1];(0,t.useEffect)((function(){u.length>20||u.length<4||f.length>20||f.length<6?m(!0):m(!1)}),[u,f]);var y=function(){var e=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=bN.currentUser,r=sk(),i=ek(r,"usersDB"),a=Zk(i,tw("userID","==",f)),e.next=7,Cw(a);case 7:if(e.sent.empty){e.next=12;break}alert("ID de Usu\xe1rio j\xe1 em uso!"),e.next=14;break;case 12:return e.next=14,Aw(tk(r,"usersDB",n.uid),{username:u,userID:f,email:n.email,photoURL:n.photoURL}).then((function(){document.location.reload()}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,EN.jsx)("div",{className:"SignInConfirm flex h-screen place-items-center",children:(0,EN.jsxs)("div",{className:"m-auto h-[85%] w-[95%] overflow-hidden rounded-3xl text-white shadow-inner drop-shadow-2xl md:h-[600px] md:w-[600px]",children:[(0,EN.jsx)("header",{className:"color1 p-3",children:(0,EN.jsx)("span",{className:"flex justify-center text-2xl font-medium md:text-3xl",children:"Finalizando Cadastro"})}),(0,EN.jsx)("div",{className:"color4 flex flex-col rounded-b-3xl p-5 py-12 md:p-20",children:(0,EN.jsxs)("form",{className:"flex flex-col",onSubmit:y,children:[(0,EN.jsxs)("div",{className:"mb-7 flex flex-col gap-2",children:[(0,EN.jsx)("span",{className:"text-xl md:text-2xl",children:"Nome de Usu\xe1rio"}),(0,EN.jsx)("span",{className:"text-xs opacity-80",children:"(Nome que aparecer\xe1 para outros usu\xe1rios)"}),(0,EN.jsx)("input",{className:"rounded-xl p-3 text-black outline-none",value:u,placeholder:"Nickname",id:"username",onChange:function(e){return c(e.target.value)}}),(0,EN.jsx)("p",{className:"mb-5 text-xs font-bold md:mb-0 ".concat(u.length>20?"text-red-700":"text-white"),children:"".concat(u.length,"/20")})]}),(0,EN.jsxs)("div",{className:"mb-4 flex flex-col gap-2 md:mb-7",children:[(0,EN.jsx)("span",{className:"text-xl md:text-2xl",children:"Seu ID de Usu\xe1rio"}),(0,EN.jsx)("span",{className:"text-xs opacity-80",children:"(ID que utilizar\xe3o para adicionar-te aos contatos)"}),(0,EN.jsx)("input",{className:"rounded-xl p-3 text-black outline-none",value:f,placeholder:"UserID",id:"userID",onChange:function(e){return d(e.target.value)}}),(0,EN.jsx)("p",{className:"mb-5 text-xs font-bold md:mb-0 ".concat(f.length>20?"text-red-700":"text-white"),children:"".concat(f.length,"/20")})]}),(0,EN.jsx)("button",{disabled:v,className:"color2 rounded-xl p-3 text-lg font-medium transition md:p-4 md:text-xl ".concat(v?"saturate-0":"saturate-100 hover:brightness-125"),type:"submit",children:"Enviar"})]})})]})})}var jz=jn({palette:{mode:"light",primary:{main:"#005d77"},secondary:{main:"#f50057"},background:{default:"#000000",paper:"rgba(51,56,78,0.85)"},text:{primary:"rgba(255,246,246,0.87)",secondary:"rgba(255,255,255,0.8)",disabled:"rgba(175,175,175,0.38)",hint:"#d2d2d2"}},shape:{borderRadius:20},typography:{fontFamily:["Martian Mono","monospace"].join(",")}});var Uz=function(){var e=h(QT(bN),2),n=e[0],r=e[1],i=h((0,t.useState)(),2),a=i[0],u=i[1],c=h((0,t.useState)(""),2),l=c[0],f=c[1];return(0,t.useEffect)((function(){function e(){return(e=s(o().mark((function e(){var t,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return t=tk(gN,"usersDB",n.uid),e.next=4,_w(t);case 4:r=e.sent,(i=r.data())?(u(i),f("chat")):f("confirm");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),r?(0,EN.jsx)("div",{className:"h-full w-full justify-center absolute",children:(0,EN.jsx)(SN,{})}):n?(0,EN.jsx)(Ue,{theme:jz,children:""===l?(0,EN.jsx)("div",{className:"h-full w-full justify-center absolute",children:(0,EN.jsx)(SN,{})}):"chat"===l?(0,EN.jsx)(wB,{userData:a}):"confirm"===l?(0,EN.jsx)(Fz,{SignInConfirm:!0}):void 0}):(0,EN.jsx)(SB,{})};function Bz(){return Bz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bz.apply(this,arguments)}function Vz(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var zz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qz(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Bz({},t,{errors:Wz(t.errors)})),t}function Wz(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=h(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new uV(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){var u=new Error(o.message);u.stack="",t[a]=u}else t[a]=o}return t}var Kz="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Hz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gz=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=Vz(e,zz),h=t.useContext(dz).basename,p=!1;if("string"===typeof l&&Hz.test(l)&&(r=l,Kz)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=$B(m.pathname,h);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;yz()||CB(!1);var i=t.useContext(dz),a=i.basename,o=i.navigator,u=kz(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:tV([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=bz(),l=gz(),f=kz(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:DB(l)===DB(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Bz({},d,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var Qz,Xz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Qz||(Qz={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xz||(Xz={}));var Yz=n.p+"static/media/error.7ba641bf3673dd4ff3b0.png";function $z(){return(0,EN.jsx)("div",{className:"ErrorPage grid h-screen place-items-center",children:(0,EN.jsx)("div",{className:"h-auto w-[95%] overflow-hidden rounded-3xl text-white shadow-inner drop-shadow-2xl md:h-auto md:w-[600px]",children:(0,EN.jsxs)("div",{className:"flex flex-col items-center rounded-b-3xl bg-[#33384e] bg-opacity-50 px-5 pb-14 md:px-5",children:[(0,EN.jsx)("img",{src:Yz,alt:"error",className:"h-[300px] w-[300px] translate-y-5 opacity-70 brightness-110 saturate-150",referrerPolicy:"no-referrer"}),(0,EN.jsxs)("div",{className:"flex -translate-y-7 flex-col place-items-center justify-center",children:[(0,EN.jsx)("label",{className:"mb-2 text-3xl tracking-widest md:text-7xl",children:"404"}),(0,EN.jsx)("label",{className:"text-base sm:text-xl md:text-3xl",children:"P\xe1gina n\xe3o encontrada"}),(0,EN.jsxs)("div",{className:"md:text-1xl mt-4 flex items-center gap-3 text-base sm:text-xl",children:[(0,EN.jsx)("label",{className:"",children:"Volte para p\xe1gina de "})," ",(0,EN.jsxs)(Gz,{to:"/",className:"font-extrabold text-[#cc264acf] transition hover:brightness-150",children:[" ","login"]})]})]})]})})})}var Jz=function(e,t){return xV({basename:null==t?void 0:t.basename,history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),OB((function(e,t){var n=e.location;return NB("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:DB(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||qz(),routes:e,detectErrorBoundary:Lz}).initialize();var n}([{path:"/",element:(0,EN.jsx)(Uz,{}),errorElement:(0,EN.jsx)($z,{}),children:[{path:"/",element:(0,EN.jsx)(wB,{})}]}]);i.render((0,EN.jsx)(Az,{router:Jz}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.536cba75.js.map