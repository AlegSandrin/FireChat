/*! For license information please see main.d5b64b90.js.LICENSE.txt */
!function(){"use strict";var e={532:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){n(532)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Re(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,_t,It=!1,Tt=[],Ct=null,Rt=null,At=null,Nt=new Map,Dt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==At&&jt(At)&&(At=null),Nt.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),null!==At&&zt(At,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Nn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Pn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function _r(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Rr=_r("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Pr=Nr[Or];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ir:case Tr:case Cr:s=yn;break;case Rr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=De(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Wn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function _i(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ii(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ri=Ei(!1),Ai=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){_i(Ri),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ri),_i(Ci),Ii(Ci,e)):_i(Ri),Ii(Ri,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;_i(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Di(t)?Ai:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ii(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ra(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),du(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=_o(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Ni(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=_o(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Ni(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ri.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Ni(t,s=Di(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ri.current||Aa?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,a,i)}function Ru(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ou,Pu,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Oi(),Gu(t),null;case 3:return r=t.stateNode,io(),_i(Ri),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ri),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){_c(e,e.return,m)}try{rs(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(d=Zu=f;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Zu=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Ss(i):null!==s?(s.return=o,Zu=s):Ss(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Xu=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(h){_c(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Ss(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{as(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,_s=Math.ceil,Is=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,Rs=0,As=null,Ns=null,Ds=0,Os=0,Ps=Ei(0),Ms=0,Ls=null,Fs=0,js=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Ws=null,Ks=!1,Hs=null,Gs=null,Qs=!1,$s=null,Xs=0,Ys=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Rs)?Ye():-1!==Zs?Zs:Zs=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Rs)&&e===As||(e===As&&(0===(2&Rs)&&(js|=n),4===Ms&&sc(e,Ds)),ic(e,r),1===n&&0===Rs&&0===(1&t.mode)&&(qs=Ye()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===As?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Rs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Rs))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===As?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Rs;Rs|=2;var o=vc();for(As===e&&Ds===t||(Ws=null,qs=Ye()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Is.current=o,Rs=i,null!==Ns?t=0:(As=null,Ds=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,hc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,hc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Ws),t);break}xc(e,zs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Ws),r);break}xc(e,zs,Ws);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rs))throw Error(a(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,hc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Ws),ic(e,Ye()),null}function lc(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(qs=Ye()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Rs)&&Sc();var t=Rs;Rs|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(Rs=t))&&Bi()}}function dc(){Os=Ps.current,_i(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),_i(Ri),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(As=e,Ns=e=Pc(e.current,null),Ds=Os=t,Ms=0,Ls=null,Us=js=Fs=0,zs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===As||0===(268435455&Fs)&&0===(268435455&js)||sc(As,Ds)}function yc(e,t){var n=Rs;Rs|=2;var r=vc();for(As===e&&Ds===t||(Ws=null,hc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Rs=n,Is.current=r,null!==Ns)throw Error(a(261));return As=null,Ds=0,Ms}function gc(){for(;null!==Ns;)kc(Ns)}function bc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ms=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ms&&(Ms=5)}function xc(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==$s);if(0!==(6&Rs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=Rs;Rs|=4,Ts.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Xe(),Rs=s,bt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Xs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Xs)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function Sc(){if(null!==$s){var e=kt(Xs),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Xs=0,0!==(6&Rs))throw Error(a(331));var i=Rs;for(Rs|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zu=d;else for(;null!==Zu;){var h=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Rs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ds&n)===n&&(4===Ms||3===Ms&&(130023424&Ds)===Ds&&500>Ye()-Bs?hc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ra(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case _:return(e=Dc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case R:return(e=Dc(13,n,t,i)).elementType=R,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ru(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ri.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ea(t,n),qa(t,r,i),Ka(t,r,i,n),Ru(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Rs)&&(qs=Ye()+500,Bi()))}break;case 13:fc((function(){var t=Ra(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Ra(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Re=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=R(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=R(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!R());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,I=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){y(A,0)};function O(e){_=e,E||(E=!0,S())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return jr},SDK_VERSION:function(){return $i},_DEFAULT_ENTRY_NAME:function(){return Li},_addComponent:function(){return Vi},_addOrOverwriteComponent:function(){return zi},_apps:function(){return ji},_clearComponents:function(){return Ki},_components:function(){return Ui},_getProvider:function(){return qi},_registerComponent:function(){return Bi},_removeServiceInstance:function(){return Wi},deleteApp:function(){return Zi},getApp:function(){return Yi},getApps:function(){return Ji},initializeApp:function(){return Xi},onLog:function(){return na},registerVersion:function(){return ta},setLogLevel:function(){return ra}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:S(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==t&&n.call(b,u)&&(y=b);var k=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,u,s){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=m,r(k,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function u(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function c(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||f(e,t)||d()}var p=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),v=Math.abs,m=String.fromCharCode,y=Object.assign;function g(e){return e.trim()}function b(e,t,n){return e.replace(t,n)}function k(e,t){return e.indexOf(t)}function w(e,t){return 0|e.charCodeAt(t)}function x(e,t,n){return e.slice(t,n)}function S(e){return e.length}function E(e){return e.length}function _(e,t){return t.push(e),e}var I=1,T=1,C=0,R=0,A=0,N="";function D(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:I,column:T,length:o,return:""}}function O(e,t){return y(D("",null,null,"",null,null,0),e,{length:-e.length},t)}function P(){return A=R>0?w(N,--R):0,T--,10===A&&(T=1,I--),A}function M(){return A=R<C?w(N,R++):0,T++,10===A&&(T=1,I++),A}function L(){return w(N,R)}function F(){return R}function j(e,t){return x(N,e,t)}function U(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V(e){return I=T=1,C=S(N=e),R=0,[]}function z(e){return N="",e}function B(e){return g(j(R-1,K(91===e?e+2:40===e?e+1:e)))}function q(e){for(;(A=L())&&A<33;)M();return U(e)>2||U(A)>3?"":" "}function W(e,t){for(;--t&&M()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return j(e,F()+(t<6&&32==L()&&32==M()))}function K(e){for(;M();)switch(A){case e:return R;case 34:case 39:34!==e&&39!==e&&K(A);break;case 40:41===e&&K(e);break;case 92:M()}return R}function H(e,t){for(;M()&&e+A!==57&&(e+A!==84||47!==L()););return"/*"+j(t,R-1)+"*"+m(47===e?e:M())}function G(e){for(;!U(L());)M();return j(e,R)}var Q="-ms-",$="-moz-",X="-webkit-",Y="comm",J="rule",Z="decl",ee="@import",te="@keyframes";function ne(e,t){for(var n="",r=E(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function re(e,t,n,r){switch(e.type){case ee:case Z:return e.return=e.return||e.value;case Y:return"";case te:return e.return=e.value+"{"+ne(e.children,r)+"}";case J:e.value=e.props.join(",")}return S(n=ne(e.children,r))?e.return=e.value+"{"+n+"}":""}function ie(e){return z(ae("",null,null,null,[""],e=V(e),0,[0],e))}function ae(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,y=1,g=1,x=0,E="",I=i,T=a,C=r,R=E;y;)switch(p=x,x=M()){case 40:if(108!=p&&58==w(R,f-1)){-1!=k(R+=b(B(x),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:R+=B(x);break;case 9:case 10:case 13:case 32:R+=q(p);break;case 92:R+=W(F()-1,7);continue;case 47:switch(L()){case 42:case 47:_(ue(H(M(),F()),t,n),s);break;default:R+="/"}break;case 123*v:u[c++]=S(R)*g;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+l:h>0&&S(R)-f&&_(h>32?se(R+";",r,n,f-1):se(b(R," ","")+";",r,n,f-2),s);break;case 59:R+=";";default:if(_(C=oe(R,t,n,c,l,i,u,E,I=[],T=[],f),a),123===x)if(0===l)ae(R,t,C,C,I,a,f,u,T);else switch(99===d&&110===w(R,3)?100:d){case 100:case 109:case 115:ae(e,C,C,r&&_(oe(e,C,C,0,0,i,u,E,i,I=[],f),T),i,T,f,u,r?I:T);break;default:ae(R,C,C,C,[""],T,0,u,T)}}c=l=h=0,v=g=1,E=R="",f=o;break;case 58:f=1+S(R),h=p;default:if(v<1)if(123==x)--v;else if(125==x&&0==v++&&125==P())continue;switch(R+=m(x),x*v){case 38:g=l>0?1:(R+="\f",-1);break;case 44:u[c++]=(S(R)-1)*g,g=1;break;case 64:45===L()&&(R+=B(M())),d=L(),l=f=S(E=R+=G(F())),x++;break;case 45:45===p&&2==S(R)&&(v=0)}}return a}function oe(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=E(d),p=0,m=0,y=0;p<r;++p)for(var k=0,w=x(e,f+1,f=v(m=o[p])),S=e;k<h;++k)(S=g(m>0?d[k]+" "+w:b(w,/&\f/g,d[k])))&&(s[y++]=S);return D(e,t,n,0===i?J:u,s,c,l)}function ue(e,t,n){return D(e,t,n,Y,m(A),x(e,2,-2),0)}function se(e,t,n,r){return D(e,t,n,Z,x(e,0,r),x(e,r+1,-1),r)}var ce=function(e,t,n){for(var r=0,i=0;r=i,i=L(),38===r&&12===i&&(t[n]=1),!U(i);)M();return j(e,R)},le=function(e,t){return z(function(e,t){var n=-1,r=44;do{switch(U(r)){case 0:38===r&&12===L()&&(t[n]=1),e[n]+=ce(R-1,t,n);break;case 2:e[n]+=B(r);break;case 4:if(44===r){e[++n]=58===L()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=m(r)}}while(r=M());return e}(V(e),t))},fe=new WeakMap,de=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fe.get(n))&&!r){fe.set(e,!0);for(var i=[],a=le(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},he=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function pe(e,t){switch(function(e,t){return 45^w(e,0)?(((t<<2^w(e,0))<<2^w(e,1))<<2^w(e,2))<<2^w(e,3):0}(e,t)){case 5103:return X+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return X+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return X+e+$+e+Q+e+e;case 6828:case 4268:return X+e+Q+e+e;case 6165:return X+e+Q+"flex-"+e+e;case 5187:return X+e+b(e,/(\w+).+(:[^]+)/,X+"box-$1$2"+Q+"flex-$1$2")+e;case 5443:return X+e+Q+"flex-item-"+b(e,/flex-|-self/,"")+e;case 4675:return X+e+Q+"flex-line-pack"+b(e,/align-content|flex-|-self/,"")+e;case 5548:return X+e+Q+b(e,"shrink","negative")+e;case 5292:return X+e+Q+b(e,"basis","preferred-size")+e;case 6060:return X+"box-"+b(e,"-grow","")+X+e+Q+b(e,"grow","positive")+e;case 4554:return X+b(e,/([^-])(transform)/g,"$1"+X+"$2")+e;case 6187:return b(b(b(e,/(zoom-|grab)/,X+"$1"),/(image-set)/,X+"$1"),e,"")+e;case 5495:case 3959:return b(e,/(image-set\([^]*)/,X+"$1$`$1");case 4968:return b(b(e,/(.+:)(flex-)?(.*)/,X+"box-pack:$3"+Q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+X+e+e;case 4095:case 3583:case 4068:case 2532:return b(e,/(.+)-inline(.+)/,X+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(S(e)-1-t>6)switch(w(e,t+1)){case 109:if(45!==w(e,t+4))break;case 102:return b(e,/(.+:)(.+)-([^]+)/,"$1"+X+"$2-$3$1"+$+(108==w(e,t+3)?"$3":"$2-$3"))+e;case 115:return~k(e,"stretch")?pe(b(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==w(e,t+1))break;case 6444:switch(w(e,S(e)-3-(~k(e,"!important")&&10))){case 107:return b(e,":",":"+X)+e;case 101:return b(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+X+(45===w(e,14)?"inline-":"")+"box$3$1"+X+"$2$3$1"+Q+"$2box$3")+e}break;case 5936:switch(w(e,t+11)){case 114:return X+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return X+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return X+e+Q+b(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return X+e+Q+e+e}return e}var ve=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=pe(e.value,e.length);break;case te:return ne([O(e,{value:b(e.value,"@","@"+X)})],r);case J:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ne([O(e,{props:[b(t,/:(read-\w+)/,":"+$+"$1")]})],r);case"::placeholder":return ne([O(e,{props:[b(t,/:(plac\w+)/,":"+X+"input-$1")]}),O(e,{props:[b(t,/:(plac\w+)/,":"+$+"$1")]}),O(e,{props:[b(t,/:(plac\w+)/,Q+"input-$1")]})],r)}return""}))}}],me=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ve;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[re,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=E(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([de,he].concat(r,l));a=function(e,t,n,r){s=n,function(e){ne(ie(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new p({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var ge=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var be=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ke={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var we=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},xe=/[A-Z]|^ms/g,Se=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ee=function(e){return 45===e.charCodeAt(1)},_e=function(e){return null!=e&&"boolean"!==typeof e},Ie=we((function(e){return Ee(e)?e:e.replace(xe,"-$&").toLowerCase()})),Te=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Se,(function(e,t,n){return Re={name:t,styles:n,next:Re},t}))}return 1===ke[e]||Ee(e)||"number"!==typeof t||0===t?t:t+"px"};function Ce(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Re={name:n.name,styles:n.styles,next:Re},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Re={name:r.name,styles:r.styles,next:Re},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ce(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":_e(o)&&(r+=Ie(a)+":"+Te(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ce(e,t,o);switch(a){case"animation":case"animationName":r+=Ie(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)_e(o[s])&&(r+=Ie(a)+":"+Te(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Re,a=n(e);return Re=i,Ce(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Re,Ae=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ne=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Re=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ce(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ce(n,t,e[o]),r&&(i+=a[o]);Ae.lastIndex=0;for(var u,s="";null!==(u=Ae.exec(i));)s+="-"+u[1];return{name:be(i)+s,styles:i,next:Re}},De=!!r.useInsertionEffect&&r.useInsertionEffect,Oe=De||function(e){return e()},Pe=De||t.useLayoutEffect,Me=(0,t.createContext)("undefined"!==typeof HTMLElement?me({key:"css"}):null);Me.Provider;var Le=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Me);return e(n,i,r)}))},Fe=(0,t.createContext)({});var je=ge((function(e){return ge((function(t){return function(e,t){return"function"===typeof t?t(e):ye({},e,t)}(e,t)}))})),Ue=function(e){var n=(0,t.useContext)(Fe);return e.theme!==n&&(n=je(n)(e.theme)),(0,t.createElement)(Fe.Provider,{value:n},e.children)};function Ve(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ze(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Be(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function qe(e){if(!Be(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=qe(e[n])})),t}function We(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?ye({},e):e;return Be(e)&&Be(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Be(t[i])&&i in e&&Be(e[i])?r[i]=We(e[i],t[i],n):n.clone?r[i]=Be(t[i])?qe(t[i]):t[i]:r[i]=t[i])})),r}function Ke(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function He(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=["values","unit","step"],Qe=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ye({},e,He({},t.key,t.val))}),{})};var $e={borderRadius:4},Xe={xs:0,sm:600,md:900,lg:1200,xl:1536},Ye={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Xe[e],"px)")}};function Je(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Ye;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Ye;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Xe).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Ze(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function et(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function tt(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function nt(e){if("string"!==typeof e)throw new Error(ze(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function it(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:rt(e,n)||i,t&&(r=t(r,i,e)),r}var at=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=rt(e.theme,i)||{};return Je(e,n,(function(e){var n=it(o,a,e);return e===n&&"string"===typeof e&&(n=it(o,a,"".concat(t).concat("default"===e?"":nt(e)),e)),!1===r?n:He({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var ot=function(e,t){return t?We(e,t,{clone:!1}):e};var ut={m:"margin",p:"padding"},st={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ct={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ct[e])return[e];e=ct[e]}var t=h(e.split(""),2),n=t[0],r=t[1],i=ut[n],a=st[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ft=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ht=[].concat(ft,dt);function pt(e,t,n,r){var i,a=null!=(i=rt(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function vt(e){return pt(e,"spacing",8)}function mt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function yt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=mt(t,n),e}),{})}}(lt(n),r);return Je(e,e[n],i)}function gt(e,t){var n=vt(e.theme);return Object.keys(e).map((function(r){return yt(e,t,r,n)})).reduce(ot,{})}function bt(e){return gt(e,ft)}function kt(e){return gt(e,dt)}function wt(e){return gt(e,ht)}bt.propTypes={},bt.filterProps=ft,kt.propTypes={},kt.filterProps=dt,wt.propTypes={},wt.filterProps=ht;var xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ot(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function St(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Et=at({prop:"border",themeKey:"borders",transform:St}),_t=at({prop:"borderTop",themeKey:"borders",transform:St}),It=at({prop:"borderRight",themeKey:"borders",transform:St}),Tt=at({prop:"borderBottom",themeKey:"borders",transform:St}),Ct=at({prop:"borderLeft",themeKey:"borders",transform:St}),Rt=at({prop:"borderColor",themeKey:"palette"}),At=at({prop:"borderTopColor",themeKey:"palette"}),Nt=at({prop:"borderRightColor",themeKey:"palette"}),Dt=at({prop:"borderBottomColor",themeKey:"palette"}),Ot=at({prop:"borderLeftColor",themeKey:"palette"}),Pt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=pt(e.theme,"shape.borderRadius",4);return Je(e,e.borderRadius,(function(e){return{borderRadius:mt(t,e)}}))}return null};Pt.propTypes={},Pt.filterProps=["borderRadius"];xt(Et,_t,It,Tt,Ct,Rt,At,Nt,Dt,Ot,Pt);var Mt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=pt(e.theme,"spacing",8);return Je(e,e.gap,(function(e){return{gap:mt(t,e)}}))}return null};Mt.propTypes={},Mt.filterProps=["gap"];var Lt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=pt(e.theme,"spacing",8);return Je(e,e.columnGap,(function(e){return{columnGap:mt(t,e)}}))}return null};Lt.propTypes={},Lt.filterProps=["columnGap"];var Ft=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=pt(e.theme,"spacing",8);return Je(e,e.rowGap,(function(e){return{rowGap:mt(t,e)}}))}return null};Ft.propTypes={},Ft.filterProps=["rowGap"];xt(Mt,Lt,Ft,at({prop:"gridColumn"}),at({prop:"gridRow"}),at({prop:"gridAutoFlow"}),at({prop:"gridAutoColumns"}),at({prop:"gridAutoRows"}),at({prop:"gridTemplateColumns"}),at({prop:"gridTemplateRows"}),at({prop:"gridTemplateAreas"}),at({prop:"gridArea"}));function jt(e,t){return"grey"===t?t:e}xt(at({prop:"color",themeKey:"palette",transform:jt}),at({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jt}),at({prop:"backgroundColor",themeKey:"palette",transform:jt}));function Ut(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Vt=at({prop:"width",transform:Ut}),zt=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Je(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Xe[t]||Ut(t)}}))}return null};zt.filterProps=["maxWidth"];var Bt=at({prop:"minWidth",transform:Ut}),qt=at({prop:"height",transform:Ut}),Wt=at({prop:"maxHeight",transform:Ut}),Kt=at({prop:"minHeight",transform:Ut}),Ht=(at({prop:"size",cssProperty:"width",transform:Ut}),at({prop:"size",cssProperty:"height",transform:Ut}),xt(Vt,zt,Bt,qt,Wt,Kt,at({prop:"boxSizing"})),{border:{themeKey:"borders",transform:St},borderTop:{themeKey:"borders",transform:St},borderRight:{themeKey:"borders",transform:St},borderBottom:{themeKey:"borders",transform:St},borderLeft:{themeKey:"borders",transform:St},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pt},color:{themeKey:"palette",transform:jt},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jt},backgroundColor:{themeKey:"palette",transform:jt},p:{style:kt},pt:{style:kt},pr:{style:kt},pb:{style:kt},pl:{style:kt},px:{style:kt},py:{style:kt},padding:{style:kt},paddingTop:{style:kt},paddingRight:{style:kt},paddingBottom:{style:kt},paddingLeft:{style:kt},paddingX:{style:kt},paddingY:{style:kt},paddingInline:{style:kt},paddingInlineStart:{style:kt},paddingInlineEnd:{style:kt},paddingBlock:{style:kt},paddingBlockStart:{style:kt},paddingBlockEnd:{style:kt},m:{style:bt},mt:{style:bt},mr:{style:bt},mb:{style:bt},ml:{style:bt},mx:{style:bt},my:{style:bt},margin:{style:bt},marginTop:{style:bt},marginRight:{style:bt},marginBottom:{style:bt},marginLeft:{style:bt},marginX:{style:bt},marginY:{style:bt},marginInline:{style:bt},marginInlineStart:{style:bt},marginInlineEnd:{style:bt},marginBlock:{style:bt},marginBlockStart:{style:bt},marginBlockEnd:{style:bt},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mt},rowGap:{style:Ft},columnGap:{style:Lt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ut},maxWidth:{style:zt},minWidth:{transform:Ut},height:{transform:Ut},maxHeight:{transform:Ut},minHeight:{transform:Ut},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var Gt=function(){function e(e,t,n,r){var i,a=(He(i={},e,t),He(i,"theme",n),i),o=r[e];if(!o)return He({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;var d=rt(n,c)||{};if(f)return f(a);return Je(a,t,(function(t){var n=it(d,l,t);return t===n&&"string"===typeof t&&(n=it(d,l,"".concat(e).concat("default"===t?"":nt(t)),t)),!1===s?n:He({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:Ht;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=Ze(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=ot(o,e(n,c,u,s));else{var l=Je({theme:u},c,(function(e){return He({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=ot(o,l):o[n]=t({sx:c,theme:u})}else o=ot(o,e(n,c,u,s))})),et(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();Gt.filterProps=["sx"];var Qt=Gt,$t=["breakpoints","palette","spacing","shape"];var Xt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Ve(e,$t),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Ve(e,Ge),s=Qe(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return ye({keys:c,values:s,up:l,down:f,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=vt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=We({breakpoints:c,direction:"ltr",components:{},palette:ye({mode:"light"},i),spacing:l,shape:ye({},$e,u)},s),d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return(f=h.reduce((function(e,t){return We(e,t)}),f)).unstable_sxConfig=ye({},Ht,null==s?void 0:s.unstable_sxConfig),f.unstable_sx=function(e){return Qt({sx:e,theme:this})},f};function Yt(e,t){var n;return ye({toolbar:(n={minHeight:56},He(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),He(n,e.up("sm"),{minHeight:64}),n)},t)}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Zt(e){if(e.type)return e;if("#"===e.charAt(0))return Zt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ze(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ze(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function en(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function tn(e){var t="hsl"===(e=Zt(e)).type||"hsla"===e.type?Zt(function(e){var t=(e=Zt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),en({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nn(e,t){return e=Zt(e),t=Jt(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,en(e)}function rn(e,t){if(e=Zt(e),t=Jt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return en(e)}function an(e,t){if(e=Zt(e),t=Jt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return en(e)}var on={black:"#000",white:"#fff"},un={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},cn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ln={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},dn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},hn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},pn=["mode","contrastThreshold","tonalOffset"],vn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:on.white,default:on.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mn={text:{primary:on.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:on.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=an(e.main,i):"dark"===t&&(e.dark=rn(e.main,a)))}function gn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Ve(e,pn),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fn[200],light:fn[50],dark:fn[400]}:{main:fn[700],light:fn[400],dark:fn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sn[200],light:sn[50],dark:sn[400]}:{main:sn[500],light:sn[300],dark:sn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cn[500],light:cn[300],dark:cn[700]}:{main:cn[700],light:cn[400],dark:cn[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dn[400],light:dn[300],dark:dn[700]}:{main:dn[700],light:dn[500],dark:dn[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hn[400],light:hn[300],dark:hn[700]}:{main:hn[800],light:hn[500],dark:hn[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ln[400],light:ln[300],dark:ln[700]}:{main:"#ed6c02",light:ln[500],dark:ln[900]}}(n);function p(e){var t=function(e,t){var n=tn(e),r=tn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,mn.text.primary)>=i?mn.text.primary:vn.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=ye({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ze(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ze(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return yn(t,"light",u,o),yn(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:mn,light:vn};return We(ye({common:ye({},on),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:un,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var bn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var kn={textTransform:"uppercase"},wn='"Roboto", "Helvetica", "Arial", sans-serif';function xn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?wn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,d=void 0===f?500:f,h=n.fontWeightBold,p=void 0===h?700:h,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=Ve(n,bn);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return ye({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===wn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(d,14,1.75,.4,kn),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,kn)};return We(ye({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:p},S),b,{clone:!1})}var Sn=.2,En=.14,_n=.12;function In(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Sn,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(En,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(_n,")")].join(",")}var Tn=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],Cn=["duration","easing","delay"],Rn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},An={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nn(e){return"".concat(Math.round(e),"ms")}function Dn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function On(e){var t=ye({},Rn,e.easing),n=ye({},An,e.duration);return ye({getAutoHeightDuration:Dn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Ve(r,Cn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Nn(a)," ").concat(u," ").concat("string"===typeof c?c:Nn(c))})).join(",")}},e,{easing:t,duration:n})}var Pn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Ve(e,Mn);if(e.vars)throw new Error(ze(18));var l=gn(i),f=Xt(e),d=We(f,{mixins:Yt(f.breakpoints,n),palette:l,shadows:Tn.slice(),typography:xn(l,s),transitions:On(o),zIndex:ye({},Pn)});d=We(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return(d=p.reduce((function(e,t){return We(e,t)}),d)).unstable_sxConfig=ye({},Ht,null==c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return Qt({sx:e,theme:this})},d}var Fn=Ln;function jn(e,t){var n=ye({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=ye({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=ye({},a),Object.keys(i).forEach((function(e){n[r][e]=jn(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var Un=t.createContext(null);var Vn=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t.useContext(Un);return r&&(e=r,0!==Object.keys(e).length)?r:n},zn=Xt();var Bn=function(){return Vn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn)};function qn(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?jn(t.components[n].defaultProps,r):r}({theme:Bn(r),name:n,props:t});return i}var Wn=Fn();function Kn(e){return qn({props:e.props,name:e.name,defaultTheme:Wn})}n(110);var Hn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Gn=function(e,t,n){Hn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Qn=Le((function(e,n){var r=e.styles,i=Ne([r],void 0,(0,t.useContext)(Fe)),a=(0,t.useRef)();return Pe((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Pe((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Gn(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function $n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ne(t)}var Xn=function(){var e=$n.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Yn=n(184);function Jn(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Yn.jsx)(Qn,{styles:i})}var Zn=function(e){return(0,Yn.jsx)(Jn,ye({},e,{defaultTheme:Wn}))},er=function(e,t){return ye({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},tr=function(e){return ye({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})},nr=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=h(t,2),a=r[0],o=r[1];i[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(n=o.palette)?void 0:n.mode}}));var a=ye({html:er(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:ye({margin:0},tr(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i),o=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(a=[a,o]),a};var rr=function(e){var n=Kn({props:e,name:"MuiCssBaseline"}),r=n.children,i=n.enableColorScheme,a=void 0!==i&&i;return(0,Yn.jsxs)(t.Fragment,{children:[(0,Yn.jsx)(Zn,{styles:function(e){return nr(e,a)}}),r]})};function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ir(e,t)}function ar(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function or(e,t,n){return or=ar()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ir(i,n.prototype),i},or.apply(null,arguments)}function ur(e){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ur(e)}function sr(){return sr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ur(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sr.apply(this,arguments)}function cr(e){var t="function"===typeof Map?new Map:void 0;return cr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return or(e,arguments,ur(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ir(n,e)},cr(e)}function lr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function fr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ir(e,t)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e){var t=ar();return function(){var n,r=ur(e);if(t){var i=ur(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dr(e)}(this,n)}}function pr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vr(e){return function(e){if(Array.isArray(e))return l(e)}(e)||pr(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function gr(e,t,n){return t&&yr(e.prototype,t),n&&yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var br=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(br(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new wr;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wr=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return gr(n)}(cr(Error)),xr=function(e){return function(e){var t=br(e);return kr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Sr=function(e){try{return kr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Er(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Er(e[n],t[n]));return e}var _r=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ir=function(){try{return _r()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",REACT_APP_FIREBASE_APP_ID:"1:790402549965:web:62e8eec1b35c868bb54184",REACT_APP_FIREBASE_AUTH_DOMAIN:"firechat-60a6c.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"790402549965",REACT_APP_FIREBASE_PROJECT_ID:"firechat-60a6c",REACT_APP_FIREBASE_STORAGE_BUCKET:"firechat-60a6c.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Sr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Tr=function(e){var t=function(e){var t,n;return null===(n=null===(t=Ir())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Cr=function(){var e;return null===(e=Ir())||void 0===e?void 0:e.config},Rr=function(){function e(){var t=this;mr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return gr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ar(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xr(JSON.stringify({alg:"none",type:"JWT"})),xr(JSON.stringify(a)),""].join(".")}function Nr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dr(){var e,t=null===(e=Ir())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Or(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Pr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Mr(){var e=Nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Lr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Fr="FirebaseError",jr=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=Fr,Object.setPrototypeOf(dr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(dr(a),Ur.prototype.create),a}return gr(n)}(cr(Error)),Ur=function(){function e(t,n,r){mr(this,e),this.service=t,this.serviceName=n,this.errors=r}return gr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Vr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new jr(n,a,t)}}]),e}();var Vr=/\{\$([^}]+)}/g;function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Br(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(qr(u)&&qr(s)){if(!Br(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qr(e){return null!==e&&"object"===typeof e}function Wr(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Kr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Hr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gr(e,t){var n=new Qr(e,t);return n.subscribe.bind(n)}var Qr=function(){function e(t,n){var r=this;mr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return gr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=lr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$r),void 0===r.error&&(r.error=$r),void 0===r.complete&&(r.complete=$r);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $r(){}var Xr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};function Yr(e){return e&&e._delegate?e._delegate:e}var Jr=function(){function e(t,n,r){mr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return gr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Zr="[DEFAULT]",ei=function(){function e(t,n){mr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return gr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Rr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch(s){}var t,n=lr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(vr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),vr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=lr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=h(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Fb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ti(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Fb){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;return this.component?this.component.multipleInstances?e:Zr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ti(e){return e===Zr?void 0:e}var ni,ri,ii=function(){function e(t){mr(this,e),this.name=t,this.providers=new Map}return gr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ei(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ai=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ri||(ri={}));var oi={debug:ri.DEBUG,verbose:ri.VERBOSE,info:ri.INFO,warn:ri.WARN,error:ri.ERROR,silent:ri.SILENT},ui=ri.INFO,si=(He(ni={},ri.DEBUG,"log"),He(ni,ri.VERBOSE,"log"),He(ni,ri.INFO,"info"),He(ni,ri.WARN,"warn"),He(ni,ri.ERROR,"error"),ni),ci=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=si[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},li=function(){function e(t){mr(this,e),this.name=t,this._logLevel=ui,this._logHandler=ci,this._userLogHandler=null,ai.push(this)}return gr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ri))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?oi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ri.DEBUG].concat(t)),this._logHandler.apply(this,[this,ri.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ri.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ri.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ri.INFO].concat(t)),this._logHandler.apply(this,[this,ri.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ri.WARN].concat(t)),this._logHandler.apply(this,[this,ri.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ri.ERROR].concat(t)),this._logHandler.apply(this,[this,ri.ERROR].concat(t))}}]),e}();function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hi,pi,vi=function(e,t){return t.some((function(t){return e instanceof t}))};var mi=new WeakMap,yi=new WeakMap,gi=new WeakMap,bi=new WeakMap,ki=new WeakMap;var wi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function xi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pi||(pi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_i(this),n),Ei(mi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(e.apply(_i(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_i(this),t].concat(r));return gi.set(a,t.sort?t.sort():[t]),Ei(a)}}function Si(e){return"function"===typeof e?xi(e):(e instanceof IDBTransaction&&function(e){if(!yi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));yi.set(e,t)}}(e),vi(e,hi||(hi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,wi):e)}function Ei(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ei(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mi.set(t,e)})).catch((function(){})),ki.set(t,e),t}(e);if(bi.has(e))return bi.get(e);var t=Si(e);return t!==e&&(bi.set(e,t),ki.set(t,e)),t}var _i=function(e){return ki.get(e)};var Ii,Ti,Ci=["get","getKey","getAll","getAllKeys","count"],Ri=["put","add","delete","clear"],Ai=new Map;function Ni(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ai.get(t))return Ai.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ri.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ci.includes(n))){var a=function(){var e=s(o().mark((function e(t){var a,u,s,c,l,f,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=d.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=d[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ai.set(t,a),a}}}wi=function(e){return di(di({},e),{},{get:function(t,n,r){return Ni(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ni(t,n)||e.has(t,n)}})}(wi);var Di=function(){function e(t){mr(this,e),this.container=t}return gr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Oi="@firebase/app",Pi="0.9.4",Mi=new li("@firebase/app"),Li="[DEFAULT]",Fi=(He(Ii={},Oi,"fire-core"),He(Ii,"@firebase/app-compat","fire-core-compat"),He(Ii,"@firebase/analytics","fire-analytics"),He(Ii,"@firebase/analytics-compat","fire-analytics-compat"),He(Ii,"@firebase/app-check","fire-app-check"),He(Ii,"@firebase/app-check-compat","fire-app-check-compat"),He(Ii,"@firebase/auth","fire-auth"),He(Ii,"@firebase/auth-compat","fire-auth-compat"),He(Ii,"@firebase/database","fire-rtdb"),He(Ii,"@firebase/database-compat","fire-rtdb-compat"),He(Ii,"@firebase/functions","fire-fn"),He(Ii,"@firebase/functions-compat","fire-fn-compat"),He(Ii,"@firebase/installations","fire-iid"),He(Ii,"@firebase/installations-compat","fire-iid-compat"),He(Ii,"@firebase/messaging","fire-fcm"),He(Ii,"@firebase/messaging-compat","fire-fcm-compat"),He(Ii,"@firebase/performance","fire-perf"),He(Ii,"@firebase/performance-compat","fire-perf-compat"),He(Ii,"@firebase/remote-config","fire-rc"),He(Ii,"@firebase/remote-config-compat","fire-rc-compat"),He(Ii,"@firebase/storage","fire-gcs"),He(Ii,"@firebase/storage-compat","fire-gcs-compat"),He(Ii,"@firebase/firestore","fire-fst"),He(Ii,"@firebase/firestore-compat","fire-fst-compat"),He(Ii,"fire-js","fire-js"),He(Ii,"firebase","fire-js-all"),Ii),ji=new Map,Ui=new Map;function Vi(e,t){try{e.container.addComponent(t)}catch(n){Mi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function zi(e,t){e.container.addOrOverwriteComponent(t)}function Bi(e){var t=e.name;if(Ui.has(t))return Mi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ui.set(t,e);var n,r=lr(ji.values());try{for(r.s();!(n=r.n()).done;){Vi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Li;qi(e,t).clearInstance(n)}function Ki(){Ui.clear()}var Hi=(He(Ti={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(Ti,"bad-app-name","Illegal App name: '{$appName}"),He(Ti,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),He(Ti,"app-deleted","Firebase App named '{$appName}' already deleted"),He(Ti,"no-options","Need to provide options, when not being deployed to hosting via source."),He(Ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),He(Ti,"invalid-log-argument","First argument to `onLog` must be null or a function."),He(Ti,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),He(Ti,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),He(Ti,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),He(Ti,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ti),Gi=new Ur("app","Firebase",Hi),Qi=function(){function e(t,n,r){var i=this;mr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",(function(){return i}),"PUBLIC"))}return gr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}]),e}(),$i="9.17.2";function Xi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Li,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(n||(n=Cr()),!n)throw Gi.create("no-options");var a=ji.get(i);if(a){if(Br(n,a.options)&&Br(r,a.config))return a;throw Gi.create("duplicate-app",{appName:i})}var o,u=new ii(i),s=lr(Ui.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Qi(n,r,u);return ji.set(i,l),l}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=ji.get(e);if(!t&&e===Li)return Xi();if(!t)throw Gi.create("no-app",{appName:e});return t}function Ji(){return Array.from(ji.values())}function Zi(e){return ea.apply(this,arguments)}function ea(){return ea=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ji.has(n)){e.next=6;break}return ji.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t,n){var r,i=null!==(r=Fi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mi.warn(u.join(" "))}Bi(new Jr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function na(e,t){if(null!==e&&"function"!==typeof e)throw Gi.create("invalid-log-argument");!function(e,t){var n,r=lr(ai);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=oi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ri[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ra(e){var t;t=e,ai.forEach((function(e){e.setLogLevel(t)}))}var ia="firebase-heartbeat-database",aa=1,oa="firebase-heartbeat-store",ua=null;function sa(){return ua||(ua=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ei(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ei(u.result),e.oldVersion,e.newVersion,Ei(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(ia,aa,{upgrade:function(e,t){if(0===t)e.createObjectStore(oa)}}).catch((function(e){throw Gi.create("idb-open",{originalErrorMessage:e.message})}))),ua}function ca(e){return la.apply(this,arguments)}function la(){return la=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa();case 3:return n=e.sent,e.abrupt("return",n.transaction(oa).objectStore(oa).get(ha(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof jr?Mi.warn(e.t0.message):(r=Gi.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mi.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),la.apply(this,arguments)}function fa(e,t){return da.apply(this,arguments)}function da(){return da=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa();case 3:return r=e.sent,i=r.transaction(oa,"readwrite"),a=i.objectStore(oa),e.next=8,a.put(n,ha(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof jr?Mi.warn(e.t0.message):(u=Gi.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mi.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),da.apply(this,arguments)}function ha(e){return"".concat(e.name,"!").concat(e.options.appId)}var pa=1024,va=function(){function e(t){var n=this;mr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ba(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return gr(e,[{key:"triggerHeartbeat",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ma(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ma(),n=ya(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ma(){return(new Date).toISOString().substring(0,10)}function ya(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pa,r=[],i=e.slice(),a=lr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ka(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ka(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ga,ba=function(){function e(t){mr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return gr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ca(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(vr(r.heartbeats),vr(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ka(e){return xr(JSON.stringify({version:2,heartbeats:e})).length}ga="",Bi(new Jr("platform-logger",(function(e){return new Di(e)}),"PRIVATE")),Bi(new Jr("heartbeat",(function(e){return new va(e)}),"PRIVATE")),ta(Oi,Pi,ga),ta(Oi,Pi,"esm2017"),ta("fire-js","");var wa,xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sa={},Ea=Ea||{},_a=xa||self;function Ia(){}function Ta(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ca(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ra="closure_uid_"+(1e9*Math.random()>>>0),Aa=0;function Na(e,t,n){return e.call.apply(e.bind,arguments)}function Da(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Oa(e,t,n){return(Oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Na:Da).apply(null,arguments)}function Pa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ma(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function La(){this.s=this.s,this.o=this.o}La.prototype.s=!1,La.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ra)&&e[Ra]||(e[Ra]=++Aa))},La.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ja(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ua(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ta(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Va(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Va.prototype.h=function(){this.defaultPrevented=!0};var za=function(){if(!_a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_a.addEventListener("test",Ia,t),_a.removeEventListener("test",Ia,t)}catch(n){}return e}();function Ba(e){return/^[\s\xa0]*$/.test(e)}var qa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wa(e,t){return e<t?-1:e>t?1:0}function Ka(){var e=_a.navigator;return e&&(e=e.userAgent)?e:""}function Ha(e){return-1!=Ka().indexOf(e)}function Ga(e){return Ga[" "](e),e}Ga[" "]=Ia;var Qa,$a=Ha("Opera"),Xa=Ha("Trident")||Ha("MSIE"),Ya=Ha("Edge"),Ja=Ya||Xa,Za=Ha("Gecko")&&!(-1!=Ka().toLowerCase().indexOf("webkit")&&!Ha("Edge"))&&!(Ha("Trident")||Ha("MSIE"))&&!Ha("Edge"),eo=-1!=Ka().toLowerCase().indexOf("webkit")&&!Ha("Edge");function to(){var e=_a.document;return e?e.documentMode:void 0}e:{var no="",ro=function(){var e=Ka();return Za?/rv:([^\);]+)(\)|;)/.exec(e):Ya?/Edge\/([\d\.]+)/.exec(e):Xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eo?/WebKit\/(\S+)/.exec(e):$a?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ro&&(no=ro?ro[1]:""),Xa){var io=to();if(null!=io&&io>parseFloat(no)){Qa=String(io);break e}}Qa=no}var ao,oo={};function uo(){return function(e){var t=oo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=qa(String(Qa)).split("."),n=qa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wa(0==a[2].length,0==o[2].length)||Wa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(_a.document&&Xa){var so=to();ao=so||(parseInt(Qa,10)||void 0)}else ao=void 0;var co=ao;function lo(e,t){if(Va.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Za){e:{try{Ga(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lo.X.h.call(this)}}Ma(lo,Va);var fo={2:"touch",3:"pen",4:"mouse"};lo.prototype.h=function(){lo.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ho="closure_listenable_"+(1e6*Math.random()|0),po=0;function vo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++po,this.ba=this.ea=!1}function mo(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function yo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function go(e){var t={};for(var n in e)t[n]=e[n];return t}var bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ko(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bo.length;a++)n=bo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wo(e){this.src=e,this.g={},this.h=0}function xo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function So(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}wo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=So(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new vo(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Eo="closure_lm_"+(1e6*Math.random()|0),_o={};function Io(e,t,n,r,i){if(r&&r.once)return Co(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Io(e,t[a],n,r,i);return null}return n=Mo(n),e&&e[ho]?e.N(t,n,Ca(r)?!!r.capture:!!r,i):To(e,t,n,!1,r,i)}function To(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ca(i)?!!i.capture:!!i,u=Oo(e);if(u||(e[Eo]=u=new wo(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Do;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)za||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(No(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Co(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Co(e,t[a],n,r,i);return null}return n=Mo(n),e&&e[ho]?e.O(t,n,Ca(r)?!!r.capture:!!r,i):To(e,t,n,!0,r,i)}function Ro(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ro(e,t[a],n,r,i);else r=Ca(r)?!!r.capture:!!r,n=Mo(n),e&&e[ho]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=So(a=e.g[t],n,r,i))&&(mo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Oo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=So(t,n,r,i)),(n=-1<e?t[e]:null)&&Ao(n))}function Ao(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ho])xo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(No(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oo(t))?(xo(n,e),0==n.h&&(n.src=null,t[Eo]=null)):mo(e)}}}function No(e){return e in _o?_o[e]:_o[e]="on"+e}function Do(e,t){if(e.ba)e=!0;else{t=new lo(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ao(e),e=n.call(r,t)}return e}function Oo(e){return(e=e[Eo])instanceof wo?e:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mo(e){return"function"===typeof e?e:(e[Po]||(e[Po]=function(t){return e.handleEvent(t)}),e[Po])}function Lo(){La.call(this),this.i=new wo(this),this.P=this,this.I=null}function Fo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Va(t,e);else if(t instanceof Va)t.target=t.target||e;else{var i=t;ko(t=new Va(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jo(o,r,!0,t)&&i}if(i=jo(o=t.g=e,r,!0,t)&&i,i=jo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jo(o=t.g=n[a],r,!1,t)&&i}function jo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&xo(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ma(Lo,La),Lo.prototype[ho]=!0,Lo.prototype.removeEventListener=function(e,t,n,r){Ro(this,e,t,n,r)},Lo.prototype.M=function(){if(Lo.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mo(n[r]);delete t.g[e],t.h--}}this.I=null},Lo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Uo=_a.JSON.stringify;function Vo(){var e=Qo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zo,Bo=function(){function e(){mr(this,e),this.h=this.g=null}return gr(e,[{key:"add",value:function(e,t){var n=qo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qo=new(function(){function e(t,n){mr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return gr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wo}),(function(e){return e.reset()})),Wo=function(){function e(){mr(this,e),this.next=this.g=this.h=null}return gr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ko(e){_a.setTimeout((function(){throw e}),0)}function Ho(e,t){zo||function(){var e=_a.Promise.resolve(void 0);zo=function(){e.then($o)}}(),Go||(zo(),Go=!0),Qo.add(e,t)}var Go=!1,Qo=new Bo;function $o(){for(var e;e=Vo();){try{e.h.call(e.g)}catch(n){Ko(n)}var t=qo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Go=!1}function Xo(e,t){Lo.call(this),this.h=e||1,this.g=t||_a,this.j=Oa(this.lb,this),this.l=Date.now()}function Yo(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Jo(e,t,n){if("function"===typeof e)n&&(e=Oa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Oa(e.handleEvent,e)}return 2147483647<Number(t)?-1:_a.setTimeout(e,t||0)}function Zo(e){e.g=Jo((function(){e.g=null,e.i&&(e.i=!1,Zo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ma(Xo,Lo),(wa=Xo.prototype).ca=!1,wa.R=null,wa.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fo(this,"tick"),this.ca&&(Yo(this),this.start()))}},wa.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wa.M=function(){Xo.X.M.call(this),Yo(this),delete this.g};var eu=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return gr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zo(this)}},{key:"M",value:function(){sr(ur(n.prototype),"M",this).call(this),this.g&&(_a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(La);function tu(e){La.call(this),this.h=e,this.g={}}Ma(tu,La);var nu=[];function ru(e,t,n,r){Array.isArray(n)||(n&&(nu[0]=n.toString()),n=nu);for(var i=0;i<n.length;i++){var a=Io(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function iu(e){yo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ao(e)}),e),e.g={}}function au(){this.g=!0}function ou(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Uo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}tu.prototype.M=function(){tu.X.M.call(this),iu(this)},tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.Aa=function(){this.g=!1},au.prototype.info=function(){};var uu={},su=null;function cu(){return su=su||new Lo}function lu(e){Va.call(this,uu.Pa,e)}function fu(e){var t=cu();Fo(t,new lu(t))}function du(e,t){Va.call(this,uu.STAT_EVENT,e),this.stat=t}function hu(e){var t=cu();Fo(t,new du(t,e))}function pu(e,t){Va.call(this,uu.Qa,e),this.size=t}function vu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _a.setTimeout((function(){e()}),t)}uu.Pa="serverreachability",Ma(lu,Va),uu.STAT_EVENT="statevent",Ma(du,Va),uu.Qa="timingevent",Ma(pu,Va);var mu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function gu(){}function bu(e){return e.h||(e.h=e.i())}function ku(){}gu.prototype.h=null;var wu,xu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Su(){Va.call(this,"d")}function Eu(){Va.call(this,"c")}function _u(){}function Iu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new tu(this),this.O=Cu,e=Ja?125:void 0,this.T=new Xo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Tu}function Tu(){this.i=null,this.g="",this.h=!1}Ma(Su,Va),Ma(Eu,Va),Ma(_u,gu),_u.prototype.g=function(){return new XMLHttpRequest},_u.prototype.i=function(){return{}},wu=new _u;var Cu=45e3,Ru={},Au={};function Nu(e,t,n){e.K=1,e.v=Xu(Ku(t)),e.s=n,e.P=!0,Du(e,null)}function Du(e,t){e.F=Date.now(),Lu(e),e.A=Ku(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),cs(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Tu,e.g=lc(e.l,n?t:null,!e.s),0<e.N&&(e.L=new eu(Oa(e.La,e,e.g),e.N)),ru(e.S,e.g,"readystatechange",e.ib),t=e.H?go(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),fu(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ou(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Pu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mu(e,n))==Au){4==t&&(e.o=4,hu(14),i=!1),ou(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ru){e.o=4,hu(15),ou(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ou(e.j,e.m,r,null),zu(e,r)}Ou(e)&&r!=Au&&r!=Ru&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),nc(t),t.K=!0,hu(11))):(ou(e.j,e.m,n,"[Invalid Chunked Response]"),Vu(e),Uu(e))}function Mu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Au:(n=Number(t.substring(n,r)),isNaN(n)?Ru:(r+=1)+n>t.length?Au:(t=t.substr(r,n),e.C=r+n,t))}function Lu(e){e.V=Date.now()+e.O,Fu(e,e.O)}function Fu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vu(Oa(e.gb,e),t)}function ju(e){e.B&&(_a.clearTimeout(e.B),e.B=null)}function Uu(e){0==e.l.G||e.I||ac(e.l,e)}function Vu(e){ju(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yo(e.T),iu(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ys(n.h,e)))if(!e.J&&ys(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ic(n),Qs(n)}tc(n),hu(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=vu(Oa(n.cb,n),6e3));if(1>=ms(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else uc(n,11)}else if((e.J||n.g==e)&&ic(n),!Ba(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(gs(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,$u(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=cc(r,r.H?r.ka:null,r.V),h.J){bs(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(ju(p),Lu(p)),r.g=h}else ec(r);0<n.i.length&&Xs(n)}else"stop"!=a[0]&&"close"!=a[0]||uc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uc(n,7):Gs(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}fu()}catch(a){}}function Bu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ta(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ta(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ta(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(wa=Iu.prototype).setTimeout=function(e){this.O=e},wa.ib=function(e){e=e.target;var t=this.L;t&&3==zs(e)?t.l():this.La(e)},wa.La=function(e){try{if(e==this.g)e:{var t=zs(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ja||this.g&&(this.h.h||this.g.fa()||Bs(this.g)))){this.I||4!=t||7==n||fu(),ju(this);var r=this.g.aa();this.Y=r;t:if(Ou(this)){var i=Bs(this.g);e="";var a=i.length,o=4==zs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vu(this),Uu(this);var u="";break t}this.h.i=new _a.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ba(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,hu(12),Vu(this),Uu(this);break e}ou(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zu(this,r)}this.P?(Pu(this,t,u),Ja&&this.i&&3==t&&(ru(this.S,this.T,"tick",this.hb),this.T.start())):(ou(this.j,this.m,u,null),zu(this,u)),4==t&&Vu(this),this.i&&!this.I&&(4==t?ac(this.l,this):(this.i=!1,Lu(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,hu(12)):(this.o=0,hu(13)),Vu(this),Uu(this)}}}catch(t){}},wa.hb=function(){if(this.g){var e=zs(this.g),t=this.g.fa();this.C<t.length&&(ju(this),Pu(this,e,t),this.i&&4!=e&&Lu(this))}},wa.cancel=function(){this.I=!0,Vu(this)},wa.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fu(),hu(17)),Vu(this),this.o=2,Uu(this)):Fu(this,this.V-e)};var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wu){this.h=void 0!==t?t:e.h,Hu(this,e.j),this.s=e.s,this.g=e.g,Gu(this,e.m),this.l=e.l,t=e.i;var n=new as;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qu(this,n),this.o=e.o}else e&&(n=String(e).match(qu))?(this.h=!!t,Hu(this,n[1]||"",!0),this.s=Yu(n[2]||""),this.g=Yu(n[3]||"",!0),Gu(this,n[4]),this.l=Yu(n[5]||"",!0),Qu(this,n[6]||"",!0),this.o=Yu(n[7]||"")):(this.h=!!t,this.i=new as(null,this.h))}function Ku(e){return new Wu(e)}function Hu(e,t,n){e.j=n?Yu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qu(e,t,n){t instanceof as?(e.i=t,function(e,t){t&&!e.j&&(os(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(us(this,t),cs(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ju(t,rs)),e.i=new as(t,e.h))}function $u(e,t,n){e.i.set(t,n)}function Xu(e){return $u(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ju(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ju(t,es,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ju(t,es,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ju(n,"/"==n.charAt(0)?ns:ts,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ju(n,is)),e.join("")};var es=/[#\/\?@]/g,ts=/[#\?:]/g,ns=/[#\?]/g,rs=/[#\?@]/g,is=/#/g;function as(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function os(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function us(e,t){os(e),t=ls(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ss(e,t){return os(e),t=ls(e,t),e.g.has(t)}function cs(e,t,n){us(e,t),0<n.length&&(e.i=null,e.g.set(ls(e,t),ja(n)),e.h+=n.length)}function ls(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wa=as.prototype).add=function(e,t){os(this),this.i=null,e=ls(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wa.forEach=function(e,t){os(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wa.oa=function(){os(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wa.W=function(e){os(this);var t=[];if("string"===typeof e)ss(this,e)&&(t=t.concat(this.g.get(ls(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},wa.set=function(e,t){return os(this),this.i=null,ss(this,e=ls(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wa.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},wa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var fs=gr((function e(t,n){mr(this,e),this.h=t,this.g=n}));function ds(e){this.l=e||ps,_a.PerformanceNavigationTiming?e=0<(e=_a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_a.g&&_a.g.Ga&&_a.g.Ga()&&_a.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hs,ps=10;function vs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ms(e){return e.h?1:e.g?e.g.size:0}function ys(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gs(e,t){e.g?e.g.add(t):e.h=t}function bs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ks(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=lr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ja(e.i)}function ws(){}function xs(){this.g=new ws}function Ss(e,t,n){var r=n||"";try{Bu(e,(function(e,n){var i=e;Ca(e)&&(i=Uo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Es(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _s(e){this.l=e.ac||null,this.j=e.jb||!1}function Is(e,t){Lo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=lr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ws.prototype.stringify=function(e){return _a.JSON.stringify(e,void 0)},ws.prototype.parse=function(e){return _a.JSON.parse(e,void 0)},Ma(_s,gu),_s.prototype.g=function(){return new Is(this.l,this.j)},_s.prototype.i=(hs={},function(){return hs}),Ma(Is,Lo);var Ts=0;function Cs(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Rs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,As(e)}function As(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wa=Is.prototype).open=function(e,t){if(this.readyState!=Ts)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,As(this)},wa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||_a).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},wa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rs(this)),this.readyState=Ts},wa.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof _a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cs(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},wa.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rs(this):As(this),3==this.readyState&&Cs(this)}},wa.Va=function(e){this.g&&(this.response=this.responseText=e,Rs(this))},wa.Ua=function(e){this.g&&(this.response=e,Rs(this))},wa.ga=function(){this.g&&Rs(this)},wa.setRequestHeader=function(e,t){this.v.append(e,t)},wa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ns=_a.JSON.parse;function Ds(e){Lo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Os,this.K=this.L=!1}Ma(Ds,Lo);var Os="",Ps=/^https?$/i,Ms=["POST","PUT"];function Ls(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fs(e),Us(e)}function Fs(e){e.D||(e.D=!0,Fo(e,"complete"),Fo(e,"error"))}function js(e){if(e.h&&"undefined"!=typeof Ea&&(!e.C[1]||4!=zs(e)||2!=e.aa()))if(e.v&&4==zs(e))Jo(e.Ha,0,e);else if(Fo(e,"readystatechange"),4==zs(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qu)[1]||null;if(!a&&_a.self&&_a.self.location){var o=_a.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ps.test(a?a.toLowerCase():"")}t=i}if(t)Fo(e,"complete"),Fo(e,"success");else{e.m=6;try{var u=2<zs(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Fs(e)}}finally{Us(e)}}}function Us(e,t){if(e.g){Vs(e);var n=e.g,r=e.C[0]?Ia:null;e.g=null,e.C=null,t||Fo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(_a.clearTimeout(e.A),e.A=null)}function zs(e){return e.g?e.g.readyState:0}function Bs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Os:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ic){return null}}function qs(e){var t="";return yo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ws(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qs(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$u(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hs(e){this.Ca=0,this.i=[],this.j=new au,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ks("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ks("baseRetryDelayMs",5e3,e),this.bb=Ks("retryDelaySeedMs",1e4,e),this.$a=Ks("forwardChannelMaxRetries",2,e),this.ta=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ds(e&&e.concurrentRequestLimit),this.Fa=new xs,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gs(e){if($s(e),3==e.G){var t=e.U++,n=Ku(e.F);$u(n,"SID",e.I),$u(n,"RID",t),$u(n,"TYPE","terminate"),Js(e,n),(t=new Iu(e,e.j,t,void 0)).K=2,t.v=Xu(Ku(n)),n=!1,_a.navigator&&_a.navigator.sendBeacon&&(n=_a.navigator.sendBeacon(t.v.toString(),"")),!n&&_a.Image&&((new Image).src=t.v,n=!0),n||(t.g=lc(t.l,null),t.g.da(t.v)),t.F=Date.now(),Lu(t)}sc(e)}function Qs(e){e.g&&(nc(e),e.g.cancel(),e.g=null)}function $s(e){Qs(e),e.u&&(_a.clearTimeout(e.u),e.u=null),ic(e),e.h.cancel(),e.m&&("number"===typeof e.m&&_a.clearTimeout(e.m),e.m=null)}function Xs(e){vs(e.h)||e.m||(e.m=!0,Ho(e.Ja,e),e.C=0)}function Ys(e,t){var n;n=t?t.m:e.U++;var r=Ku(e.F);$u(r,"SID",e.I),$u(r,"RID",n),$u(r,"AID",e.T),Js(e,r),e.o&&e.s&&Ws(r,e.o,e.s),n=new Iu(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Zs(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),gs(e.h,n),Nu(n,r,t)}function Js(e,t){e.ia&&yo(e.ia,(function(e,n){$u(t,n,e)})),e.l&&Bu({},(function(e,n){$u(t,n,e)}))}function Zs(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Oa(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ss(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ec(e){e.g||e.u||(e.Z=1,Ho(e.Ia,e),e.A=0)}function tc(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=vu(Oa(e.Ia,e),oc(e,e.A)),e.A++,!0)}function nc(e){null!=e.B&&(_a.clearTimeout(e.B),e.B=null)}function rc(e){e.g=new Iu(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ku(e.sa);$u(t,"RID","rpc"),$u(t,"SID",e.I),$u(t,"CI",e.L?"0":"1"),$u(t,"AID",e.T),$u(t,"TYPE","xmlhttp"),Js(e,t),e.o&&e.s&&Ws(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Xu(Ku(t)),n.s=null,n.P=!0,Du(n,e)}function ic(e){null!=e.v&&(_a.clearTimeout(e.v),e.v=null)}function ac(e,t){var n=null;if(e.g==t){ic(e),nc(e),e.g=null;var r=2}else{if(!ys(e.h,t))return;n=t.D,bs(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fo(r=cu(),new pu(r,n)),Xs(e)}else ec(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ms(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=vu(Oa(e.Ja,e,t),oc(e,e.C)),e.C++,!0))}(e,t)||2==r&&tc(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:uc(e,5);break;case 4:uc(e,10);break;case 3:uc(e,6);break;default:uc(e,2)}}function oc(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function uc(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Oa(e.kb,e);n||(n=new Wu("//www.google.com/images/cleardot.gif"),_a.location&&"http"==_a.location.protocol||Hu(n,"https"),Xu(n)),function(e,t){var n=new au;if(_a.Image){var r=new Image;r.onload=Pa(Es,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pa(Es,n,r,"TestLoadImage: error",!1,t),r.onabort=Pa(Es,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pa(Es,n,r,"TestLoadImage: timeout",!1,t),_a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hu(2);e.G=0,e.l&&e.l.va(t),sc(e),$s(e)}function sc(e){if(e.G=0,e.la=[],e.l){var t=ks(e.h);0==t.length&&0==e.i.length||(Ua(e.la,t),Ua(e.la,e.i),e.h.i.length=0,ja(e.i),e.i.length=0),e.l.ua()}}function cc(e,t,n){var r=n instanceof Wu?Ku(n):new Wu(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Gu(r,r.m);else{var i=_a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Wu(null,void 0);r&&Hu(a,r),t&&(a.g=t),i&&Gu(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&$u(r,n,t),$u(r,"VER",e.ma),Js(e,r),r}function lc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Ds(new _s({jb:!0})):new Ds(e.ra)).Ka(e.H),t}function fc(){}function dc(){if(Xa&&!(10<=Number(co)))throw Error("Environmental error: no available transport.")}function hc(e,t){Lo.call(this),this.g=new Hs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ba(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ba(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mc(this)}function pc(e){Su.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vc(){Eu.call(this),this.status=1}function mc(e){this.g=e}(wa=Ds.prototype).Ka=function(e){this.L=e},wa.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wu.g(),this.C=this.u?bu(this.u):bu(wu),this.g.onreadystatechange=Oa(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Ls(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=lr(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=_a.FormData&&e instanceof _a.FormData,!(0<=Fa(Ms,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=lr(n);try{for(c.s();!(s=c.n()).done;){var l=h(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vs(this),0<this.B&&((this.K=function(e){return Xa&&uo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oa(this.qa,this)):this.A=Jo(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ls(this,u)}},wa.qa=function(){"undefined"!=typeof Ea&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fo(this,"timeout"),this.abort(8))},wa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fo(this,"complete"),Fo(this,"abort"),Us(this))},wa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Us(this,!0)),Ds.X.M.call(this)},wa.Ha=function(){this.s||(this.F||this.v||this.l?js(this):this.fb())},wa.fb=function(){js(this)},wa.aa=function(){try{return 2<zs(this)?this.g.status:-1}catch(hs){return-1}},wa.fa=function(){try{return this.g?this.g.responseText:""}catch(hs){return""}},wa.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ns(t)}},wa.Ea=function(){return this.m},wa.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wa=Hs.prototype).ma=8,wa.G=1,wa.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Iu(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ko(n=go(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zs(this,t,r),$u(i=Ku(this.F),"RID",e),$u(i,"CVER",22),this.D&&$u(i,"X-HTTP-Session-Id",this.D),Js(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(qs(n)))+"&"+r:this.o&&Ws(i,this.o,n)),gs(this.h,t),this.Ya&&$u(i,"TYPE","init"),this.O?($u(i,"$req",r),$u(i,"SID","null"),t.Z=!0,Nu(t,i,null)):Nu(t,i,r),this.G=2}}else 3==this.G&&(e?Ys(this,e):0==this.i.length||vs(this.h)||Ys(this))},wa.Ia=function(){if(this.u=null,rc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=vu(Oa(this.eb,this),e)}},wa.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hu(10),Qs(this),rc(this))},wa.cb=function(){null!=this.v&&(this.v=null,Qs(this),tc(this),hu(19))},wa.kb=function(e){e?(this.j.info("Successfully pinged google.com"),hu(2)):(this.j.info("Failed to ping google.com"),hu(1))},(wa=fc.prototype).xa=function(){},wa.wa=function(){},wa.va=function(){},wa.ua=function(){},wa.Ra=function(){},dc.prototype.g=function(e,t){return new hc(e,t)},Ma(hc,Lo),hc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;hu(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=cc(e,null,e.V),Xs(e)},hc.prototype.close=function(){Gs(this.g)},hc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Uo(e),e=n);t.i.push(new fs(t.ab++,e)),3==t.G&&Xs(t)},hc.prototype.M=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,hc.X.M.call(this)},Ma(pc,Su),Ma(vc,Eu),Ma(mc,fc),mc.prototype.xa=function(){Fo(this.g,"a")},mc.prototype.wa=function(e){Fo(this.g,new pc(e))},mc.prototype.va=function(e){Fo(this.g,new vc)},mc.prototype.ua=function(){Fo(this.g,"b")},dc.prototype.createWebChannel=dc.prototype.g,hc.prototype.send=hc.prototype.u,hc.prototype.open=hc.prototype.m,hc.prototype.close=hc.prototype.close,mu.NO_ERROR=0,mu.TIMEOUT=8,mu.HTTP_ERROR=6,yu.COMPLETE="complete",ku.EventType=xu,xu.OPEN="a",xu.CLOSE="b",xu.ERROR="c",xu.MESSAGE="d",Lo.prototype.listen=Lo.prototype.N,Ds.prototype.listenOnce=Ds.prototype.O,Ds.prototype.getLastError=Ds.prototype.Oa,Ds.prototype.getLastErrorCode=Ds.prototype.Ea,Ds.prototype.getStatus=Ds.prototype.aa,Ds.prototype.getResponseJson=Ds.prototype.Sa,Ds.prototype.getResponseText=Ds.prototype.fa,Ds.prototype.send=Ds.prototype.da,Ds.prototype.setWithCredentials=Ds.prototype.Ka;var yc=Sa.createWebChannelTransport=function(){return new dc},gc=Sa.getStatEventTarget=function(){return cu()},bc=Sa.ErrorCode=mu,kc=Sa.EventType=yu,wc=Sa.Event=uu,xc=Sa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Sc=Sa.FetchXmlHttpFactory=_s,Ec=Sa.WebChannel=ku,_c=Sa.XhrIo=Ds,Ic="@firebase/firestore",Tc=function(){function e(t){mr(this,e),this.uid=t}return gr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tc.UNAUTHENTICATED=new Tc(null),Tc.GOOGLE_CREDENTIALS=new Tc("google-credentials-uid"),Tc.FIRST_PARTY=new Tc("first-party-uid"),Tc.MOCK_USER=new Tc("mock-user");var Cc="9.17.2",Rc=new li("@firebase/firestore");function Ac(){return Rc.logLevel}function Nc(e){if(Rc.logLevel<=ri.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pc);Rc.debug.apply(Rc,["Firestore (".concat(Cc,"): ").concat(e)].concat(vr(i)))}}function Dc(e){if(Rc.logLevel<=ri.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pc);Rc.error.apply(Rc,["Firestore (".concat(Cc,"): ").concat(e)].concat(vr(i)))}}function Oc(e){if(Rc.logLevel<=ri.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pc);Rc.warn.apply(Rc,["Firestore (".concat(Cc,"): ").concat(e)].concat(vr(i)))}}function Pc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cc,") INTERNAL ASSERTION FAILED: ")+e;throw Dc(t),new Error(t)}function Lc(e,t){e||Mc()}function Fc(e,t){return e}var jc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uc=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return gr(n)}(jr),Vc=gr((function e(){var t=this;mr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zc=gr((function e(t,n){mr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bc=function(){function e(){mr(this,e)}return gr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qc=function(){function e(t){mr(this,e),this.token=t,this.changeListener=null}return gr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wc=function(){function e(t){mr(this,e),this.t=t,this.currentUser=Tc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return gr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Vc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Vc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=a;e.enqueueRetryable(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){Nc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(Nc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vc)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Nc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lc("string"==typeof n.accessToken),new zc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Lc(null===e||"string"==typeof e),new Tc(e)}}]),e}(),Kc=function(){function e(t,n,r,i){mr(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Tc.FIRST_PARTY,this.p=new Map}return gr(e,[{key:"I",value:function(){return this.g?this.g():(Lc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Hc=function(){function e(t,n,r,i){mr(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return gr(e,[{key:"getToken",value:function(){return Promise.resolve(new Kc(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gc=gr((function e(t){mr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qc=function(){function e(t){mr(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return gr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Nc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Nc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Nc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Nc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Lc("string"==typeof t.token),e.A=t.token,new Gc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $c(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Xc=function(){function e(){mr(this,e)}return gr(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$c(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yc(e,t){return e<t?-1:e>t?1:0}function Jc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zc(e){return e+"\0"}var el=function(){function e(t,n){if(mr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uc(jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uc(jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uc(jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uc(jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return gr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yc(this.nanoseconds,e.nanoseconds):Yc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),tl=function(){function e(t){mr(this,e),this.timestamp=t}return gr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new el(0,0))}},{key:"max",value:function(){return new e(new el(253402300799,999999999))}}]),e}(),nl=function(){function e(t,n,r){mr(this,e),void 0===n?n=0:n>t.length&&Mc(),void 0===r?r=t.length-n:r>t.length-n&&Mc(),this.segments=t,this.offset=n,this.len=r}return gr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),rl=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Uc(jc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,vr(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nl),il=/^[_a-zA-Z][_a-zA-Z0-9]*$/,al=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return il.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uc(jc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Uc(jc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Uc(jc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Uc(jc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nl),ol=function(){function e(t){mr(this,e),this.path=t}return gr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===rl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(rl.fromString(t))}},{key:"fromName",value:function(t){return new e(rl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(rl.emptyPath())}},{key:"comparator",value:function(e,t){return rl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new rl(t.slice()))}}]),e}(),ul=gr((function e(t,n,r,i){mr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function sl(e){return e.fields.find((function(e){return 2===e.kind}))}function cl(e){return e.fields.filter((function(e){return 2!==e.kind}))}ul.UNKNOWN_ID=-1;var ll=gr((function e(t,n){mr(this,e),this.fieldPath=t,this.kind=n}));var fl=function(){function e(t,n){mr(this,e),this.sequenceNumber=t,this.offset=n}return gr(e,null,[{key:"empty",value:function(){return new e(0,pl.min())}}]),e}();function dl(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tl.fromTimestamp(1e9===r?new el(n+1,0):new el(n,r));return new pl(i,ol.empty(),t)}function hl(e){return new pl(e.readTime,e.key,-1)}var pl=function(){function e(t,n,r){mr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return gr(e,null,[{key:"min",value:function(){return new e(tl.min(),ol.empty(),-1)}},{key:"max",value:function(){return new e(tl.max(),ol.empty(),-1)}}]),e}();function vl(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ol.comparator(e.documentKey,t.documentKey))?n:Yc(e.largestBatchId,t.largestBatchId)}var ml="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yl=function(){function e(){mr(this,e),this.onCommittedListeners=[]}return gr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function gl(e){return bl.apply(this,arguments)}function bl(){return bl=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jc.FAILED_PRECONDITION&&t.message===ml){e.next=2;break}throw t;case 2:Nc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}var kl=function(){function e(t){var n=this;mr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return gr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=lr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),wl=function(){function e(t,n){var r=this;mr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Vc,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new El(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Rl(e.target.error);r.v.reject(new El(t,n))}}return gr(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Nc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Il(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new El(n,t)}}}]),e}(),xl=function(){function e(t,n,r){mr(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Nr())&&Dc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return gr(e,[{key:"F",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Nc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new El(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uc(jc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uc(jc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new El(t,n))},i.onupgradeneeded=function(e){Nc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Nc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s,c,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,u=0,s=o().mark((function e(){var n,s,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++u,e.prev=1,e.next=4,l.F(t);case 4:return l.db=e.sent,n=wl.open(l.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),kl.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.P;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&u<3,Nc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Nc("SimpleDb","Removing database:",e),Tl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Lr())return!1;if(e.N())return!0;var t=Nr(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",REACT_APP_FIREBASE_APP_ID:"1:790402549965:web:62e8eec1b35c868bb54184",REACT_APP_FIREBASE_AUTH_DOMAIN:"firechat-60a6c.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"790402549965",REACT_APP_FIREBASE_PROJECT_ID:"firechat-60a6c",REACT_APP_FIREBASE_STORAGE_BUCKET:"firechat-60a6c.appspot.com"})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Sl=function(){function e(t){mr(this,e),this.q=t,this.U=!1,this.K=null}return gr(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Tl(this.q.delete())}}]),e}(),El=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,jc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return gr(n)}(Uc);function _l(e){return"IndexedDbTransactionError"===e.name}var Il=function(){function e(t){mr(this,e),this.store=t}return gr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Nc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Tl(n)}},{key:"add",value:function(e){return Nc("SimpleDb","ADD",this.store.name,e,e),Tl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Tl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Nc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Nc("SimpleDb","DELETE",this.store.name,e),Tl(this.store.delete(e))}},{key:"count",value:function(){return Nc("SimpleDb","COUNT",this.store.name),Tl(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kl((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kl((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Nc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new kl((function(n,r){t.onerror=function(e){var t=Rl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new kl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Sl(i),o=t(i.primaryKey,i.value,a);if(o instanceof kl){var u=o.catch((function(e){return a.done(),kl.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return kl.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Tl(e){return new kl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Rl(e.target.error);n(t)}}))}var Cl=!1;function Rl(e){var t=xl.D(Nr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Cl||(Cl=!0,setTimeout((function(){throw r}),0)),r}}return e}var Al=function(){function e(t,n){mr(this,e),this.asyncQueue=t,this.et=n,this.task=null}return gr(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Nc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Nc,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!_l(e.t4)){e.next=17;break}Nc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,gl(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Nl=function(){function e(t,n){mr(this,e),this.localStore=t,this.persistence=n}return gr(e,[{key:"st",value:function(){var e=s(o().mark((function e(){var t,n=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return kl.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Nc("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Nc("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=hl(t);vl(r,n)>0&&(n=r)})),new pl(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Dl=function(){function e(t,n){var r=this;mr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return gr(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Dl.at=-1;var Ol=gr((function e(t,n,r,i,a,o,u,s){mr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Pl=function(){function e(t,n){mr(this,e),this.projectId=t,this.database=n||"(default)"}return gr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ml(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ll(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jl(e){return null==e}function Ul(e){return 0===e&&1/e==-1/0}function Vl(e){return"number"==typeof e&&Number.isInteger(e)&&!Ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zl=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return gr(n)}(cr(Error));var Bl=function(e){function t(e){mr(this,t),this.binaryString=e}return gr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new zl("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Bl.EMPTY_BYTE_STRING=new Bl("");var ql=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(e){if(Lc(!!e),"string"==typeof e){var t=0,n=ql.exec(e);if(Lc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kl(e.seconds),nanos:Kl(e.nanos)}}function Kl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hl(e){return"string"==typeof e?Bl.fromBase64String(e):Bl.fromUint8Array(e)}function Gl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ql(e){var t=e.mapValue.fields.__previous_value__;return Gl(t)?Ql(t):t}function $l(e){var t=Wl(e.mapValue.fields.__local_write_time__.timestampValue);return new el(t.seconds,t.nanos)}var Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yl={nullValue:"NULL_VALUE"};function Jl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gl(e)?4:hf(e)?9007199254740991:10:Mc()}function Zl(e,t){if(e===t)return!0;var n=Jl(e);if(n!==Jl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $l(e).isEqual($l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Wl(e.timestampValue),r=Wl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hl(e.bytesValue).isEqual(Hl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kl(e.geoPointValue.latitude)===Kl(t.geoPointValue.latitude)&&Kl(e.geoPointValue.longitude)===Kl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kl(e.integerValue)===Kl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Kl(e.doubleValue),r=Kl(t.doubleValue);return n===r?Ul(n)===Ul(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jc(e.arrayValue.values||[],t.arrayValue.values||[],Zl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ml(n)!==Ml(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zl(n[i],r[i])))return!1;return!0}(e,t);default:return Mc()}}function ef(e,t){return void 0!==(e.values||[]).find((function(e){return Zl(e,t)}))}function tf(e,t){if(e===t)return 0;var n=Jl(e),r=Jl(t);if(n!==r)return Yc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Kl(e.integerValue||e.doubleValue),r=Kl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nf(e.timestampValue,t.timestampValue);case 4:return nf($l(e),$l(t));case 5:return Yc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Hl(e),r=Hl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yc(n[i],r[i]);if(0!==a)return a}return Yc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yc(Kl(e.latitude),Kl(t.latitude));return 0!==n?n:Yc(Kl(e.longitude),Kl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tf(n[i],r[i]);if(a)return a}return Yc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xl.mapValue&&t===Xl.mapValue)return 0;if(e===Xl.mapValue)return 1;if(t===Xl.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Yc(r[o],a[o]);if(0!==u)return u;var s=tf(n[r[o]],i[a[o]]);if(0!==s)return s}return Yc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mc()}}function nf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yc(e,t);var n=Wl(e),r=Wl(t),i=Yc(n.seconds,r.seconds);return 0!==i?i:Yc(n.nanos,r.nanos)}function rf(e){return af(e)}function af(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Wl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ol.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=lr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=af(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=lr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(af(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mc();var t,n}function of(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function uf(e){return!!e&&"integerValue"in e}function sf(e){return!!e&&"arrayValue"in e}function cf(e){return!!e&&"nullValue"in e}function lf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ff(e){return!!e&&"mapValue"in e}function df(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ll(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=df(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=df(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function pf(e){return"nullValue"in e?Yl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?of(Pl.empty(),ol.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Mc()}function vf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?of(Pl.empty(),ol.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Xl:Mc()}function mf(e,t){var n=tf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yf(e,t){var n=tf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var gf=gr((function e(t,n){mr(this,e),this.position=t,this.inclusive=n}));function bf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ol.comparator(ol.fromName(o.referenceValue),n.key):tf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zl(e.position[n],t.position[n]))return!1;return!0}var wf=gr((function e(){mr(this,e)})),xf=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return gr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tf(t,this.value)):null!==t&&Jl(this.value)===Jl(t)&&this.matchesComparison(tf(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mc()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Df(e,t,r):"array-contains"===t?new Lf(e,r):"in"===t?new Ff(e,r):"not-in"===t?new jf(e,r):"array-contains-any"===t?new Uf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Of(e,n):new Pf(e,n)}}]),n}(wf),Sf=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return gr(n,[{key:"matches",value:function(e){return Ef(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=lr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(wf);function Ef(e){return"and"===e.op}function _f(e){return"or"===e.op}function If(e){return Tf(e)&&Ef(e)}function Tf(e){var t,n=lr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Sf)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Cf(e){if(e instanceof xf)return e.field.canonicalString()+e.op.toString()+rf(e.value);if(If(e))return e.filters.map((function(e){return Cf(e)})).join(",");var t=e.filters.map((function(e){return Cf(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Rf(e,t){return e instanceof xf?function(e,t){return t instanceof xf&&e.op===t.op&&e.field.isEqual(t.field)&&Zl(e.value,t.value)}(e,t):e instanceof Sf?function(e,t){return t instanceof Sf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Rf(n,t.filters[r])}),!0)}(e,t):void Mc()}function Af(e,t){var n=e.filters.concat(t);return Sf.create(n,e.op)}function Nf(e){return e instanceof xf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rf(e.value))}(e):e instanceof Sf?function(e){return e.op.toString()+" {"+e.getFilters().map(Nf).join(" ,")+"}"}(e):"Filter"}var Df=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this,e,r,i)).key=ol.fromName(i.referenceValue),a}return gr(n,[{key:"matches",value:function(e){var t=ol.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(xf),Of=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,"in",r)).keys=Mf("in",r),i}return gr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xf),Pf=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,"not-in",r)).keys=Mf("not-in",r),i}return gr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xf);function Mf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ol.fromName(e.referenceValue)}))}var Lf=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"array-contains",r)}return gr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return sf(t)&&ef(t.arrayValue,this.value)}}]),n}(xf),Ff=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"in",r)}return gr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ef(this.value.arrayValue,t)}}]),n}(xf),jf=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"not-in",r)}return gr(n,[{key:"matches",value:function(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ef(this.value.arrayValue,t)}}]),n}(xf),Uf=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"array-contains-any",r)}return gr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ef(t.value.arrayValue,e)}))}}]),n}(xf),Vf=gr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";mr(this,e),this.field=t,this.dir=n}));function zf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Bf=function(){function e(t,n){mr(this,e),this.comparator=t,this.root=n||Wf.EMPTY}return gr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qf(this.root,e,this.comparator,!0)}}]),e}(),qf=function(){function e(t,n,r,i){mr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return gr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Wf=function(){function e(t,n,r,i,a){mr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return gr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mc();if(this.right.isRed())throw Mc();var e=this.left.check();if(e!==this.right.check())throw Mc();return e+(this.isRed()?0:1)}}]),e}();Wf.EMPTY=null,Wf.RED=!0,Wf.BLACK=!1,Wf.EMPTY=new(function(){function e(){mr(this,e),this.size=0}return gr(e,[{key:"key",get:function(){throw Mc()}},{key:"value",get:function(){throw Mc()}},{key:"color",get:function(){throw Mc()}},{key:"left",get:function(){throw Mc()}},{key:"right",get:function(){throw Mc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Kf=function(){function e(t){mr(this,e),this.comparator=t,this.data=new Bf(this.comparator)}return gr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Hf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Hf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Hf=function(){function e(t){mr(this,e),this.iter=t}return gr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Gf(e){return e.hasNext()?e.getNext():void 0}var Qf=function(){function e(t){mr(this,e),this.fields=t,t.sort(al.comparator)}return gr(e,[{key:"unionWith",value:function(t){var n,r=new Kf(al.comparator),i=lr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=lr(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=lr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),$f=function(){function e(t){mr(this,e),this.value=t}return gr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ff(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(t)}},{key:"setAll",value:function(e){var t=this,n=al.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=df(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Zl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ff(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ll(t,(function(t,n){return e[t]=n}));var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(df(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Xf(e){var t=[];return Ll(e.fields,(function(e,n){var r=new al([e]);if(ff(n)){var i=Xf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=lr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qf(t)}var Yf=function(){function e(t,n,r,i,a,o,u){mr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return gr(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(tl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$f.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$f.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=tl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,tl.min(),tl.min(),tl.min(),$f.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,tl.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,tl.min(),tl.min(),$f.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,tl.min(),tl.min(),$f.empty(),2)}}]),e}(),Jf=gr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;mr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Zf(e){return new Jf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ed(e){var t=Fc(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Cf(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rf(e)})).join(",")),t._t=n}return t._t}function td(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Rf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kf(e.startAt,t.startAt)&&kf(e.endAt,t.endAt)}function nd(e){return ol.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function rd(e,t){return e.filters.filter((function(e){return e instanceof xf&&e.field.isEqual(t)}))}function id(e,t,n){var r,i=Yl,a=!0,o=lr(rd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Yl,c=!0;switch(u.op){case"<":case"<=":s=pf(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Yl}mf({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ad(e,t,n){var r,i=Xl,a=!0,o=lr(rd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Xl,c=!0;switch(u.op){case">=":case">":s=vf(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Xl}yf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];yf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var od=gr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;mr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function ud(e,t,n,r,i,a,o,u){return new od(e,t,n,r,i,a,o,u)}function sd(e){return new od(e)}function cd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ld(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fd(e){var t,n=lr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function dd(e){return null!==e.collectionGroup}function hd(e){var t=Fc(e);if(null===t.wt){t.wt=[];var n=fd(t),r=ld(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Vf(n)),t.wt.push(new Vf(al.keyField(),"asc"));else{var i,a=!1,o=lr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Vf(al.keyField(),s))}}}return t.wt}function pd(e){var t=Fc(e);if(!t.gt)if("F"===t.limitType)t.gt=Zf(t.path,t.collectionGroup,hd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=lr(hd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;t.gt=Zf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function vd(e,t){t.getFirstInequalityField(),fd(e);var n=e.filters.concat([t]);return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function md(e,t,n){return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yd(e,t){return td(pd(e),pd(t))&&e.limitType===t.limitType}function gd(e){return"".concat(ed(pd(e)),"|lt:").concat(e.limitType)}function bd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Nf(e)})).join(", "),"]")),jl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rf(e)})).join(",")),"Target(".concat(t,")")}(pd(e)),"; limitType=").concat(e.limitType,")")}function kd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ol.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=lr(hd(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=lr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hd(e),t))&&!(e.endAt&&!function(e,t,n){var r=bf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hd(e),t))}(e,t)}function wd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xd(e){return function(t,n){var r,i=!1,a=lr(hd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Sd(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Sd(e,t,n){var r=e.field.isKeyField()?ol.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tf(r,i):Mc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mc()}}function Ed(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(t)?"-0":t}}function _d(e){return{integerValue:""+e}}function Id(e,t){return Vl(t)?_d(t):Ed(e,t)}var Td=gr((function e(){mr(this,e),this._=void 0}));function Cd(e,t,n){return e instanceof Nd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dd?Od(e,t):e instanceof Pd?Md(e,t):function(e,t){var n=Ad(e,t),r=Fd(n)+Fd(e.It);return uf(n)&&uf(e.It)?_d(r):Ed(e.Tt,r)}(e,t)}function Rd(e,t,n){return e instanceof Dd?Od(e,t):e instanceof Pd?Md(e,t):n}function Ad(e,t){return e instanceof Ld?uf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Nd=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n)}(Td),Dd=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).elements=e,r}return gr(n)}(Td);function Od(e,t){var n,r=jd(t),i=lr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Zl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pd=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).elements=e,r}return gr(n)}(Td);function Md(e,t){var n,r=jd(t),i=lr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Zl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ld=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return gr(n)}(Td);function Fd(e){return Kl(e.integerValue||e.doubleValue)}function jd(e){return sf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ud=gr((function e(t,n){mr(this,e),this.field=t,this.transform=n}));var Vd=gr((function e(t,n){mr(this,e),this.version=t,this.transformResults=n})),zd=function(){function e(t,n){mr(this,e),this.updateTime=t,this.exists=n}return gr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qd=gr((function e(){mr(this,e)}));function Wd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nh(e.key,zd.none()):new $d(e.key,e.data,zd.none());var n,r=e.data,i=$f.empty(),a=new Kf(al.comparator),o=lr(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Xd(e.key,i,new Qf(a.toArray()),zd.none())}function Kd(e,t,n){e instanceof $d?function(e,t,n){var r=e.value.clone(),i=Jd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xd?function(e,t,n){if(Bd(e.precondition,t)){var r=Jd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hd(e,t,n,r){return e instanceof $d?function(e,t,n,r){if(!Bd(e.precondition,t))return n;var i=e.value.clone(),a=Zd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xd?function(e,t,n,r){if(!Bd(e.precondition,t))return n;var i=Zd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Yd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gd(e,t){var n,r=null,i=lr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ad(a.transform,o||null);null!=u&&(null===r&&(r=$f.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Qd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dd&&t instanceof Dd||e instanceof Pd&&t instanceof Pd?Jc(e.elements,t.elements,Zl):e instanceof Ld&&t instanceof Ld?Zl(e.It,t.It):e instanceof Nd&&t instanceof Nd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var $d=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return mr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return gr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qd),Xd=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return mr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return gr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qd);function Yd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Jd(e,t,n){var r=new Map;Lc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Rd(o,u,n[i]))}return r}function Zd(e,t,n){var r,i=new Map,a=lr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Cd(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var eh,th,nh=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return gr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qd),rh=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return gr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qd),ih=gr((function e(t){mr(this,e),this.count=t}));function ah(e){switch(e){default:return Mc();case jc.CANCELLED:case jc.UNKNOWN:case jc.DEADLINE_EXCEEDED:case jc.RESOURCE_EXHAUSTED:case jc.INTERNAL:case jc.UNAVAILABLE:case jc.UNAUTHENTICATED:return!1;case jc.INVALID_ARGUMENT:case jc.NOT_FOUND:case jc.ALREADY_EXISTS:case jc.PERMISSION_DENIED:case jc.FAILED_PRECONDITION:case jc.ABORTED:case jc.OUT_OF_RANGE:case jc.UNIMPLEMENTED:case jc.DATA_LOSS:return!0}}function oh(e){if(void 0===e)return Dc("GRPC error has no .code"),jc.UNKNOWN;switch(e){case eh.OK:return jc.OK;case eh.CANCELLED:return jc.CANCELLED;case eh.UNKNOWN:return jc.UNKNOWN;case eh.DEADLINE_EXCEEDED:return jc.DEADLINE_EXCEEDED;case eh.RESOURCE_EXHAUSTED:return jc.RESOURCE_EXHAUSTED;case eh.INTERNAL:return jc.INTERNAL;case eh.UNAVAILABLE:return jc.UNAVAILABLE;case eh.UNAUTHENTICATED:return jc.UNAUTHENTICATED;case eh.INVALID_ARGUMENT:return jc.INVALID_ARGUMENT;case eh.NOT_FOUND:return jc.NOT_FOUND;case eh.ALREADY_EXISTS:return jc.ALREADY_EXISTS;case eh.PERMISSION_DENIED:return jc.PERMISSION_DENIED;case eh.FAILED_PRECONDITION:return jc.FAILED_PRECONDITION;case eh.ABORTED:return jc.ABORTED;case eh.OUT_OF_RANGE:return jc.OUT_OF_RANGE;case eh.UNIMPLEMENTED:return jc.UNIMPLEMENTED;case eh.DATA_LOSS:return jc.DATA_LOSS;default:return Mc()}}(th=eh||(eh={}))[th.OK=0]="OK",th[th.CANCELLED=1]="CANCELLED",th[th.UNKNOWN=2]="UNKNOWN",th[th.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",th[th.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",th[th.NOT_FOUND=5]="NOT_FOUND",th[th.ALREADY_EXISTS=6]="ALREADY_EXISTS",th[th.PERMISSION_DENIED=7]="PERMISSION_DENIED",th[th.UNAUTHENTICATED=16]="UNAUTHENTICATED",th[th.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",th[th.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",th[th.ABORTED=10]="ABORTED",th[th.OUT_OF_RANGE=11]="OUT_OF_RANGE",th[th.UNIMPLEMENTED=12]="UNIMPLEMENTED",th[th.INTERNAL=13]="INTERNAL",th[th.UNAVAILABLE=14]="UNAVAILABLE",th[th.DATA_LOSS=15]="DATA_LOSS";var uh=function(){function e(t,n){mr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return gr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ll(this.inner,(function(t,n){var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Fl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sh=new Bf(ol.comparator);function ch(){return sh}var lh=new Bf(ol.comparator);function fh(){for(var e=lh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function dh(e){var t=lh;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hh(){return vh()}function ph(){return vh()}function vh(){return new uh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var mh=new Bf(ol.comparator),yh=new Kf(ol.comparator);function gh(){for(var e=yh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bh=new Kf(Yc);function kh(){return bh}var wh=function(){function e(t,n,r,i,a){mr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return gr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(tl.min(),i,kh(),ch(),gh())}}]),e}(),xh=function(){function e(t,n,r,i,a){mr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return gr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,gh(),gh(),gh())}}]),e}(),Sh=gr((function e(t,n,r,i){mr(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),Eh=gr((function e(t,n){mr(this,e),this.targetId=t,this.Rt=n})),_h=gr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;mr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ih=function(){function e(){mr(this,e),this.bt=0,this.vt=Rh(),this.Pt=Bl.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return gr(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=gh(),t=gh(),n=gh();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mc()}})),new xh(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Rh()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Th=function(){function e(t){mr(this,e),this.Lt=t,this.qt=new Map,this.Ut=ch(),this.Kt=Ch(),this.Gt=new Kf(Yc)}return gr(e,[{key:"Qt",value:function(e){var t,n=lr(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=lr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Mc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(nd(i))if(0===n){var a=new ol(i.path);this.zt(t,a,Yf.newNoDocument(a,tl.min()))}else Lc(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&nd(a.target)){var o=new ol(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Yf.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=gh();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new wh(e,n,this.Gt,this.Ut,r);return this.Ut=ch(),this.Kt=Ch(),this.Gt=new Kf(Yc),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new Ih,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Kf(Yc),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Nc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new Ih),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ch(){return new Bf(ol.comparator)}function Rh(){return new Bf(ol.comparator)}var Ah={asc:"ASCENDING",desc:"DESCENDING"},Nh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dh={and:"AND",or:"OR"},Oh=gr((function e(t,n){mr(this,e),this.databaseId=t,this.yt=n}));function Ph(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mh(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Lh(e,t){return Ph(e,t.toTimestamp())}function Fh(e){return Lc(!!e),tl.fromTimestamp(function(e){var t=Wl(e);return new el(t.seconds,t.nanos)}(e))}function jh(e,t){return function(e){return new rl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uh(e){var t=rl.fromString(e);return Lc(sp(t)),t}function Vh(e,t){return jh(e.databaseId,t.path)}function zh(e,t){var n=Uh(t);if(n.get(1)!==e.databaseId.projectId)throw new Uc(jc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uc(jc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ol(Kh(n))}function Bh(e,t){return jh(e.databaseId,t)}function qh(e){var t=Uh(e);return 4===t.length?rl.emptyPath():Kh(t)}function Wh(e){return new rl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kh(e){return Lc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hh(e,t,n){return{name:Vh(e,t),fields:n.value.mapValue.fields}}function Gh(e,t,n){var r=zh(e,t.name),i=Fh(t.updateTime),a=t.createTime?Fh(t.createTime):tl.min(),o=new $f({mapValue:{fields:t.fields}}),u=Yf.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Qh(e,t){return"found"in t?function(e,t){Lc(!!t.found),t.found.name,t.found.updateTime;var n=zh(e,t.found.name),r=Fh(t.found.updateTime),i=t.found.createTime?Fh(t.found.createTime):tl.min(),a=new $f({mapValue:{fields:t.found.fields}});return Yf.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Lc(!!t.missing),Lc(!!t.readTime);var n=zh(e,t.missing),r=Fh(t.readTime);return Yf.newNoDocument(n,r)}(e,t):Mc()}function $h(e,t){var n;if(t instanceof $d)n={update:Hh(e,t.key,t.value)};else if(t instanceof nh)n={delete:Vh(e,t.key)};else if(t instanceof Xd)n={update:Hh(e,t.key,t.data),updateMask:up(t.fieldMask)};else{if(!(t instanceof rh))return Mc();n={verify:Vh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Mc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mc()}(e,t.precondition)),n}function Xh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?zd.updateTime(Fh(e.updateTime)):void 0!==e.exists?zd.exists(e.exists):zd.none()}(t.currentDocument):zd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Lc("REQUEST_TIME"===t.setToServerValue),n=new Nd;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pd(i)}else"increment"in t?n=new Ld(e,t.increment):Mc();var a=al.fromServerFormat(t.fieldPath);return new Ud(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zh(e,t.update.name),a=new $f({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qf(t.map((function(e){return al.fromServerFormat(e)})))}(t.updateMask);return new Xd(i,a,o,n,r)}return new $d(i,a,n,r)}if(t.delete){var u=zh(e,t.delete);return new nh(u,n)}if(t.verify){var s=zh(e,t.verify);return new rh(s,n)}return Mc()}function Yh(e,t){return{documents:[Bh(e,t.path)]}}function Jh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return op(Sf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ip(e.field),direction:tp(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||jl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Zh(e){var t=qh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ep(e);return t instanceof Sf&&If(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Vf(ap(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return jl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gf(n,t)}(n.endAt)),ud(t,i,u,o,s,"F",c,l)}function ep(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ap(e.unaryFilter.field);return xf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ap(e.unaryFilter.field);return xf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ap(e.unaryFilter.field);return xf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ap(e.unaryFilter.field);return xf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mc()}}(e):void 0!==e.fieldFilter?function(e){return xf.create(ap(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sf.create(e.compositeFilter.filters.map((function(e){return ep(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mc()}}(e.compositeFilter.op))}(e):Mc()}function tp(e){return Ah[e]}function np(e){return Nh[e]}function rp(e){return Dh[e]}function ip(e){return{fieldPath:e.canonicalString()}}function ap(e){return al.fromServerFormat(e.fieldPath)}function op(e){return e instanceof xf?function(e){if("=="===e.op){if(lf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NAN"}};if(cf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NAN"}};if(cf(e.value))return{unaryFilter:{field:ip(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(e.field),op:np(e.op),value:e.value}}}(e):e instanceof Sf?function(e){var t=e.getFilters().map((function(e){return op(e)}));return 1===t.length?t[0]:{compositeFilter:{op:rp(e.op),filters:t}}}(e):Mc()}function up(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fp(t)),t=lp(e.get(n),t);return fp(t)}function lp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fp(e){return e+"\x01\x01"}function dp(e){var t=e.length;if(Lc(t>=2),2===t)return Lc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),rl.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mc()}a=o+2}return new rl(r)}var hp=["userId","batchId"];function pp(e,t){return[e,cp(t)]}function vp(e,t,n){return[e,cp(t),n]}var mp={},yp=["prefixPath","collectionGroup","readTime","documentId"],gp=["prefixPath","collectionGroup","documentId"],bp=["collectionGroup","readTime","prefixPath","documentId"],kp=["canonicalId","targetId"],wp=["targetId","path"],xp=["path","targetId"],Sp=["collectionId","parent"],Ep=["indexId","uid"],_p=["uid","sequenceNumber"],Ip=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tp=["indexId","uid","orderedDocumentKey"],Cp=["userId","collectionPath","documentId"],Rp=["userId","collectionPath","largestBatchId"],Ap=["userId","collectionGroup","largestBatchId"],Np=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Dp=[].concat(vr(Np),["documentOverlays"]),Op=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pp=Op,Mp=[].concat(Pp,["indexConfiguration","indexState","indexEntries"]),Lp=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return gr(n)}(yl);function Fp(e,t){var n=Fc(e);return xl.M(n.re,t)}var jp=function(){function e(t,n,r,i){mr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return gr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Kd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=lr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Hd(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=lr(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Hd(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ph();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Wd(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(tl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),gh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,(function(e,t){return Qd(e,t)}))&&Jc(this.baseMutations,e.baseMutations,(function(e,t){return Qd(e,t)}))}}]),e}(),Up=function(){function e(t,n,r,i){mr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return gr(e,null,[{key:"from",value:function(t,n,r){Lc(t.mutations.length===r.length);for(var i=mh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Vp=function(){function e(t,n){mr(this,e),this.largestBatchId=t,this.mutation=n}return gr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tl.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bl.EMPTY_BYTE_STRING;mr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return gr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Bp=gr((function e(t){mr(this,e),this.oe=t}));function qp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Vh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ph(e,t.version.toTimestamp()),createTime:Ph(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kp(t.version)};else{if(!t.isUnknownDocument())return Mc();r.unknownDocument={path:n.path.toArray(),version:Kp(t.version)}}return r}function Wp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hp(e){var t=new el(e.seconds,e.nanoseconds);return tl.fromTimestamp(t)}function Gp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Xh(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Xh(e.oe,t)})),u=el.fromMillis(t.localWriteTimeMs);return new jp(t.batchId,u,n,o)}function Qp(e){var t,n,r=Hp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hp(e.lastLimboFreeSnapshotVersion):tl.min();return void 0!==e.query.documents?(Lc(1===(n=e.query).documents.length),t=pd(sd(qh(n.documents[0])))):t=function(e){return pd(Zh(e))}(e.query),new zp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Bl.fromBase64String(e.resumeToken))}function $p(e,t){var n,r=Kp(t.snapshotVersion),i=Kp(t.lastLimboFreeSnapshotVersion);n=nd(t.target)?Yh(e.oe,t.target):Jh(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ed(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Xp(e){var t=Zh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?md(t,t.limit,"L"):t}function Yp(e,t){return new Vp(t.largestBatchId,Xh(e.oe,t.overlayMutation))}function Jp(e,t){var n=t.path.lastSegment();return[e,cp(t.path.popLast()),n]}function Zp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Kp(r.readTime),documentKey:cp(r.documentKey.path),largestBatchId:r.largestBatchId}}var ev=function(){function e(){mr(this,e)}return gr(e,[{key:"getBundleMetadata",value:function(e,t){return tv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return tv(e).put({bundleId:(n=t).id,createTime:Kp(Fh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return nv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Xp(t.bundledQuery),readTime:Hp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return nv(e).put(function(e){return{name:e.name,readTime:Kp(Fh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function tv(e){return Fp(e,"bundles")}function nv(e){return Fp(e,"namedQueries")}var rv=function(){function e(t,n){mr(this,e),this.Tt=t,this.userId=n}return gr(e,[{key:"getOverlay",value:function(e,t){var n=this;return iv(e).get(Jp(this.userId,t)).next((function(e){return e?Yp(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=hh();return kl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Vp(t,a);i.push(r.ce(e,o))})),kl.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cp(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(iv(e).Y("collectionPathOverlayIndex",i))})),kl.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=hh(),a=cp(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return iv(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=lr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Yp(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=hh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iv(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Yp(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return iv(e).put(function(e,t,n){var r=h(Jp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$h(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function iv(e){return Fp(e,"documentOverlays")}var av=function(){function e(){mr(this,e)}return gr(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Kl(e.integerValue));else if("doubleValue"in e){var n=Kl(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Ul(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Hl(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?hf(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Mc()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),ol.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function ov(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function uv(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ov(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}av.Ee=new av;var sv=function(){function e(){mr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return gr(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=lr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=lr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=uv(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=uv(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),cv=function(){function e(t){mr(this,e),this.Le=t}return gr(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),lv=function(){function e(t){mr(this,e),this.Le=t}return gr(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),fv=function(){function e(){mr(this,e),this.Le=new sv,this.qe=new cv(this.Le),this.Ue=new lv(this.Le)}return gr(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),dv=function(){function e(t,n,r,i){mr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return gr(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hv(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=pv(e.arrayValue,t.arrayValue))?n:0!==(n=pv(e.directionalValue,t.directionalValue))?n:ol.comparator(e.documentKey,t.documentKey)}function pv(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var vv=function(){function e(t){mr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=lr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return gr(e,[{key:"We",value:function(e){Lc(e.collectionGroup===this.collectionId);var t=sl(e);if(void 0!==t&&!this.He(t))return!1;for(var n=cl(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=lr(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function mv(e){var t,n;if(Lc(e instanceof xf||e instanceof Sf),e instanceof xf){if(e instanceof Ff){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return xf.create(e.field,"==",t)})))||[];return Sf.create(r,"or")}return e}var i=e.filters.map((function(e){return mv(e)}));return Sf.create(i,e.op)}function yv(e){if(0===e.getFilters().length)return[];var t=wv(mv(e));return Lc(kv(t)),gv(t)||bv(t)?[t]:t.getFilters()}function gv(e){return e instanceof xf}function bv(e){return e instanceof Sf&&If(e)}function kv(e){return gv(e)||bv(e)||function(e){if(e instanceof Sf&&_f(e)){var t,n=lr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!gv(r)&&!bv(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function wv(e){if(Lc(e instanceof xf||e instanceof Sf),e instanceof xf)return e;if(1===e.filters.length)return wv(e.filters[0]);var t=e.filters.map((function(e){return wv(e)})),n=Sf.create(t,e.op);return kv(n=Ev(n))?n:(Lc(n instanceof Sf),Lc(Ef(n)),Lc(n.filters.length>1),n.filters.reduce((function(e,t){return xv(e,t)})))}function xv(e,t){var n;return Lc(e instanceof xf||e instanceof Sf),Lc(t instanceof xf||t instanceof Sf),n=e instanceof xf?t instanceof xf?function(e,t){return Sf.create([e,t],"and")}(e,t):Sv(e,t):t instanceof xf?Sv(t,e):function(e,t){if(Lc(e.filters.length>0&&t.filters.length>0),Ef(e)&&Ef(t))return Af(e,t.getFilters());var n=_f(e)?e:t,r=_f(e)?t:e,i=n.filters.map((function(e){return xv(e,r)}));return Sf.create(i,"or")}(e,t),Ev(n)}function Sv(e,t){if(Ef(t))return Af(t,e.getFilters());var n=t.filters.map((function(t){return xv(e,t)}));return Sf.create(n,"or")}function Ev(e){if(Lc(e instanceof xf||e instanceof Sf),e instanceof xf)return e;var t=e.getFilters();if(1===t.length)return Ev(t[0]);if(Tf(e))return e;var n=t.map((function(e){return Ev(e)})),r=[];return n.forEach((function(t){t instanceof xf?r.push(t):t instanceof Sf&&(t.op===e.op?r.push.apply(r,vr(t.filters)):r.push(t))})),1===r.length?r[0]:Sf.create(r,e.op)}var _v=function(){function e(){mr(this,e),this.Ze=new Iv}return gr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),kl.resolve()}},{key:"getCollectionParents",value:function(e,t){return kl.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kl.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kl.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kl.resolve(null)}},{key:"getIndexType",value:function(e,t){return kl.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kl.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kl.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kl.resolve(pl.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return kl.resolve(pl.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kl.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kl.resolve()}}]),e}(),Iv=function(){function e(){mr(this,e),this.index={}}return gr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Kf(rl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Kf(rl.comparator)).toArray()}}]),e}(),Tv=new Uint8Array(0),Cv=function(){function e(t,n){mr(this,e),this.user=t,this.databaseId=n,this.Xe=new Iv,this.tn=new uh((function(e){return ed(e)}),(function(e,t){return td(e,t)})),this.uid=t.uid||""}return gr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:cp(i)};return Rv(e).put(a)}return kl.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zc(t),""],!1,!0);return Rv(e).W(r).next((function(e){var r,i=lr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Nv(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Dv(e);return a.next((function(e){o.put(Zp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Nv(e),r=Dv(e),i=Av(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Av(e),i=!0,a=new Map;return kl.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=gh(),o=[];return kl.forEach(a,(function(i,a){var u;Nc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ed(t)));var s=function(e,t){var n=sl(t);if(void 0===n)return null;var r,i=lr(rd(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=lr(cl(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=lr(rd(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=lr(cl(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?id(e,o.fieldPath,e.startAt):ad(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=lr(cl(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ad(e,o.fieldPath,e.endAt):id(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new gf(r,i)}(a,i),d=n.sn(i,a,l),h=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return kl.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ol.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return kl.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:yv(Sf.create(e.filters,"and")).map((function(t){return Zf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[d/c]):Tv,f=u.cn(e,s,n[d%c],r),h=u.an(e,s,i[d%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,vr(u.createRange(f,h,p)))},d=0;d<s;++d)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new dv(e,ol.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new dv(e,ol.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new vv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=lr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return kl.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Kf(al.comparator),r=!1,i=lr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=lr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=lr(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new fv,i=lr(cl(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);av.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new fv;return av.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new fv;return av.Ee.ae(of(this.databaseId,t),n.Ke(function(e){var t=cl(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new fv);var i,a=0,o=lr(cl(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=lr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&sf(c))r=this.dn(r,s,c);else{var d=f.Ke(s.kind);av.Ee.ae(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=vr(e),a=[],o=lr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=lr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new fv;f.seed(l.Be()),av.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof xf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Nv(e),i=Dv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return kl.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new fl(t.sequenceNumber,new pl(Hp(t.readTime),new ol(dp(t.documentKey)),t.largestBatchId)):fl.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new ll(al.fromServerFormat(n),r)}));return new ul(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Nv(e),a=Dv(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kl.forEach(t,(function(t){return a.put(Zp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kl.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kl.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kl.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?kl.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return Av(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return Av(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=Av(e),i=new Kf(hv);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new dv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Kf(hv),r=this.hn(t,e);if(null==r)return n;var i=sl(t);if(null!=i){var a=e.data.field(i.fieldPath);if(sf(a)){var o,u=lr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new dv(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new dv(t.indexId,e.key,Tv,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Nc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Gf(a),s=Gf(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Gf(o)):l?(i(u),u=Gf(a)):(u=Gf(a),s=Gf(o))}}(r,i,hv,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),kl.waitFor(o)}},{key:"wn",value:function(e){var t=1;return Dv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hv(e,t)})).filter((function(e,t,n){return!t||0!==hv(e,n[t-1])}));var r=[];r.push(e);var i,a=lr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hv(o,e),s=hv(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Tv,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Tv,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Tn",value:function(e,t){return hv(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ov)}},{key:"getMinOffset",value:function(e,t){var n=this;return kl.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||Mc()}))})).next(Ov)}}]),e}();function Rv(e){return Fp(e,"collectionParents")}function Av(e){return Fp(e,"indexEntries")}function Nv(e){return Fp(e,"indexConfiguration")}function Dv(e){return Fp(e,"indexState")}function Ov(e){Lc(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;vl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new pl(t.readTime,t.documentKey,n)}var Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mv=function(){function e(t,n,r){mr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return gr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Lc(1===u)})));var c,l=[],f=lr(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=vp(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return kl.waitFor(a).next((function(){return l}))}function Fv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mc();t=e.noDocument}return JSON.stringify(t).length}Mv.DEFAULT_COLLECTION_PERCENTILE=10,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mv.DEFAULT=new Mv(41943040,Mv.DEFAULT_COLLECTION_PERCENTILE,Mv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mv.DISABLED=new Mv(-1,0,0);var jv=function(){function e(t,n,r,i){mr(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return gr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vv(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=zv(e),o=Vv(e);return o.add({}).next((function(u){Lc("number"==typeof u);var s,c=new jp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return $h(e.oe,t)})),i=n.mutations.map((function(t){return $h(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],d=new Kf((function(e,t){return Yc(e.canonicalString(),t.canonicalString())})),h=lr(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=vp(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mp))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),kl.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vv(e).get(t).next((function(e){return e?(Lc(e.userId===n.userId),Gp(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?kl.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Vv(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Lc(t.batchId>=r),a=Gp(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vv(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vv(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Gp(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return zv(e).X({range:i},(function(r,i,o){var u=h(r,3),s=u[0],c=u[1],l=u[2],f=dp(c);if(s===n.userId&&t.path.isEqual(f))return Vv(e).get(l).next((function(e){if(!e)throw Mc();Lc(e.userId===n.userId),a.push(Gp(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kf(Yc),i=[];return t.forEach((function(t){var a=pp(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=zv(e).X({range:o},(function(e,i,a){var o=h(e,3),u=o[0],s=o[1],c=o[2],l=dp(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),kl.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pp(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Kf(Yc);return zv(e).X({range:o},(function(e,t,a){var o=h(e,3),s=o[0],c=o[1],l=o[2],f=dp(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vv(e).get(t).next((function(e){if(null===e)throw Mc();Lc(e.userId===n.userId),r.push(Gp(n.Tt,e))})))})),kl.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lv(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),kl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kl.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return zv(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dp(e[1]);i.push(a)}else r.done()})).next((function(){Lc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Uv(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return Bv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return Lc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Uv(e,t,n){var r=pp(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return zv(e).X({range:a,Z:!0},(function(e,n,r){var a=h(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Vv(e){return Fp(e,"mutations")}function zv(e){return Fp(e,"documentMutations")}function Bv(e){return Fp(e,"mutationQueues")}var qv=function(){function e(t){mr(this,e),this.Pn=t}return gr(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),Wv=function(){function e(t,n){mr(this,e),this.referenceDelegate=t,this.Tt=n}return gr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new qv(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return tl.fromTimestamp(new el(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kv(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return Lc(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Kv(e).X((function(o,u){var s=Qp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return kl.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Kv(e).X((function(e,n){var r=Qp(n);t(r)}))}},{key:"Dn",value:function(e){return Hv(e).get("targetGlobalKey").next((function(e){return Lc(null!==e),e}))}},{key:"Cn",value:function(e,t){return Hv(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return Kv(e).put($p(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ed(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kv(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Qp(n);td(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Gv(e);return t.forEach((function(t){var o=cp(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kl.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Gv(e);return kl.forEach(t,(function(t){var a=cp(t.path);return kl.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Gv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gv(e),i=gh();return r.X({range:n,Z:!0},(function(e,t,n){var r=dp(e[1]),a=new ol(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cp(t.path),r=IDBKeyRange.bound([n],[Zc(n)],!1,!0),i=0;return Gv(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return Kv(e).get(t).next((function(e){return e?Qp(e):null}))}}]),e}();function Kv(e){return Fp(e,"targets")}function Hv(e){return Fp(e,"targetGlobal")}function Gv(e){return Fp(e,"targetDocuments")}function Qv(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],u=a[1],s=Yc(r,o);return 0===s?Yc(i,u):s}var $v=function(){function e(t){mr(this,e),this.kn=t,this.buffer=new Kf(Qv),this.On=0}return gr(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Xv=function(){function e(t,n,r){mr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return gr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;Nc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!_l(e.t0)){e.next=12;break}Nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,gl(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Yv=function(){function e(t,n){mr(this,e),this.Ln=t,this.params=n}return gr(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kl.resolve(Dl.at);var r=new $v(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; disabled"),kl.resolve(Pv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Pv):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Nc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ac()<=ri.DEBUG&&Nc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),kl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Jv=function(){function e(t,n){mr(this,e),this.db=t,this.garbageCollector=function(e,t){return new Yv(e,t)}(this,n)}return gr(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Zv(e,n)}},{key:"removeReference",value:function(e,t,n){return Zv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Zv(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return Bv(e).tt((function(r){return Uv(e,r,t).next((function(e){return e&&(n=!0),kl.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,tl.min()),Gv(e).delete([0,cp(o.path)])}))}));i.push(s)}})).next((function(){return kl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Zv(e,t)}},{key:"Qn",value:function(e,t){var n,r=Gv(e),i=Dl.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Dl.at&&t(new ol(dp(n)),i),i=s,n=u):i=Dl.at})).next((function(){i!==Dl.at&&t(new ol(dp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Zv(e,t){return Gv(e).put(function(e,t){return{targetId:0,path:cp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var em=function(){function e(){mr(this,e),this.changes=new uh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return gr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Yf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kl.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),tm=function(){function e(t){mr(this,e),this.Tt=t}return gr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return am(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return am(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Yf.newInvalidDocument(t);return am(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Yf.newInvalidDocument(t)};return am(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(om(t))},(function(e,i){r={document:n.Wn(t,i),size:Fv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ch();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=ch(),i=new Bf(ol.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,Fv(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return kl.resolve();var r=new Kf(sm);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(om(r.first()),om(r.last())),a=r.getIterator(),o=a.getNext();return am(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ol.fromSegments([].concat(vr(t.prefixPath),[t.collectionGroup,t.documentId]));o&&sm(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(om(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Wp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return am(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=ch(),o=lr(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(ol.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(kd(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ch(),o=um(t,n),u=um(t,pl.max());return am(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(ol.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new rm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return im(e).get("remoteDocumentGlobalKey").next((function(e){return Lc(!!e),e}))}},{key:"zn",value:function(e,t){return im(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Gh(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ol.fromSegments(t.noDocument.path),i=Hp(t.noDocument.readTime);n=Yf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mc();var a=ol.fromSegments(t.unknownDocument.path),o=Hp(t.unknownDocument.version);n=Yf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new el(e[0],e[1]);return tl.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(tl.min()))return n}return Yf.newInvalidDocument(e)}}]),e}();function nm(e){return new tm(e)}var rm=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new uh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return gr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Kf((function(e,t){return Yc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=qp(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=Fv(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=qp(t.Xn.Tt,o.convertToNoDocument(tl.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),kl.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(em);function im(e){return Fp(e,"remoteDocumentGlobal")}function am(e){return Fp(e,"remoteDocumentsV14")}function om(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function um(e,t){var n=t.documentKey.path.toArray();return[e,Wp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sm(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Yc(n[a],r[a]))return i;return(i=Yc(n.length,r.length))||((i=Yc(n[n.length-2],r[r.length-2]))||Yc(n[n.length-1],r[r.length-1]))}var cm=gr((function e(t,n){mr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),lm=function(){function e(t,n,r,i){mr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return gr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Hd(r.mutation,e,Qf.empty(),el.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,gh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gh(),i=hh();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=fh();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hh();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,gh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ch(),a=vh(),o=vh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Xd)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Hd(o.mutation,t,o.mutation.getFieldMask(),el.now())):a.set(t.key,Qf.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new cm(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=vh(),i=new Bf((function(e,t){return e-t})),a=gh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=lr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||gh()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=ph();c.forEach((function(e){if(!a.has(e)){var n=Wd(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return kl.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ol.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):kl.resolve(hh()),u=-1,s=a;return o.next((function(t){return kl.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?kl.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,gh())})).next((function(e){return{batchId:u,changes:dh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ol(t)).next((function(e){var t=fh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=fh();return this.indexManager.getCollectionParents(e,i).next((function(o){return kl.forEach(o,(function(o){var u=function(e,t){return new od(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yf.newInvalidDocument(r)))}));var n=fh();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Hd(a.mutation,i,Qf.empty(),el.now()),kd(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),fm=function(){function e(t){mr(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return gr(e,[{key:"getBundleMetadata",value:function(e,t){return kl.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Fh(n.createTime)}),kl.resolve()}},{key:"getNamedQuery",value:function(e,t){return kl.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Xp(e.bundledQuery),readTime:Fh(e.readTime)}}(t)),kl.resolve()}}]),e}(),dm=function(){function e(){mr(this,e),this.overlays=new Bf(ol.comparator),this.ss=new Map}return gr(e,[{key:"getOverlay",value:function(e,t){return kl.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hh();return kl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),kl.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),kl.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hh(),i=t.length+1,a=new ol(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return kl.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=hh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=hh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return kl.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Vp(t,n));var a=this.ss.get(t);void 0===a&&(a=gh(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),hm=function(){function e(){mr(this,e),this.rs=new Kf(pm.os),this.us=new Kf(pm.cs)}return gr(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pm(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new pm(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new ol(new rl([])),r=new pm(n,e),i=new pm(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new ol(new rl([])),n=new pm(t,e),r=new pm(t,e+1),i=gh();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pm(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),pm=function(){function e(t,n){mr(this,e),this.key=t,this.gs=n}return gr(e,null,[{key:"os",value:function(e,t){return ol.comparator(e.key,t.key)||Yc(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Yc(e.gs,t.gs)||ol.comparator(e.key,t.key)}}]),e}(),vm=function(){function e(t,n){mr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Kf(pm.os)}return gr(e,[{key:"checkEmpty",value:function(e){return kl.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jp(i,t,n,r);this.mutationQueue.push(a);var o,u=lr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new pm(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return kl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kl.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return kl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kl.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return kl.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pm(t,0),i=new pm(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),kl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Kf(Yc);return t.forEach((function(e){var t=new pm(e,0),i=new pm(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),kl.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ol.isDocumentKey(i)||(i=i.child(""));var a=new pm(new ol(i),0),o=new Kf(Yc);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),kl.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Lc(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return kl.forEach(t.mutations,(function(i){var a=new pm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pm(t,0),r=this.ps.firstAfterOrEqual(n);return kl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,kl.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),mm=function(){function e(t){mr(this,e),this.Rs=t,this.docs=new Bf(ol.comparator),this.size=0}return gr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kl.resolve(n?n.document.mutableCopy():Yf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ch();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Yf.newInvalidDocument(e))})),kl.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ch(),a=t.path,o=new ol(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||vl(hl(l),n)<=0||(r.has(l.key)||kd(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return kl.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Mc()}},{key:"bs",value:function(e,t){return kl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ym(this)}},{key:"getSize",value:function(e){return kl.resolve(this.size)}}]),e}(),ym=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).Xn=e,r}return gr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),kl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(em),gm=function(){function e(t){mr(this,e),this.persistence=t,this.vs=new uh((function(e){return ed(e)}),td),this.lastRemoteSnapshotVersion=tl.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new hm,this.targetCount=0,this.Ss=qv.Vn()}return gr(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),kl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kl.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),kl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),kl.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new qv(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,kl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),kl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,kl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),kl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return kl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),kl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),kl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return kl.resolve(n)}},{key:"containsKey",value:function(e,t){return kl.resolve(this.Vs.containsKey(t))}}]),e}(),bm=function(){function e(t,n){var r=this;mr(this,e),this.Ds={},this.overlays={},this.Cs=new Dl(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new gm(this),this.indexManager=new _v,this.remoteDocumentCache=new mm((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new Bp(n),this.Os=new fm(this.Tt)}return gr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new dm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new vm(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Nc("MemoryPersistence","Starting transaction:",e);var i=new km(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return kl.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),km=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return gr(n)}(yl),wm=function(){function e(t){mr(this,e),this.persistence=t,this.Bs=new hm,this.Ls=null}return gr(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Mc()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),kl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),kl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),kl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kl.forEach(this.Us,(function(r){var i=ol.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,tl.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return kl.or([function(){return kl.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),xm=function(){function e(t){mr(this,e),this.Tt=t}return gr(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new wl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hp,{unique:!0}),e.createObjectStore("documentMutations")}(e),Sm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Sm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hp,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kl.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Cp});t.createIndex("collectionPathOverlayIndex",Rp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ap,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:yp});t.createIndex("documentKeyIndex",gp),t.createIndex("collectionGroupIndex",bp)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ep}).createIndex("sequenceNumberIndex",_p,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ip}).createIndex("documentKeyIndex",Tp,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Fv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return kl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return kl.forEach(r,(function(r){Lc(r.userId===n.userId);var i=Gp(t.Tt,r);return Lv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new rl(n),o=function(e){return[0,cp(e)]}(a);r.push(t.get(o).next((function(n){return n?kl.resolve():function(n){return t.put({targetId:0,path:cp(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kl.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sp});var n=t.store("collectionParents"),r=new Iv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cp(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new rl(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],dp(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Qp(r),a=$p(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ol(rl.fromString(i.document.name).popFirst(5)):i.noDocument?ol.fromSegments(i.noDocument.path):i.unknownDocument?ol.fromSegments(i.unknownDocument.path):Mc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return kl.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=nm(this.Tt),a=new bm(wm.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:gh();Gp(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),kl.forEach(r,(function(e,r){var o=new Tc(r),u=rv.ue(n.Tt,o),s=a.getIndexManager(o),c=jv.ue(o,n.Tt,s,a.referenceDelegate);return new lm(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lp(t,Dl.at),e).next()}))}))}}]),e}();function Sm(e){e.createObjectStore("targetDocuments",{keyPath:wp}).createIndex("documentTargetsIndex",xp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kp,{unique:!0}),e.createObjectStore("targetGlobal")}var Em="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_m=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(mr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Uc(jc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jv(this,i),this.oi=n+"main",this.Tt=new Bp(s),this.ui=new xl(this.oi,this.ti,new xm(this.Tt)),this.Ns=new Wv(this.referenceDelegate,this.Tt),this.remoteDocumentCache=nm(this.Tt),this.Os=new ev,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&Dc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return gr(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uc(jc.FAILED_PRECONDITION,Em);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new Dl(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=s(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Tm(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(_l(t))return Nc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return Im(e).get("owner").next((function(e){return kl.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return Tm(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Fp(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=lr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?kl.resolve(!0):Im(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Uc(jc.FAILED_PRECONDITION,Em);return!1}}return!(!t.networkEnabled||!t.inForeground)||Tm(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Nc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lp(e,Dl.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Tm(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return jv.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Cv(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return rv.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Nc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?Mp:14===i?Pp:13===i?Op:12===i?Dp:11===i?Np:void Mc();return this.ui.runTransaction(e,o,u,(function(i){return a=new Lp(i,r.Cs?r.Cs.next():Dl.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw Dc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Uc(jc.FAILED_PRECONDITION,ml);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return Im(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uc(jc.FAILED_PRECONDITION,Em)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Im(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=Im(e);return n.get("owner").next((function(e){return t.yi(e)?(Nc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kl.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Dc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),!Dr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Nc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Dc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(Ma){Dc("Failed to set zombie client id.",Ma)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(Ma){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return xl.C()}}]),e}();function Im(e){return Fp(e,"owner")}function Tm(e){return Fp(e,"clientMetadata")}function Cm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Rm=function(){function e(t,n,r,i){mr(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return gr(e,null,[{key:"Ni",value:function(t,n){var r,i=gh(),a=gh(),o=lr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Am=function(){function e(){mr(this,e),this.ki=!1}return gr(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(cd(t))return kl.resolve(null);var r=pd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=md(t,null,"F"),r=pd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=gh.apply(void 0,vr(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,md(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return cd(t)||r.isEqual(tl.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(Ac()<=ri.DEBUG&&Nc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bd(t)),i.qi(e,o,t,dl(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Kf(xd(e));return t.forEach((function(t,r){kd(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return Ac()<=ri.DEBUG&&Nc("QueryEngine","Using full collection scan to execute query:",bd(t)),this.Oi.getDocumentsMatchingQuery(e,t,pl.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Nm=function(){function e(t,n,r,i){mr(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Bf(Yc),this.Gi=new uh((function(e){return ed(e)}),td),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return gr(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lm(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function Dm(e,t,n,r){return new Nm(e,t,n,r)}function Om(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=gh(),s=lr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=lr(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=lr(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=lr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Mm(e,t){var n=Fc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Lc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=gh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Lm(e){var t=Fc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Fm(e,t){var n=Fc(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Bl.EMPTY_BYTE_STRING,tl.min()).withLastLimboFreeSnapshotVersion(tl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=ch(),s=gh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jm(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(tl.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return kl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function jm(e,t,n){var r=gh(),i=gh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ch();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(tl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function Um(e,t){var n=Fc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Vm(e,t){var n=Fc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,kl.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new zp(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function zm(e,t,n){return Bm.apply(this,arguments)}function Bm(){return Bm=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fc(t),a=i.Ki.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",u,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_l(e.t1)){e.next=12;break}throw e.t1;case 12:Nc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Bm.apply(this,arguments)}function qm(e,t,n){var r=Fc(e),i=tl.min(),a=gh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fc(e),i=r.Gi.get(n);return void 0!==i?kl.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,pd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:tl.min(),n?a:gh())})).next((function(e){return Hm(r,wd(t),e),{documents:e,Yi:a}}))}))}function Wm(e,t){var n=Fc(e),r=Fc(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function Km(e,t){var n=Fc(e),r=n.Qi.get(t)||tl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,dl(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Hm(n,t,e),e}))}function Hm(e,t,n){var r=e.Qi.get(t)||tl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function Gm(e,t,n,r){return Qm.apply(this,arguments)}function Qm(){return Qm=s(o().mark((function e(t,n,r,i){var a,u,s,c,l,f,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fc(t),u=gh(),s=ch(),c=lr(r);try{for(c.s();!(l=c.n()).done;)f=l.value,d=n.Zi(f.metadata.name),f.document&&(u=u.add(d)),(h=n.Xi(f)).setReadTime(n.tr(f.metadata.readTime)),s=s.insert(d,h)}catch(o){c.e(o)}finally{c.f()}return p=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,Vm(a,function(e){return pd(sd(rl.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jm(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Ns.addMatchingKeys(e,u,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=s(o().mark((function e(t,n){var r,i,a,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:gh(),e.next=3,Vm(t,pd(Xp(n.bundledQuery)));case 3:return i=e.sent,a=Fc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(Bl.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Ym(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Jm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ey=function(){function e(t,n,r,i){mr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return gr(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Dc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ty=function(){function e(t,n,r){mr(this,e),this.targetId=t,this.state=n,this.error=r}return gr(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uc(i.error.code,i.error.message))),a?new e(t,i.state,r):(Dc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ny=function(){function e(t,n){mr(this,e),this.clientId=t,this.activeTargetIds=n}return gr(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Dc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ry=function(){function e(t,n){mr(this,e),this.clientId=t,this.onlineState=n}return gr(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Dc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),iy=function(){function e(){mr(this,e),this.activeTargetIds=kh()}return gr(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ay=function(){function e(t,n,r,i,a){mr(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Bf(Yc),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=Ym(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new iy),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return gr(e,[{key:"start",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a,u,s,c,l,f,d,h=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=lr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ym(this.persistenceKey,i)))&&(u=ny.er(i,a))&&(this.ar=this.ar.insert(u.clientId,u));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(s=this.storage.getItem(this.gr))&&(c=this.Ir(s))&&this.Tr(c),l=lr(this.hr);try{for(l.s();!(f=l.n()).done;)d=f.value,this.cr(d)}catch(o){l.e(o)}finally{l.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zm(this.persistenceKey,e));if(n){var r=ty.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Nc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Nc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Nc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Nc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void Dc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(s(o().mark((function e(){var r,i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(u=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(u));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(s));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}c=function(e){var t=Dl.at;if(null!=e)try{var n=JSON.parse(e);Lc("number"==typeof n),t=n}catch(e){Dc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==Dl.at&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return l=t.Fr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new ey(this.currentUser,e,t,n),i=Jm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Jm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=Zm(this.persistenceKey,e),i=new ty(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return ny.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ey.er(new Tc(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return ty.er(r,t)}},{key:"Ir",value:function(e){return ry.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:Nc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=kh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),oy=function(){function e(){mr(this,e),this.Ur=new iy,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return gr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new iy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uy=function(){function e(){mr(this,e)}return gr(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sy=function(){function e(){var t=this;mr(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return gr(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=lr(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=lr(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ly=function(){function e(t){mr(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return gr(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),fy=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return gr(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new _c;o.setWithCredentials(!0),o.listenOnce(kc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bc.NO_ERROR:var t=o.getResponseJson();Nc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bc.TIMEOUT:Nc("Connection",'RPC "'+e+'" timed out'),a(new Uc(jc.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:var n=o.getStatus();if(Nc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jc).indexOf(t)>=0?t:jc.UNKNOWN}(u.status);a(new Uc(s,u.message))}else a(new Uc(jc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Uc(jc.UNAVAILABLE,"Connection failed."));break;default:Mc()}}finally{Nc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yc(),a=gc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Sc({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Nc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new ly({Yr:function(e){l?Nc("Connection","Not sending because WebChannel is closed:",e):(c||(Nc("Connection","Opening WebChannel transport."),s.open(),c=!0),Nc("Connection","WebChannel sending:",e),s.send(e))},Zr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,Ec.EventType.OPEN,(function(){l||Nc("Connection","WebChannel transport opened.")})),d(s,Ec.EventType.CLOSE,(function(){l||(l=!0,Nc("Connection","WebChannel transport closed"),f.oo())})),d(s,Ec.EventType.ERROR,(function(e){l||(l=!0,Oc("Connection","WebChannel transport errored:",e),f.oo(new Uc(jc.UNAVAILABLE,"The operation could not be completed")))})),d(s,Ec.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Lc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Nc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=eh[e];if(void 0!==t)return oh(t)}(a),u=i.message;void 0===o&&(o=jc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new Uc(o,u)),s.close()}else Nc("Connection","WebChannel received:",n),f.uo(n)}})),d(a,wc.STAT_EVENT,(function(e){e.stat===xc.PROXY?Nc("Connection","Detected buffering proxy"):e.stat===xc.NOPROXY&&Nc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){mr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return gr(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);Nc("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return Nc("RestConnection","Received: ",e),e}),(function(t){throw Oc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=cy[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function dy(){return"undefined"!=typeof window?window:null}function hy(){return"undefined"!=typeof document?document:null}function py(e){return new Oh(e,!0)}var vy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;mr(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return gr(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Nc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),my=function(){function e(t,n,r,i,a,o,u,s){mr(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new vy(t,n)}return gr(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===jc.RESOURCE_EXHAUSTED?(Dc(n.toString()),Dc("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===jc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new Uc(jc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Nc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yy=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a,o,u){var s;return mr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return gr(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Lc(void 0===t||"string"==typeof t),Bl.fromBase64String(t||"")):(Lc(void 0===t||t instanceof Uint8Array),Bl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jc.UNKNOWN:oh(e.code);return new Uc(t,e.message||"")}(o);n=new _h(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zh(e,s.document.name),l=Fh(s.document.updateTime),f=s.document.createTime?Fh(s.document.createTime):tl.min(),d=new $f({mapValue:{fields:s.document.fields}}),h=Yf.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Sh(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=zh(e,m.document),g=m.readTime?Fh(m.readTime):tl.min(),b=Yf.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Sh([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=zh(e,w.document),S=w.removedTargetIds||[];n=new Sh([],S,x,null)}else{if(!("filter"in t))return Mc();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new ih(_),T=E.targetId;n=new Eh(T,I)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return tl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?tl.min():t.readTime?Fh(t.readTime):tl.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Wh(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=nd(r)?{documents:Yh(e,r)}:{query:Jh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Mh(e,t.resumeToken):t.snapshotVersion.compareTo(tl.min())>0&&(n.readTime=Ph(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Wh(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(my),gy=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a,o,u){var s;return mr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return gr(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,sr(ur(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Lc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Lc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fh(e.updateTime):Fh(t);return n.isEqual(tl.min())&&(n=Fh(t)),new Vd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fh(e.commitTime);return this.listener.eu(n,t)}return Lc(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Wh(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $h(t.Tt,e)}))};this.qo(n)}}]),n}(my),by=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a){var o;return mr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return gr(n,[{key:"ru",value:function(){if(this.iu)throw new Uc(jc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uc(jc.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=h(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Uc(jc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return gr((function e(){mr(this,e)}))}());var ky=function(){function e(t,n){mr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return gr(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Dc(t),this.cu=!1):Nc("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),wy=gr((function e(t,n,r,i,a){var u=this;mr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Dy(u),!e.t0){e.next=5;break}return Nc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fc(t)).mu.add(4),e.next=4,Ey(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,xy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new ky(r,i)}));function xy(e){return Sy.apply(this,arguments)}function Sy(){return Sy=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dy(t)){e.next=18;break}n=lr(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sy.apply(this,arguments)}function Ey(e){return _y.apply(this,arguments)}function _y(){return _y=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lr(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),_y.apply(this,arguments)}function Iy(e,t){var n=Fc(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Ny(n)?Ay(n):ug(n).Mo()&&Cy(n,t))}function Ty(e,t){var n=Fc(e),r=ug(n);n.wu.delete(t),r.Mo()&&Ry(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Dy(n)&&n.pu.set("Unknown"))}function Cy(e,t){e.Iu.Ft(t.targetId),ug(e).Jo(t)}function Ry(e,t){e.Iu.Ft(t),ug(e).Yo(t)}function Ay(e){e.Iu=new Th({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),ug(e).start(),e.pu.au()}function Ny(e){return Dy(e)&&!ug(e).Oo()&&e.wu.size>0}function Dy(e){return 0===Fc(e).mu.size}function Oy(e){e.Iu=void 0}function Py(e){return My.apply(this,arguments)}function My(){return My=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Cy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Ly(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oy(t),Ny(t)?(t.pu.fu(n),Ay(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function jy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=s(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof _h&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=lr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(u=a.value,e.t0=t.wu.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.wu.delete(u),t.Iu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Nc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Sh?t.Iu.Qt(n):n instanceof Eh?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(tl.min())){e.next=29;break}return e.prev=14,e.next=17,Lm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Bl.EMPTY_BYTE_STRING,n.snapshotVersion)),Ry(e,t);var r=new zp(n.target,t,1,n.sequenceNumber);Cy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Nc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Uy.apply(this,arguments)}function Vy(e,t,n){return zy.apply(this,arguments)}function zy(){return zy=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_l(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Ey(t);case 5:t.pu.set("Offline"),r||(r=function(){return Lm(t.localStore)}),t.asyncQueue.enqueueRetryable(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,xy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function By(e,t){return t().catch((function(n){return Vy(e,n,t)}))}function qy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fc(t),r=sg(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Ky(n)){e.next=19;break}return e.prev=3,e.next=6,Um(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,Hy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vy(n,e.t0);case 17:e.next=2;break;case 19:Gy(n)&&Qy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Wy.apply(this,arguments)}function Ky(e){return Dy(e)&&e._u.length<10}function Hy(e,t){e._u.push(t);var n=sg(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Gy(e){return Dy(e)&&!sg(e).Oo()&&e._u.length>0}function Qy(e){sg(e).start()}function $y(e){return Xy.apply(this,arguments)}function Xy(){return Xy=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sg(t).su();case 1:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Yy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sg(t),r=lr(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e,t,n){return eg.apply(this,arguments)}function eg(){return eg=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=Up.from(i,n,r),e.next=3,By(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,qy(t);case 5:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sg(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ah(i=n.code)||i===jc.ABORTED){e.next=7;break}return r=t._u.shift(),sg(t).$o(),e.next=5,By(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,qy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gy(t)&&Qy(t);case 5:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){return ig.apply(this,arguments)}function ig(){return ig=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fc(t)).asyncQueue.verifyOperationInProgress(),Nc("RemoteStore","RemoteStore received new credentials"),i=Dy(r),r.mu.add(3),e.next=6,Ey(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,xy(r);case 12:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t){return og.apply(this,arguments)}function og(){return og=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,xy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Ey(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}function ug(e){return e.Tu||(e.Tu=function(e,t,n){var r=Fc(e);return r.ru(),new yy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Py.bind(null,e),no:Ly.bind(null,e),Ho:jy.bind(null,e)}),e.gu.push(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),Ny(e)?Ay(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:Oy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function sg(e){return e.Eu||(e.Eu=function(e,t,n){var r=Fc(e);return r.ru(),new gy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:$y.bind(null,e),no:tg.bind(null,e),nu:Yy.bind(null,e),eu:Zy.bind(null,e)}),e.gu.push(function(){var t=s(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,qy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Nc("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var cg=function(){function e(t,n,r,i,a){mr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return gr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uc(jc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lg(e,t){if(Dc("AsyncQueue","".concat(t,": ").concat(e)),_l(e))return new Uc(jc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fg=function(){function e(t){mr(this,e),this.comparator=t?function(e,n){return t(e,n)||ol.comparator(e.key,n.key)}:function(e,t){return ol.comparator(e.key,t.key)},this.keyedMap=fh(),this.sortedSet=new Bf(this.comparator)}return gr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),dg=function(){function e(){mr(this,e),this.Au=new Bf(ol.comparator)}return gr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Mc():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hg=function(){function e(t,n,r,i,a,o,u,s,c){mr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return gr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,fg.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),pg=gr((function e(){mr(this,e),this.bu=void 0,this.listeners=[]})),vg=gr((function e(){mr(this,e),this.queries=new uh((function(e){return gd(e)}),yd),this.onlineState="Unknown",this.vu=new Set}));function mg(e,t){return yg.apply(this,arguments)}function yg(){return yg=s(o().mark((function e(t,n){var r,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=n.query,a=!1,(u=r.queries.get(i))||(a=!0,u=new pg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:u.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=lg(e.t0,"Initialization of query '".concat(bd(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,u),u.listeners.push(n),n.Pu(r.onlineState),u.bu&&n.Vu(u.bu)&&xg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),yg.apply(this,arguments)}function gg(e,t){return bg.apply(this,arguments)}function bg(){return bg=s(o().mark((function e(t,n){var r,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=n.query,a=!1,(u=r.queries.get(i))&&(s=u.listeners.indexOf(n))>=0&&(u.listeners.splice(s,1),a=0===u.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function kg(e,t){var n,r=Fc(e),i=!1,a=lr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=lr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.bu=o}}}catch(f){a.e(f)}finally{a.f()}i&&xg(r)}function wg(e,t,n){var r=Fc(e),i=r.queries.get(t);if(i){var a,o=lr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function xg(e){e.vu.forEach((function(e){e.next()}))}var Sg=function(){function e(t,n,r){mr(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return gr(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=lr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=hg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),Eg=function(){function e(t,n){mr(this,e),this.Mu=t,this.byteLength=n}return gr(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),_g=function(){function e(t){mr(this,e),this.Tt=t}return gr(e,[{key:"Zi",value:function(e){return zh(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Gh(this.Tt,e.document,!1):Yf.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return Fh(e)}}]),e}(),Ig=function(){function e(t,n,r){mr(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Tg(t)}return gr(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=rl.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new _g(this.Tt),i=lr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=lr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||gh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gm(this.localStore,new _g(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=lr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,$m(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Cg=gr((function e(t){mr(this,e),this.key=t})),Rg=gr((function e(t){mr(this,e),this.key=t})),Ag=function(){function e(t,n){mr(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=gh(),this.mutatedKeys=gh(),this.ju=xd(t),this.zu=new fg(this.ju)}return gr(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new dg,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kd(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mc()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new hg(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new dg,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=gh(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new Rg(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new Cg(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=gh();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return hg.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),Ng=gr((function e(t,n,r){mr(this,e),this.query=t,this.targetId=n,this.view=r})),Dg=gr((function e(t){mr(this,e),this.key=t,this.ic=!1})),Og=function(){function e(t,n,r,i,a,o){mr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new uh((function(e){return gd(e)}),yd),this.uc=new Map,this.cc=new Set,this.ac=new Bf(ol.comparator),this.hc=new Map,this.lc=new hm,this.fc={},this.dc=new Map,this._c=qv.Sn(),this.onlineState="Unknown",this.wc=void 0}return gr(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function Pg(e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=s(o().mark((function e(t,n){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tb(t),!(u=r.oc.get(n))){e.next=6;break}i=u.targetId,r.sharedClientState.addLocalQueryTarget(i),a=u.view.sc(),e.next=15;break;case 6:return e.next=8,Vm(r.localStore,pd(n));case 8:return s=e.sent,r.isPrimaryClient&&Iy(r.remoteStore,s),c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Lg(r,n,i,"current"===c,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Lg(e,t,n,r,i){return Fg.apply(this,arguments)}function Fg(){return Fg=s(o().mark((function e(t,n,r,i,a){var u,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,qm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return u=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,u),e.abrupt("return",(rb(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,qm(t.localStore,n,!0);case 3:return u=e.sent,c=new Ag(n,u.Yi),l=c.Hu(u.documents),f=xh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),d=c.applyChanges(l,t.isPrimaryClient,f),rb(t,r,d.tc),h=new Ng(n,r,c),e.abrupt("return",(t.oc.set(n,h),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),d.snapshot));case 11:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function jg(e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!yd(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ty(r.remoteStore,i.targetId),tb(r,i.targetId)})).catch(gl);case 9:e.next=14;break;case 11:return tb(r,i.targetId),e.next=14,zm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function Vg(e,t,n){return zg.apply(this,arguments)}function zg(){return zg=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cb(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Fc(e),a=el.now(),o=t.reduce((function(e,t){return e.add(t.key)}),gh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ch(),s=gh();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=lr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Gd(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Xd(c.key,l,Xf(l.value.mapValue),zd.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:dh(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new Bf(Yc)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ob(i,a.changes);case 9:return e.next=11,qy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=lg(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),zg.apply(this,arguments)}function Bg(e,t){return qg.apply(this,arguments)}function qg(){return qg=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.prev=1,e.next=4,Fm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Lc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Lc(n.ic):e.removedDocuments.size>0&&(Lc(n.ic),n.ic=!1))})),e.next=8,ob(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,gl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),qg.apply(this,arguments)}function Wg(e,t,n){var r=Fc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=lr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xg(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Kg(e,t,n){return Hg.apply(this,arguments)}function Hg(){return Hg=s(o().mark((function e(t,n,r){var i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(u=a&&a.key)){e.next=14;break}return s=(s=new Bf(ol.comparator)).insert(u,Yf.newNoDocument(u,tl.min())),c=gh().add(u),l=new wh(tl.min(),new Map,new Kf(Yc),s,c),e.next=9,Bg(i,l);case 9:i.ac=i.ac.remove(u),i.hc.delete(n),ab(i),e.next=16;break;case 14:return e.next=16,zm(i.localStore,n,!1).then((function(){return tb(i,n,r)})).catch(gl);case 16:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Gg(e,t){return Qg.apply(this,arguments)}function Qg(){return Qg=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),i=n.batch.batchId,e.prev=1,e.next=4,Mm(r.localStore,n);case 4:return a=e.sent,eb(r,i,null),Zg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ob(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qg.apply(this,arguments)}function $g(e,t,n){return Xg.apply(this,arguments)}function Xg(){return Xg=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fc(t),e.prev=1,e.next=4,function(e,t){var n=Fc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Lc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,eb(i,n,r),Zg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ob(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Xg.apply(this,arguments)}function Yg(e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dy((r=Fc(t)).remoteStore)||Nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),u=lg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(u);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Jg.apply(this,arguments)}function Zg(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function eb(e,t,n){var r=Fc(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function tb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=lr(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||nb(e,t)}))}function nb(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Ty(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),ab(e))}function rb(e,t,n){var r,i=lr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Cg?(e.lc.addReference(a.key,t),ib(e,a)):a instanceof Rg?(Nc("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||nb(e,a.key)):Mc()}}catch(o){i.e(o)}finally{i.f()}}function ib(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Nc("SyncEngine","New document in limbo: "+n),e.cc.add(r),ab(e))}function ab(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new ol(rl.fromString(t)),r=e._c.next();e.hc.set(r,new Dg(n)),e.ac=e.ac.insert(n,r),Iy(e.remoteStore,new zp(pd(sd(n.path)),r,2,Dl.at))}}function ob(e,t,n){return ub.apply(this,arguments)}function ub(){return ub=s(o().mark((function e(t,n,r){var i,a,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fc(t),a=[],u=[],c=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){c.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Rm.Ni(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.rc.Ho(a),e.next=9,function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kl.forEach(n,(function(t){return kl.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kl.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_l(e.t0)){e.next=10;break}throw e.t0;case 10:Nc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=lr(n);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.targetId,u.fromCache||(c=r.Ki.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ki=r.Ki.insert(s,f))}catch(o){i.e(o)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function sb(e,t){return cb.apply(this,arguments)}function cb(){return cb=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fc(t)).currentUser.isEqual(n)){e.next=11;break}return Nc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Om(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Uc(jc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ob(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t){var n=Fc(e),r=n.hc.get(t);if(r&&r.ic)return gh().add(r.key);var i=gh(),a=n.uc.get(t);if(!a)return i;var o,u=lr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function fb(e,t){return db.apply(this,arguments)}function db(){return db=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.next=3,qm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&rb(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function hb(e,t){return pb.apply(this,arguments)}function pb(){return pb=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.abrupt("return",Km(r.localStore,n).then((function(e){return ob(r,e)})));case 2:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t,n,r){return mb.apply(this,arguments)}function mb(){return mb=s(o().mark((function e(t,n,r,i){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fc(t),e.next=3,function(e,t){var n=Fc(e),r=Fc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):kl.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(u=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,qy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(eb(a,n,i||null),Zg(a,n),function(e,t){Fc(Fc(e).mutationQueue).bn(t)}(a.localStore,n)):Mc();case 11:return e.next=13,ob(a,u);case 13:e.next=16;break;case 15:Nc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=s(o().mark((function e(t,n){var r,i,a,u,s,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tb(r=Fc(t)),Cb(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,bb(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,ag(r.remoteStore,!0);case 9:u=lr(a);try{for(u.s();!(s=u.n()).done;)c=s.value,Iy(r.remoteStore,c)}catch(o){u.e(o)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return l=[],f=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return tb(r,t),zm(r.localStore,t,!0)})),Ty(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,bb(r,l);case 21:return function(e){var t=Fc(e);t.hc.forEach((function(e,n){Ty(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new Bf(ol.comparator)}(r),r.wc=!1,e.next=25,ag(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function bb(e,t,n){return kb.apply(this,arguments)}function kb(){return kb=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h,p,v,m,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fc(t),a=[],u=[],s=lr(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(d=i.uc.get(l))||0===d.length){e.next=34;break}return e.next=11,Vm(i.localStore,pd(d[0]));case 11:f=e.sent,h=lr(d),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,m=i.oc.get(v),e.next=20,fb(i,m);case 20:(y=e.sent).snapshot&&u.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Wm(i.localStore,l);case 36:return g=e.sent,e.next=39,Vm(i.localStore,g);case 39:return f=e.sent,e.next=42,Lg(i,wb(g),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(u),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kb.apply(this,arguments)}function wb(e){return ud(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xb(e){var t=Fc(e);return Fc(Fc(t.localStore).persistence).Si()}function Sb(e,t,n,r){return Eb.apply(this,arguments)}function Eb(){return Eb=s(o().mark((function e(t,n,r,i){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fc(t)).wc){e.next=3;break}return e.abrupt("return",void Nc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((u=a.uc.get(n))&&u.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Km(a.localStore,wd(u[0]));case 10:return s=e.sent,c=wh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Bl.EMPTY_BYTE_STRING),e.next=14,ob(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,zm(a.localStore,n,!0);case 17:return tb(a,n,i),e.abrupt("break",20);case 19:Mc();case 20:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function _b(e,t,n){return Ib.apply(this,arguments)}function Ib(){return Ib=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Tb(t)).wc){e.next=45;break}a=lr(n),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=21;break}if(s=u.value,!i.uc.has(s)){e.next=10;break}return Nc("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Wm(i.localStore,s);case 12:return c=e.sent,e.next=15,Vm(i.localStore,c);case 15:return l=e.sent,e.next=18,Lg(i,wb(c),l.targetId,!1,l.resumeToken);case 18:Iy(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=lr(r),e.prev=30,h=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,zm(i.localStore,t,!1).then((function(){Ty(i.remoteStore,t),tb(i,t)})).catch(gl);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((d=f.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ib.apply(this,arguments)}function Tb(e){var t=Fc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kg.bind(null,t),t.rc.Ho=kg.bind(null,t.eventManager),t.rc.gc=wg.bind(null,t.eventManager),t}function Cb(e){var t=Fc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$g.bind(null,t),t}function Rb(e,t,n){var r=Fc(e);(function(){var e=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fc(e),r=Fh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Tg(i)),a=new Ig(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:u=e.sent;case 16:if(!u){e.next=26;break}return e.next=19,a.Bu(u);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.yc();case 23:u=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,ob(t,c.Uu,void 0);case 31:return e.next=33,function(e,t){var n=Fc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Oc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Ab=function(){function e(){mr(this,e),this.synchronizeTabs=!1}return gr(e,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=py(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return Dm(this.persistence,new Am,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new bm(wm.qs,this.Tt)}},{key:"Ic",value:function(e){return new oy}},{key:"terminate",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nb=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return gr(n,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(ur(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,Cb(this.bc.syncEngine);case 6:return e.next=8,qy(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return Dm(this.persistence,new Am,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Xv(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Nl(t,this.persistence);return new Al(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mv.withCacheSize(this.cacheSizeBytes):Mv.DEFAULT;return new _m(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dy(),hy(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new oy}}]),n}(Ab),Db=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return gr(n,[{key:"initialize",value:function(){var e=s(o().mark((function e(t){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(ur(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof ay,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:vb.bind(null,r),Lr:Sb.bind(null,r),qr:_b.bind(null,r),Si:xb.bind(null,r),$r:hb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yb(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=dy();if(!ay.C(t))throw new Uc(jc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Nb),Ob=function(){function e(){mr(this,e)}return gr(e,[{key:"initialize",value:function(){var e=s(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Wg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sb.bind(null,this.syncEngine),e.next=12,ag(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vg}},{key:"createDatastore",value:function(e){var t,n=py(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new fy(t));return function(e,t,n,r){return new by(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Wg(o.syncEngine,e,0)},a=sy.C()?new sy:new uy,new wy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Og(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fc(t),Nc("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Ey(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Pb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return s(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Mb=function(){function e(t){mr(this,e),this.observer=t,this.muted=!1}return gr(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Dc("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Lb=function(){function e(t,n){var r=this;mr(this,e),this.Vc=t,this.Tt=n,this.metadata=new Vc,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return gr(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=s(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new Eg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fb=function(){function e(t){mr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return gr(e,[{key:"lookup",value:function(){var e=s(o().mark((function e(t){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uc(jc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),i=Wh(r.Tt)+"/documents",a={documents:n.map((function(e){return Vh(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return u=e.sent,s=new Map,u.forEach((function(e){var t=Qh(r.Tt,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Lc(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=s(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ol.fromPath(t);n.mutations.push(new rh(r,n.precondition(r)))})),e.next=7,function(){var e=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),i=Wh(r.Tt)+"/documents",a={writes:n.map((function(e){return $h(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mc();t=tl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uc(jc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(tl.min())?zd.exists(!1):zd.updateTime(t):zd.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tl.min()))throw new Uc(jc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zd.updateTime(t)}return zd.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jb=function(){function e(t,n,r,i,a){mr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new vy(this.asyncQueue,"transaction_retry")}return gr(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Fb(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!jl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ah(t)}return!1}}]),e}(),Ub=function(){function e(t,n,r,i){var a=this;mr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tc.UNAUTHENTICATED,this.clientId=Xc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Nc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return gr(e,[{key:"getConfiguration",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uc(jc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(s(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Nc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Om(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Wb(t);case 3:return r=e.sent,Nc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return rg(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rg(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Wb(e){return Kb.apply(this,arguments)}function Kb(){return Kb=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Nc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Vb(t,new Ab);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Hb(e){return Gb.apply(this,arguments)}function Gb(){return Gb=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Nc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Bb(t,new Ob);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Qb(e){return Wb(e).then((function(e){return e.persistence}))}function $b(e){return Wb(e).then((function(e){return e.localStore}))}function Xb(e){return Hb(e).then((function(e){return e.remoteStore}))}function Yb(e){return Hb(e).then((function(e){return e.syncEngine}))}function Jb(e){return Hb(e).then((function(e){return e.datastore}))}function Zb(e){return ek.apply(this,arguments)}function ek(){return ek=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Pg.bind(null,n.syncEngine),r.onUnlisten=jg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Mb({next:function(a){t.enqueueAndForget((function(){return gg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Uc(jc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Uc(jc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Sg(sd(n.path),a,{includeMetadataChanges:!0,Ou:!0});return mg(e,o)},i.next=3,Zb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function nk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Mb({next:function(n){t.enqueueAndForget((function(){return gg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uc(jc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Sg(n,a,{includeMetadataChanges:!0,Ou:!0});return mg(e,o)},i.next=3,Zb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var rk=new Map;function ik(e,t,n){if(!n)throw new Uc(jc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ak(e,t,n,r){if(!0===t&&!0===r)throw new Uc(jc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ok(e){if(!ol.isDocumentKey(e))throw new Uc(jc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function uk(e){if(ol.isDocumentKey(e))throw new Uc(jc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mc()}function ck(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uc(jc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sk(e);throw new Uc(jc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lk(e,t){if(t<=0)throw new Uc(jc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fk=function(){function e(t){var n;if(mr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uc(jc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uc(jc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ak("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return gr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dk=function(){function e(t,n,r,i){mr(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fk({}),this._settingsFrozen=!1}return gr(e,[{key:"app",get:function(){if(!this._app)throw new Uc(jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uc(jc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bc;switch(e.type){case"gapi":var t=e.client;return new Hc(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Uc(jc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rk.get(e);t&&(Nc("ComponentProvider","Removing Datastore"),rk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function hk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ck(e,dk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Oc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Tc.MOCK_USER;else{o=Ar(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Uc(jc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tc(s)}e._authCredentials=new qc(new zc(o,u))}}var pk=function(){function e(t,n,r){mr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return gr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new mk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vk=function(){function e(t,n,r){mr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return gr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),mk=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this,e,r,sd(i)))._path=i,a.type="collection",a}return gr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pk(this.firestore,null,new ol(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(vk);function yk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),ik("collection","path",t),e instanceof dk){var a=rl.fromString.apply(rl,[t].concat(r));return uk(a),new mk(e,null,a)}if(!(e instanceof pk||e instanceof mk))throw new Uc(jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rl.fromString.apply(rl,[t].concat(r)));return uk(o),new mk(e.firestore,null,o)}function gk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),1===arguments.length&&(t=Xc.R()),ik("doc","path",t),e instanceof dk){var a=rl.fromString.apply(rl,[t].concat(r));return ok(a),new pk(e,null,new ol(a))}if(!(e instanceof pk||e instanceof mk))throw new Uc(jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rl.fromString.apply(rl,[t].concat(r)));return ok(o),new pk(e.firestore,e instanceof mk?e.converter:null,new ol(o))}function bk(e,t){return e=Yr(e),t=Yr(t),(e instanceof pk||e instanceof mk)&&(t instanceof pk||t instanceof mk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kk(e,t){return e=Yr(e),t=Yr(t),e instanceof vk&&t instanceof vk&&e.firestore===t.firestore&&yd(e._query,t._query)&&e.converter===t.converter}var wk=function(){function e(){var t=this;mr(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new vy(this,"async_queue_retry"),this.Hc=function(){var e=hy();e&&Nc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=hy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return gr(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=hy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Vc;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_l(e.t0)){e.next=12;break}throw e.t0;case 12:Nc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=cg.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Mc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=lr(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=lr(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function xk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=lr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Sk=function(){function e(){mr(this,e),this._progressObserver={},this._taskCompletionResolver=new Vc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return gr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Ek=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a){var o;return mr(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new wk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return gr(n,[{key:"_terminate",value:function(){return this._firestoreClient||Tk(this),this._firestoreClient.terminate()}}]),n}(dk);function _k(e,t){var n="string"==typeof e?e:t||"(default)",r=qi("object"==typeof e?e:Yi(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Tr("firestore");i&&hk.apply(void 0,[r].concat(vr(i)))}return r}function Ik(e){return e._firestoreClient||Tk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ol(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ub(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Ck(e,t,n){var r=new Vc;return e.asyncQueue.enqueue(s(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Vb(e,n);case 3:return i.next=5,Bb(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jc.FAILED_PRECONDITION||e.code===jc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Oc("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Rk(e){return function(e){return e.asyncQueue.enqueue(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qb(e);case 2:return n=t.sent,t.next=5,Xb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fc(e);return t.mu.delete(0),xy(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ik(e=ck(e,Ek)))}function Ak(e){return function(e){return e.asyncQueue.enqueue(s(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qb(e);case 2:return n=t.sent,t.next=5,Xb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fc(t)).mu.add(0),e.next=4,Ey(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ik(e=ck(e,Ek)))}function Nk(e,t){var n=Ik(e=ck(e,Ek)),r=new Sk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Lb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Pb(e,t);if(e instanceof ArrayBuffer)return Pb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,py(t));e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rb,t.next=3,Yb(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Dk(e,t){return function(e,t){return e.asyncQueue.enqueue(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,$b(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ik(e=ck(e,Ek)),t).then((function(t){return t?new vk(e,null,t.query):null}))}function Ok(e){if(e._initialized||e._terminated)throw new Uc(jc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Pk=function(){function e(t){mr(this,e),this._byteString=t}return gr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Bl.fromBase64String(t))}catch(t){throw new Uc(jc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Bl.fromUint8Array(t))}}]),e}(),Mk=function(){function e(){mr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uc(jc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new al(n)}return gr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Lk=gr((function e(t){mr(this,e),this._methodName=t})),Fk=function(){function e(t,n){if(mr(this,e),!isFinite(t)||t<-90||t>90)throw new Uc(jc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uc(jc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return gr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yc(this._lat,e._lat)||Yc(this._long,e._long)}}]),e}(),jk=/^__.*__$/,Uk=function(){function e(t,n,r){mr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return gr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Xd(e,this.data,this.fieldMask,t,this.fieldTransforms):new $d(e,this.data,t,this.fieldTransforms)}}]),e}(),Vk=function(){function e(t,n,r){mr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return gr(e,[{key:"toMutation",value:function(e,t){return new Xd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function zk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mc()}}var Bk=function(){function e(t,n,r,i,a,o){mr(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return gr(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return sw(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(zk(this.ra)&&jk.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),qk=function(){function e(t,n,r){mr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||py(t)}return gr(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bk({ra:e,methodName:t,_a:n,path:al.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function Wk(e){var t=e._freezeSettings(),n=py(e._databaseId);return new qk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);iw("Data must be an object, but it was:",o,r);var u,s,c=nw(r,o);if(a.merge)u=new Qf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=lr(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=aw(t,l.value,n);if(!o.contains(h))throw new Uc(jc.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));cw(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new Qf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Uk(new $f(c),u,s)}var Hk=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Lk);function Gk(e,t,n){return new Bk({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var Qk=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"_toFieldTransform",value:function(e){return new Ud(e.path,new Nd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Lk),$k=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e)).ma=r,i}return gr(n,[{key:"_toFieldTransform",value:function(e){var t=Gk(this,e,!0),n=this.ma.map((function(e){return tw(e,t)})),r=new Dd(n);return new Ud(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lk),Xk=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e)).ma=r,i}return gr(n,[{key:"_toFieldTransform",value:function(e){var t=Gk(this,e,!0),n=this.ma.map((function(e){return tw(e,t)})),r=new Pd(n);return new Ud(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lk),Yk=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e)).ga=r,i}return gr(n,[{key:"_toFieldTransform",value:function(e){var t=new Ld(e.Tt,Id(e.Tt,this.ga));return new Ud(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Lk);function Jk(e,t,n,r){var i=e.wa(1,t,n);iw("Data must be an object, but it was:",i,r);var a=[],o=$f.empty();Ll(r,(function(e,r){var u=uw(t,e,n);r=Yr(r);var s=i.ha(u);if(r instanceof Hk)a.push(u);else{var c=tw(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qf(a);return new Vk(o,u,i.fieldTransforms)}function Zk(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[aw(t,r,n)],s=[i];if(a.length%2!=0)throw new Uc(jc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(aw(t,a[c])),s.push(a[c+1]);for(var l=[],f=$f.empty(),d=u.length-1;d>=0;--d)if(!cw(l,u[d])){var h=u[d],p=s[d];p=Yr(p);var v=o.ha(h);if(p instanceof Hk)l.push(h);else{var m=tw(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Qf(l);return new Vk(f,y,o.fieldTransforms)}function ew(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tw(n,e.wa(r?4:3,t))}function tw(e,t){if(rw(e=Yr(e)))return iw("Unsupported field value:",t,e),nw(e,t);if(e instanceof Lk)return function(e,t){if(!zk(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=lr(e);try{for(a.s();!(n=a.n()).done;){var o=tw(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Yr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Id(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=el.fromDate(e);return{timestampValue:Ph(t.Tt,n)}}if(e instanceof el){var r=new el(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ph(t.Tt,r)}}if(e instanceof Fk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pk)return{bytesValue:Mh(t.Tt,e._byteString)};if(e instanceof pk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(sk(e)))}(e,t)}function nw(e,t){var n={};return Fl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ll(e,(function(e,r){var i=tw(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof el||e instanceof Fk||e instanceof Pk||e instanceof pk||e instanceof Lk)}function iw(e,t,n){if(!rw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sk(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function aw(e,t,n){if((t=Yr(t))instanceof Mk)return t._internalPath;if("string"==typeof t)return uw(e,t);throw sw("Field path arguments must be of type string or ",e,!1,void 0,n)}var ow=new RegExp("[~\\*/\\[\\]]");function uw(e,t,n){if(t.search(ow)>=0)throw sw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return or(Mk,vr(t.split(".")))._internalPath}catch(r){throw sw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Uc(jc.INVALID_ARGUMENT,u+e+s)}function cw(e,t){return e.some((function(e){return e.isEqual(t)}))}var lw=function(){function e(t,n,r,i,a){mr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return gr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new pk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fw=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"data",value:function(){return sr(ur(n.prototype),"data",this).call(this)}}]),n}(lw);function dw(e,t){return"string"==typeof t?uw(e,t):t instanceof Mk?t._internalPath:t._delegate._internalPath}function hw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Uc(jc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pw=gr((function e(){mr(this,e)})),vw=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n)}(pw);function mw(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof pw&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof bw})).length,n=e.filter((function(e){return e instanceof yw})).length;if(t>1||t>0&&n>0)throw new Uc(jc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=lr(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var yw=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return gr(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Nw(e._query,t),new vk(e.firestore,e.converter,vd(e._query,t))}},{key:"_parse",value:function(e){var t=Wk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uc(jc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Aw(o,a);var s,c=[],l=lr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Rw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Rw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Aw(o,a),u=ew(n,"where",o,"in"===a||"not-in"===a);return xf.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vw);function gw(e,t,n){var r=t,i=dw("where",e);return yw._create(i,r,n)}var bw=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return gr(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Sf.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=lr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Nw(r,a),r=vd(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new vk(e.firestore,e.converter,vd(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pw);var kw=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return gr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vf(t,n);return function(e,t){if(null===ld(e)){var n=fd(e);null!==n&&Dw(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new vk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new od(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vw);var ww=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return gr(n,[{key:"_apply",value:function(e){return new vk(e.firestore,e.converter,md(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vw);var xw=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return gr(n,[{key:"_apply",value:function(e){var t=Cw(e,this.type,this._docOrFields,this._inclusive);return new vk(e.firestore,e.converter,function(e,t){return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vw);function Sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xw._create("startAt",t,!0)}function Ew(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xw._create("startAfter",t,!1)}var _w=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a;return mr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return gr(n,[{key:"_apply",value:function(e){var t=Cw(e,this.type,this._docOrFields,this._inclusive);return new vk(e.firestore,e.converter,function(e,t){return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vw);function Iw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _w._create("endBefore",t,!1)}function Tw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _w._create("endAt",t,!0)}function Cw(e,t,n,r){if(n[0]=Yr(n[0]),n[0]instanceof lw)return function(e,t,n,r,i){if(!r)throw new Uc(jc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=lr(hd(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(of(t,r.key));else{var c=r.data.field(s.field);if(Gl(c))throw new Uc(jc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new gf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Wk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uc(jc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dd(e)&&-1!==c.indexOf("/"))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(rl.fromString(c));if(!ol.isDocumentKey(l))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ol(l);u.push(of(t,f))}else{var d=ew(n,r,c);u.push(d)}}return new gf(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Rw(e,t,n){if("string"==typeof(n=Yr(n))){if(""===n)throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dd(t)&&-1!==n.indexOf("/"))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(rl.fromString(n));if(!ol.isDocumentKey(r))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return of(e,new ol(r))}if(n instanceof pk)return of(e,n._key);throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sk(n),"."))}function Aw(e,t){if(!Array.isArray(e)||0===e.length)throw new Uc(jc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Nw(e,t){if(t.isInequality()){var n=fd(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ld(e);null!==i&&Dw(e,r,i)}var a=function(e,t){var n,r=lr(e);try{for(r.s();!(n=r.n()).done;){var i,a=lr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Uc(jc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uc(jc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Dw(e,t,n){if(!n.isEqual(t))throw new Uc(jc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ow=function(){function e(){mr(this,e)}return gr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ll(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Fk(Kl(e.latitude),Kl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ql(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Wl(e);return new el(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=rl.fromString(e);Lc(sp(n));var r=new Pl(n.get(1),n.get(3)),i=new ol(n.popFirst(5));return r.isEqual(t)||Dc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Pw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Mw=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).firestore=e,r}return gr(n,[{key:"convertBytes",value:function(e){return new Pk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pk(this.firestore,null,t)}}]),n}(Ow);var Lw=function(){function e(t,n){mr(this,e),this.hasPendingWrites=t,this.fromCache=n}return gr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Fw=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a,o,u){var s;return mr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return gr(n,[{key:"exists",value:function(){return sr(ur(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lw),jw=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sr(ur(n.prototype),"data",this).call(this,e)}}]),n}(Fw),Uw=function(){function e(t,n,r,i){mr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lw(i.hasPendingWrites,i.fromCache),this.query=r}return gr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jw(n._firestore,n._userDataWriter,r.key,r,new Lw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uc(jc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Vw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Vw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mc()}}function zw(e,t){return e instanceof Fw&&t instanceof Fw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Uw&&t instanceof Uw&&e._firestore===t._firestore&&kk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Bw(e){e=ck(e,pk);var t=ck(e.firestore,Ek);return tk(Ik(t),e._key).then((function(n){return Zw(t,e,n)}))}var qw=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).firestore=e,r}return gr(n,[{key:"convertBytes",value:function(e){return new Pk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pk(this.firestore,null,t)}}]),n}(Ow);function Ww(e){e=ck(e,pk);var t=ck(e.firestore,Ek),n=Ik(t),r=new qw(t);return function(e,t){var n=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uc(jc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=lg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Fw(t,r,e._key,n,new Lw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Kw(e){e=ck(e,vk);var t=ck(e.firestore,Ek),n=Ik(t),r=new qw(t);return hw(e._query),nk(n,e._query).then((function(n){return new Uw(t,r,e,n)}))}function Hw(e){e=ck(e,vk);var t=ck(e.firestore,Ek),n=Ik(t),r=new qw(t);return function(e,t){var n=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qm(t,n,!0);case 3:i=e.sent,a=new Ag(n,i.Yi),u=a.Hu(i.documents),s=a.applyChanges(u,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=lg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Uw(t,r,e,n)}))}function Gw(e,t,n){e=ck(e,pk);var r=ck(e.firestore,Ek),i=Pw(e.converter,t,n);return Jw(r,[Kk(Wk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zd.none())])}function Qw(e,t,n){e=ck(e,pk);for(var r=ck(e.firestore,Ek),i=Wk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Jw(r,[("string"==typeof(t=Yr(t))||t instanceof Mk?Zk(i,"updateDoc",e._key,t,n,o):Jk(i,"updateDoc",e._key,t)).toMutation(e._key,zd.exists(!0))])}function $w(e){return Jw(ck(e.firestore,Ek),[new nh(e._key,zd.none())])}function Xw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=Yr(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||xk(n[l])||(c=n[l],l++);var f,d,h,p={includeMetadataChanges:c.includeMetadataChanges};if(xk(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof pk)d=ck(e.firestore,Ek),h=sd(e._key.path),f={next:function(t){n[l]&&n[l](Zw(d,e,t))},error:n[l+1],complete:n[l+2]};else{var m=ck(e,vk);d=ck(m.firestore,Ek),h=m._query;var y=new qw(d);f={next:function(e){n[l]&&n[l](new Uw(d,y,m,e))},error:n[l+1],complete:n[l+2]},hw(e._query)}return function(e,t,n,r){var i=new Mb(r),a=new Sg(t,i,n);return e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mg,t.next=3,Zb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gg,t.next=3,Zb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ik(d),h,p,f)}function Yw(e,t){return function(e,t){var n=new Mb(t);return e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fc(e).vu.add(t),t.next()},t.next=3,Zb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fc(e).vu.delete(t)},t.next=3,Zb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ik(e=ck(e,Ek)),xk(t)?t:{next:t})}function Jw(e,t){return function(e,t){var n=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Vg,r.next=3,Yb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ik(e),t)}function Zw(e,t,n){var r=n.docs.get(t._key),i=new qw(e);return new Fw(e,i,t._key,r,new Lw(n.hasPendingWrites,n.fromCache),t.converter)}var ex={maxAttempts:5},tx=function(){function e(t,n){mr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wk(t)}return gr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nx(e,this._firestore),i=Pw(r.converter,t,n),a=Kk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zd.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yr(t))||t instanceof Mk?Zk(this._dataReader,"WriteBatch.update",i._key,t,n,o):Jk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,zd.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nx(e,this._firestore);return this._mutations=this._mutations.concat(new nh(t._key,zd.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uc(jc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nx(e,t){if((e=Yr(e)).firestore!==t)throw new Uc(jc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rx=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,r))._firestore=e,i}return gr(n,[{key:"get",value:function(e){var t=this,r=nx(e,this._firestore),i=new qw(this._firestore);return sr(ur(n.prototype),"get",this).call(this,e).then((function(e){return new Fw(t._firestore,i,r._key,e._document,new Lw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){mr(this,e),this._firestore=t,this._transaction=n,this._dataReader=Wk(t)}return gr(e,[{key:"get",value:function(e){var t=this,n=nx(e,this._firestore),r=new Mw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mc();var i=e[0];if(i.isFoundDocument())return new lw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lw(t._firestore,r,n._key,null,n.converter);throw Mc()}))}},{key:"set",value:function(e,t,n){var r=nx(e,this._firestore),i=Pw(r.converter,t,n),a=Kk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yr(t))||t instanceof Mk?Zk(this._dataReader,"Transaction.update",i._key,t,n,o):Jk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ix(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $k("arrayUnion",t)}function ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cc=e}($i),Bi(new Jr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Ek(new Wc(e.getProvider("auth-internal")),new Qc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uc(jc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ta(Ic,"3.8.4",e),ta(Ic,"3.8.4","esm2017")}();function ox(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ux;Object.create;var sx={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},cx={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function lx(){return He({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fx=function(){var e;return He(e={},"admin-restricted-operation","This operation is restricted to administrators only."),He(e,"argument-error",""),He(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),He(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),He(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),He(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),He(e,"cordova-not-ready","Cordova framework is not ready."),He(e,"cors-unsupported","This browser is not supported."),He(e,"credential-already-in-use","This credential is already associated with a different user account."),He(e,"custom-token-mismatch","The custom token corresponds to a different audience."),He(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),He(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),He(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),He(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),He(e,"email-already-in-use","The email address is already in use by another account."),He(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),He(e,"expired-action-code","The action code has expired."),He(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),He(e,"internal-error","An internal AuthError has occurred."),He(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),He(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),He(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),He(e,"invalid-auth-event","An internal AuthError has occurred."),He(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),He(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),He(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),He(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),He(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),He(e,"invalid-email","The email address is badly formatted."),He(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),He(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),He(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),He(e,"invalid-credential","The supplied auth credential is malformed or has expired."),He(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),He(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),He(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),He(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),He(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),He(e,"wrong-password","The password is invalid or the user does not have a password."),He(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),He(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),He(e,"invalid-provider-id","The specified provider ID is invalid."),He(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),He(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),He(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),He(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),He(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),He(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),He(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),He(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),He(e,"missing-continue-uri","A continue URL must be provided in the request."),He(e,"missing-iframe-start","An internal AuthError has occurred."),He(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),He(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),He(e,"missing-multi-factor-info","No second factor identifier is provided."),He(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),He(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),He(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),He(e,"app-deleted","This instance of FirebaseApp has been deleted."),He(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),He(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),He(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),He(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),He(e,"no-auth-event","An internal AuthError has occurred."),He(e,"no-such-provider","User was not linked to an account with the given provider."),He(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),He(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),He(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),He(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),He(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),He(e,"provider-already-linked","User can only be linked to one identity for the given provider."),He(e,"quota-exceeded","The project's quota for this operation has been exceeded."),He(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),He(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),He(e,"rejected-credential","The request contains malformed or mismatching credentials."),He(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),He(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),He(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),He(e,"timeout","The operation has timed out."),He(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),He(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),He(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),He(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),He(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),He(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),He(e,"unverified-email","The operation requires a verified email."),He(e,"user-cancelled","The user did not grant your application the permissions it requested."),He(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),He(e,"user-disabled","The user account has been disabled by an administrator."),He(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),He(e,"user-signed-out",""),He(e,"weak-password","The password must be 6 characters long or more."),He(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),He(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},dx=lx,hx=new Ur("auth","Firebase",lx()),px=new li("@firebase/auth");function vx(e){if(px.logLevel<=ri.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];px.error.apply(px,["Auth (".concat($i,"): ").concat(e)].concat(n))}}function mx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kx.apply(void 0,[e].concat(n))}function yx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kx.apply(void 0,[e].concat(n))}function gx(e,t,n){var r=Object.assign(Object.assign({},dx()),He({},t,n));return new Ur("auth","Firebase",r).create(t,{appName:e.name})}function bx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mx(e,"argument-error"),gx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function kx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=vr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(vr(o)))}return hx.create.apply(hx,[e].concat(n))}function wx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kx.apply(void 0,[t].concat(r))}}function xx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw vx(t),new Error(t)}function Sx(e,t){e||xx(t)}var Ex=new Map;function _x(e){Sx(e instanceof Function,"Expected a class definition");var t=Ex.get(e);return t?(Sx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ex.set(e,t),t)}function Ix(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tx(){return"http:"===Cx()||"https:"===Cx()}function Cx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rx=function(){function e(t,n){mr(this,e),this.shortDelay=t,this.longDelay=n,Sx(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())||Pr()}return gr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tx()||Or()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ax(e,t){Sx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Nx=function(){function e(){mr(this,e)}return gr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void xx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void xx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void xx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Dx=(He(ux={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),He(ux,"MISSING_CUSTOM_TOKEN","internal-error"),He(ux,"INVALID_IDENTIFIER","invalid-email"),He(ux,"MISSING_CONTINUE_URI","internal-error"),He(ux,"INVALID_PASSWORD","wrong-password"),He(ux,"MISSING_PASSWORD","internal-error"),He(ux,"EMAIL_EXISTS","email-already-in-use"),He(ux,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),He(ux,"INVALID_IDP_RESPONSE","invalid-credential"),He(ux,"INVALID_PENDING_TOKEN","invalid-credential"),He(ux,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),He(ux,"MISSING_REQ_TYPE","internal-error"),He(ux,"EMAIL_NOT_FOUND","user-not-found"),He(ux,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),He(ux,"EXPIRED_OOB_CODE","expired-action-code"),He(ux,"INVALID_OOB_CODE","invalid-action-code"),He(ux,"MISSING_OOB_CODE","internal-error"),He(ux,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),He(ux,"INVALID_ID_TOKEN","invalid-user-token"),He(ux,"TOKEN_EXPIRED","user-token-expired"),He(ux,"USER_NOT_FOUND","user-token-expired"),He(ux,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),He(ux,"INVALID_CODE","invalid-verification-code"),He(ux,"INVALID_SESSION_INFO","invalid-verification-id"),He(ux,"INVALID_TEMPORARY_PROOF","invalid-credential"),He(ux,"MISSING_SESSION_INFO","missing-verification-id"),He(ux,"SESSION_EXPIRED","code-expired"),He(ux,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),He(ux,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),He(ux,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),He(ux,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),He(ux,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),He(ux,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),He(ux,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),He(ux,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),He(ux,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),He(ux,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),He(ux,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ux),Ox=new Rx(3e4,6e4);function Px(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Mx(e,t,n,r){return Lx.apply(this,arguments)}function Lx(){return Lx=s(o().mark((function e(t,n,r,i){var a,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",Fx(t,a,s(o().mark((function e(){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},u={},i&&("GET"===n?u=i:a={body:JSON.stringify(i)}),s=Wr(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Nx.fetch()(zx(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Fx(e,t,n){return jx.apply(this,arguments)}function jx(){return jx=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Dx),n),e.prev=2,a=new Bx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw qx(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=h(l,2),d=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw qx(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw qx(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw qx(t,"user-disabled",s);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw gx(t,v,p);case 34:mx(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof jr)){e.next=41;break}throw e.t0;case 41:mx(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),jx.apply(this,arguments)}function Ux(e,t,n,r){return Vx.apply(this,arguments)}function Vx(){return Vx=s(o().mark((function e(t,n,r,i){var a,u,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Mx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(u=e.sent)&&mx(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function zx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ax(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Bx=function(){function e(t){var n=this;mr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(yx(n.auth,"network-request-failed"))}),Ox.get())}))}return gr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=yx(e,t,r);return i.customData._tokenResponse=n,i}function Wx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Hx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t){return $x.apply(this,arguments)}function $x(){return $x=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Xx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Yx(){return Yx=s(o().mark((function e(t){var n,r,i,a,u,s,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Yr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,wx((a=Zx(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),u="object"===typeof a.firebase?a.firebase:void 0,s=null===u||void 0===u?void 0:u.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Xx(Jx(a.auth_time)),issuedAtTime:Xx(Jx(a.iat)),expirationTime:Xx(Jx(a.exp)),signInProvider:s||null,signInSecondFactor:(null===u||void 0===u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Jx(e){return 1e3*Number(e)}function Zx(e){var t=h(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return vx("JWT malformed, contained fewer than 3 sections"),null;try{var a=Sr(r);return a?JSON.parse(a):(vx("Failed to decode base64 JWT payload"),null)}catch(o){return vx("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=s(o().mark((function e(t,n){var r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof jr&&nS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tS.apply(this,arguments)}function nS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var rS=function(){function e(t){mr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return gr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),iS=function(){function e(t,n){mr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return gr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xx(this.lastLoginAt),this.creationTime=Xx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function aS(e){return oS.apply(this,arguments)}function oS(){return oS=s(o().mark((function e(t){var n,r,i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eS(t,Qx(r,{idToken:i}));case 6:wx(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),u=a.users[0],t._notifyReloadListener(u),s=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?u.providerUserInfo.map((function(e){var t=e.providerId,n=ox(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=sS(t.providerData,s),l=t.isAnonymous,f=!(t.email&&u.passwordHash)&&!(null===c||void 0===c?void 0:c.length),d=!!l&&f,h={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:c,metadata:new iS(u.createdAt,u.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(){return(uS=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yr(t),e.next=3,aS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(vr(n),vr(t))}function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(t,{},s(o().mark((function e(){var r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,u=i.apiKey,s=zx(t,a,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Nx.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}var fS=function(){function e(){mr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return gr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){wx(e.idToken,"internal-error"),wx("undefined"!==typeof e.idToken,"internal-error"),wx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zx(e);return wx(t,"internal-error"),wx("undefined"!==typeof t.exp,"internal-error"),wx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=s(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],wx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,u=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return xx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(wx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(wx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(wx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function dS(e,t){wx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var hS=function(){function e(t){mr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ox(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?vr(a.providerData):[],this.metadata=new iS(a.createdAt||void 0,a.lastLoginAt||void 0)}return gr(e,[{key:"getIdToken",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eS(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(wx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Yx.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return uS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(wx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){wx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=s(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,aS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eS(this,Wx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;wx(b&&S,t,"internal-error");var E=fS.fromJSON(this.name,S);wx("string"===typeof b,t,"internal-error"),dS(f,t.name),dS(d,t.name),wx("boolean"===typeof k,t,"internal-error"),wx("boolean"===typeof w,t,"internal-error"),dS(h,t.name),dS(p,t.name),dS(v,t.name),dS(m,t.name),dS(y,t.name),dS(g,t.name);var _=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=s(o().mark((function t(n,r){var i,a,u,s=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new fS).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,aS(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pS=function(){function e(){mr(this,e),this.type="NONE",this.storage={}}return gr(e,[{key:"_isAvailable",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pS.type="NONE";var vS=pS;function mS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yS=function(){function e(t,n,r){mr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mS(this.userKey,a.apiKey,o),this.fullPersistenceKey=mS("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return gr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?hS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=s(o().mark((function t(n,r){var i,a,u,c,l,f,d,h,p,v,m,y=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_x(vS),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),u=a[0]||_x(vS),c=mS(i,n.config.apiKey,n.name),l=null,f=lr(r),t.prev=10,f.s();case 12:if((d=f.n()).done){t.next=29;break}return h=d.value,t.prev=14,t.next=17,h._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=hS._fromJSON(n,p),h!==u&&(l=v),u=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,i));case 40:if(u=m[0],!l){t.next=44;break}return t.next=44,u._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gS(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ES(t))return"Blackberry";if(_S(t))return"Webos";if(kS(t))return"Safari";if((t.includes("chrome/")||wS(t))&&!t.includes("edge/"))return"Chrome";if(SS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function bS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/firefox\//i.test(e)}function kS(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/crios\//i.test(e)}function xS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/iemobile/i.test(e)}function SS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/android/i.test(e)}function ES(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/blackberry/i.test(e)}function _S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/webos/i.test(e)}function IS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function TS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return IS(e)||SS(e)||_S(e)||ES(e)||/windows phone/i.test(e)||xS(e)}function CS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gS(Nr());break;case"Worker":t="".concat(gS(Nr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($i,"/").concat(r)}var RS=function(){function e(t){mr(this,e),this.auth=t,this.queue=[]}return gr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=lr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),u=lr(n);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(o){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),AS=function(){function e(t,n,r){mr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DS(this),this.idTokenSubscription=new DS(this),this.beforeStateQueue=new RS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return gr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_x(t)),this._initializationPromise=this.queue(s(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return wx(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Yr(t):null)&&wx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=s(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&wx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_x(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ur("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return wx(n=t&&_x(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yS.create(this,[_x(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return wx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return wx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=He({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function NS(e){return Yr(e)}var DS=function(){function e(t){var n=this;mr(this,e),this.auth=t,this.observer=null,this.addObserver=Gr((function(e){return n.observer=e}))}return gr(e,[{key:"next",get:function(){return wx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function OS(e,t,n){var r=NS(e);wx(r._canInitEmulator,r,"emulator-config-failed"),wx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=PS(t),o=function(e){var t=PS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:MS(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:MS(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function PS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var LS=function(){function e(t,n){mr(this,e),this.providerId=t,this.signInMethod=n}return gr(e,[{key:"toJSON",value:function(){return xx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return xx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return xx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return xx("not implemented")}}]),e}();function FS(e,t){return jS.apply(this,arguments)}function jS(){return jS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:resetPassword",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(e,t){return BS.apply(this,arguments)}function BS(){return BS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:update",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t){return WS.apply(this,arguments)}function WS(){return WS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithPassword",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(e,t){return HS.apply(this,arguments)}function HS(){return HS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:sendOobCode",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function GS(e,t){return QS.apply(this,arguments)}function QS(){return QS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return XS.apply(this,arguments)}function XS(){return XS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function YS(e,t){return JS.apply(this,arguments)}function JS(){return JS=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return eE.apply(this,arguments)}function eE(){return eE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithEmailLink",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithEmailLink",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}var aE=function(e){fr(n,e);var t=hr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return mr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return gr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qS(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tE(t,{email:this._email,oobCode:this._password}));case 5:mx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",US(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:mx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(LS);function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithIdp",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}var sE=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return gr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ox(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(LS);function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:sendVerificationCode",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(){return fE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithPhoneNumber",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(){return dE=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ux(t,"POST","/v1/accounts:signInWithPhoneNumber",Px(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}var hE=He({},"USER_NOT_FOUND","user-not-found");function pE(){return pE=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithPhoneNumber",Px(t,r),hE));case 2:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}var vE=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return gr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return dE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return pE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(LS);var mE=function(){function e(t){var n,r,i,a,o,u;mr(this,e);var s=Kr(Hr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);wx(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return gr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Kr(Hr(e)).link,n=t?Kr(Hr(t)).deep_link_id:null,r=Kr(Hr(e)).deep_link_id;return(r?Kr(Hr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Fb){return null}}}]),e}();var yE=function(){function e(){mr(this,e),this.providerId=e.PROVIDER_ID}return gr(e,null,[{key:"credential",value:function(e,t){return aE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mE.parseLink(t);return wx(n,"argument-error"),aE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yE.PROVIDER_ID="password",yE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gE=function(){function e(t){mr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return gr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),bE=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return gr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return vr(this.scopes)}}]),n}(gE),kE=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return wx(e.idToken||e.accessToken,"argument-error"),sE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return wx("providerId"in t&&"signInMethod"in t,"argument-error"),sE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(bE),wE=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.call(this,"facebook.com")}return gr(n,null,[{key:"credential",value:function(e){return sE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fb){return null}}}]),n}(bE);wE.FACEBOOK_SIGN_IN_METHOD="facebook.com",wE.PROVIDER_ID="facebook.com";var xE=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return gr(n,null,[{key:"credential",value:function(e,t){return sE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Fb){return null}}}]),n}(bE);xE.GOOGLE_SIGN_IN_METHOD="google.com",xE.PROVIDER_ID="google.com";var SE=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.call(this,"github.com")}return gr(n,null,[{key:"credential",value:function(e){return sE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fb){return null}}}]),n}(bE);SE.GITHUB_SIGN_IN_METHOD="github.com",SE.PROVIDER_ID="github.com";var EE=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return gr(n,[{key:"_getIdTokenResponse",value:function(e){return oE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(LS),_E="saml.",IE=function(e){fr(n,e);var t=hr(n);function n(e){return mr(this,n),wx(e.startsWith(_E),"argument-error"),t.call(this,e)}return gr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=EE.fromJSON(e);return wx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return EE._create(r,n)}catch(i){return null}}}]),n}(gE),TE=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.call(this,"twitter.com")}return gr(n,null,[{key:"credential",value:function(e,t){return sE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Fb){return null}}}]),n}(bE);function CE(e,t){return RE.apply(this,arguments)}function RE(){return RE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signUp",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}TE.TWITTER_SIGN_IN_METHOD="twitter.com",TE.PROVIDER_ID="twitter.com";var AE=function(){function e(t){mr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return gr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=s(o().mark((function t(n,r,i){var a,u,s,c,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,hS._fromIdTokenResponse(n,i,a);case 3:return u=t.sent,s=NE(i),c=new e({user:u,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=s(o().mark((function t(n,r,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=NE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function NE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function DE(){return DE=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new AE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,CE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,AE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}var OE=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a){var o,u;return mr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(dr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return gr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(jr);function PE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw OE._fromErrorAndOperation(e,n,t,r);throw n}))}function ME(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function LE(e,t){return FE.apply(this,arguments)}function FE(){return FE=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,VE(!0,r,n);case 3:return e.t0=Hx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,u=ME(a||[]),r.providerData=r.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function jE(e,t){return UE.apply(this,arguments)}function UE(){return UE=s(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eS,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",AE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aS(n);case 2:i=ME(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",wx(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e,t){return qE.apply(this,arguments)}function qE(){return qE=s(o().mark((function e(t,n){var r,i,a,u,s,c,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,eS(t,PE(i,a,n,t),r);case 6:return wx((u=e.sent).idToken,i,"internal-error"),wx(s=Zx(u.idToken),i,"internal-error"),c=s.sub,wx(t.uid===c,i,"user-mismatch"),e.abrupt("return",AE._forOperation(t,a,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&mx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),qE.apply(this,arguments)}function WE(e,t){return KE.apply(this,arguments)}function KE(){return KE=s(o().mark((function e(t,n){var r,i,a,u,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,PE(t,i,n);case 4:return a=e.sent,e.next=7,AE._fromIdTokenResponse(t,i,a);case 7:if(u=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function HE(e,t){return GE.apply(this,arguments)}function GE(){return GE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WE(NS(t),n));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return($E=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,VE(!1,r,n.providerId);case 3:return e.abrupt("return",jE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(e,t){return YE.apply(this,arguments)}function YE(){return(YE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BE(Yr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(t,"POST","/v1/accounts:signInWithCustomToken",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function e_(){return e_=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,JE(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,AE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}var t_=function(){function e(t,n){mr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return gr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?n_._fromServerResponse(e,t):mx(e,"internal-error")}}]),e}(),n_=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return gr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(t_);function r_(e,t,n){var r;wx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),wx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function i_(){return i_=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),a={requestType:"PASSWORD_RESET",email:n},r&&r_(i,a,r),e.next=5,$S(i,a);case 5:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(){return a_=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FS(Yr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(){return o_=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zS(Yr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,FS(r,{oobCode:n});case 3:i=e.sent,wx(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return wx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:wx(i.mfaInfo,r,"internal-error");case 13:wx(i.email,r,"internal-error");case 14:return u=null,i.mfaInfo&&(u=t_._fromServerResponse(NS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:u},operation:a});case 17:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(){return c_=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u_(Yr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t,n){return f_.apply(this,arguments)}function f_(){return f_=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),e.next=3,CE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,AE._fromIdTokenResponse(i,"signIn",a);case 6:return u=e.sent,e.next=9,i._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function d_(){return d_=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),a={requestType:"EMAIL_SIGNIN",email:n},wx(r.handleCodeInApp,i,"argument-error"),r&&r_(i,a,r),e.next=6,YS(i,a);case 6:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function h_(){return h_=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),wx((a=yE.credentialWithLink(n,r||Ix()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",HE(i,a));case 4:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:createAuthUri",Px(t,n)));case 1:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(){return m_=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tx()?Ix():"http://localhost",i={identifier:n,continueUri:r},e.next=4,p_(Yr(t),i);case 4:return a=e.sent,u=a.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(){return(y_=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&r_(r.auth,a,n),e.next=8,GS(r.auth,a);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g_(){return(g_=s(o().mark((function e(t,n,r){var i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&r_(i.auth,u,r),e.next=8,ZS(i.auth,u);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b_(e,t){return k_.apply(this,arguments)}function k_(){return k_=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function w_(){return(w_=s(o().mark((function e(t,n){var r,i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Yr(t),e.next=6,a.getIdToken();case 6:return u=e.sent,s={idToken:u,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,eS(a,b_(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x_(e,t,n){return S_.apply(this,arguments)}function S_(){return S_=s(o().mark((function e(t,n,r){var i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,u={idToken:a,returnSecureToken:!0},n&&(u.email=n),r&&(u.password=r),e.next=9,eS(t,US(i,u));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}var E_=gr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),__=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a){var o;return mr(this,n),(o=t.call(this,e,r,i)).username=a,o}return gr(n)}(E_),I_=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"facebook.com",r)}return gr(n)}(E_),T_=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return gr(n)}(__),C_=function(e){fr(n,e);var t=hr(n);function n(e,r){return mr(this,n),t.call(this,e,"google.com",r)}return gr(n)}(E_),R_=function(e){fr(n,e);var t=hr(n);function n(e,r,i){return mr(this,n),t.call(this,e,"twitter.com",r,i)}return gr(n)}(__);function A_(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Zx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new E_(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new I_(a,i);case"github.com":return new T_(a,i);case"google.com":return new C_(a,i);case"twitter.com":return new R_(a,i,e.screenName||null);case"custom":case"anonymous":return new E_(a,null);default:return new E_(a,r,i)}}(n)}var N_=function(){function e(t,n,r){mr(this,e),this.type=t,this.credential=n,this.auth=r}return gr(e,[{key:"toJSON",value:function(){return{multiFactorSession:He({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),D_=function(){function e(t,n,r){mr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return gr(e,[{key:"resolveSignIn",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=NS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return t_._fromServerResponse(r,e)}));wx(i.mfaPendingCredential,r,"internal-error");var u=N_._fromMfaPendingCredential(i.mfaPendingCredential);return new e(u,a,function(){var e=s(o().mark((function e(t){var a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,AE._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return wx(n.user,r,"internal-error"),e.abrupt("return",AE._forOperation(n.user,n.operationType,s));case 17:mx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function O_(e,t){return Mx(e,"POST","/v2/accounts/mfaEnrollment:start",Px(e,t))}function P_(e,t){return Mx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Px(e,t))}var M_=function(){function e(t){var n=this;mr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return t_._fromServerResponse(t.auth,e)})))}))}return gr(e,[{key:"getSession",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N_,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,eS(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,eS(this.user,P_(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),L_=new WeakMap;var F_="__sak",j_=function(){function e(t,n){mr(this,e),this.storageRetriever=t,this.type=n}return gr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(F_,"1"),this.storage.removeItem(F_),Promise.resolve(!0)):Promise.resolve(!1)}catch(Fb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var U_=10,V_=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Nr();return kS(e)||IS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=TS(),e._shouldAllowMigration=!0,e}return gr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Mr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,U_):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=s(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(ur(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(ur(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(ur(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(j_);V_.type="LOCAL";var z_=V_,B_=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return gr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(j_);B_.type="SESSION";var q_=B_;function W_(e){return Promise.all(e.map(function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var K_=function(){function e(t){mr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return gr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,u=r.data,null===(c=this.handlersMap[a])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(c).map(function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,W_(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function H_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}K_.receivers=[];var G_=function(){function e(t){mr(this,e),this.target=t,this.handlers=new Set}return gr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u,s=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,o){var c=H_("",20);i.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);u={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),o(new Error("invalid_response"))}}},s.handlers.add(u),i.port1.addEventListener("message",u.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){u&&s.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Q_(){return window}function $_(){return"undefined"!==typeof Q_().WorkerGlobalScope&&"function"===typeof Q_().importScripts}function X_(){return Y_.apply(this,arguments)}function Y_(){return(Y_=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function J_(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Z_="firebaseLocalStorageDb",eI=1,tI="firebaseLocalStorage",nI="fbase_key",rI=function(){function e(t){mr(this,e),this.request=t}return gr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function iI(e,t){return e.transaction([tI],t?"readwrite":"readonly").objectStore(tI)}function aI(){var e=indexedDB.deleteDatabase(Z_);return new rI(e).toPromise()}function oI(){var e=indexedDB.open(Z_,eI);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(tI,{keyPath:nI})}catch(r){n(r)}})),e.addEventListener("success",s(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(tI)){n.next=12;break}return r.close(),n.next=5,aI();case 5:return n.t0=t,n.next=8,oI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function uI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=iI(t,!0).put((He(i={},nI,n),He(i,"value",r),i)),e.abrupt("return",new rI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t){return lI.apply(this,arguments)}function lI(){return lI=s(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iI(t,!1).get(n),e.next=3,new rI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){var n=iI(e,!0).delete(t);return new rI(n).toPromise()}var dI=function(){function e(){mr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return gr(e,[{key:"_openDb",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,oI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$_()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=s(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=K_._getInstance($_()?self:null),this.receiver._subscribe("keyChanged",function(){var e=s(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=s(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X_();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new G_(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&J_()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,oI();case 5:return t=e.sent,e.next=8,uI(t,F_,"1");case 8:return e.next=10,fI(t,F_);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return uI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return cI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return fI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a,u,s,c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=iI(e,!1).getAll();return new rI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=lr(t);try{for(i.s();!(a=i.n()).done;)u=a.value,s=u.fbase_key,c=u.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(o){i.e(o)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)d=f[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();dI.type="LOCAL";var hI=dI;function pI(e,t){return Mx(e,"POST","/v2/accounts/mfaSignIn:start",Px(e,t))}function vI(e){return mI.apply(this,arguments)}function mI(){return mI=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=yx("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function gI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var bI=1e12,kI=function(){function e(t){mr(this,e),this.auth=t,this.counter=bI,this._widgets=new Map}return gr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new wI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||bI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||bI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||bI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),wI=function(){function e(t,n,r){var i=this;mr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;wx(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return gr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var xI=gI("rcb"),SI=new Rx(3e4,6e4),EI="https://www.google.com/recaptcha/api.js?",_I=function(){function e(){var t;mr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Q_().grecaptcha)||void 0===t?void 0:t.render)}return gr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wx(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Q_().grecaptcha):new Promise((function(r,i){var a=Q_().setTimeout((function(){i(yx(e,"network-request-failed"))}),SI.get());Q_()[xI]=function(){Q_().clearTimeout(a),delete Q_()[xI];var o=Q_().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(yx(e,"internal-error"))},yI("".concat(EI,"?").concat(Wr({onload:xI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(yx(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Q_().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var II=function(){function e(){mr(this,e)}return gr(e,[{key:"load",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new kI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),TI="recaptcha",CI={theme:"light",type:"image"},RI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},CI),r=arguments.length>2?arguments[2]:void 0;mr(this,e),this.parameters=n,this.type=TI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=NS(r),this.isInvisible="invisible"===this.parameters.size,wx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;wx(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new II:new _I,this.validateStartingState()}return gr(e,[{key:"verify",value:function(){var e=s(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){wx(!this.parameters.sitekey,this.auth,"argument-error"),wx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Q_()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){wx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wx(Tx()&&!$_(),this.auth,"internal-error"),e.next=3,AI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,vI(this.auth);case 8:wx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return wx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function AI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var NI=function(){function e(t,n){mr(this,e),this.verificationId=t,this.onConfirmation=n}return gr(e,[{key:"confirm",value:function(e){var t=vE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function DI(){return DI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),e.next=3,LI(i,n,Yr(r));case 3:return a=e.sent,e.abrupt("return",new NI(a,(function(e){return HE(i,e)})));case 5:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function OI(e,t,n){return PI.apply(this,arguments)}function PI(){return(PI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,VE(!1,i,"phone");case 3:return e.next=5,LI(i.auth,n,Yr(r));case 5:return a=e.sent,e.abrupt("return",new NI(a,(function(e){return QE(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(){return(MI=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,LI(i.auth,n,Yr(r));case 3:return a=e.sent,e.abrupt("return",new NI(a,(function(e){return XE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=s(o().mark((function e(t,n,r){var i,a,u,s,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,wx("string"===typeof a,t,"argument-error"),wx(r.type===TI,t,"argument-error"),!("session"in(u="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=u.session,!("phoneNumber"in u)){e.next=17;break}return wx("enroll"===s.type,t,"internal-error"),e.next=13,O_(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return wx("signin"===s.type,t,"internal-error"),wx(l=(null===(i=u.multiFactorHint)||void 0===i?void 0:i.uid)||u.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,pI(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,cE(t,{phoneNumber:u.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),FI.apply(this,arguments)}function jI(){return(jI=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jE(Yr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UI=function(){function e(t){mr(this,e),this.providerId=e.PROVIDER_ID,this.auth=NS(t)}return gr(e,[{key:"verifyPhoneNumber",value:function(e,t){return LI(this.auth,e,Yr(t))}}],[{key:"credential",value:function(e,t){return vE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vE._fromTokenResponse(n,r):null}}]),e}();function VI(e,t){return t?_x(t):(wx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}UI.PROVIDER_ID="phone",UI.PHONE_SIGN_IN_METHOD="phone";var zI=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return gr(n,[{key:"_getIdTokenResponse",value:function(e){return oE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(LS);function BI(e){return WE(e.auth,new zI(e),e.bypassAuthState)}function qI(e){var t=e.auth,n=e.user;return wx(n,t,"internal-error"),BE(n,new zI(e),e.bypassAuthState)}function WI(e){return KI.apply(this,arguments)}function KI(){return KI=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,wx(r=t.user,n,"internal-error"),e.abrupt("return",jE(r,new zI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}var HI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];mr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return gr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=s(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,u=t.error,s=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return WI;case"reauthViaPopup":case"reauthViaRedirect":return qI;default:mx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Sx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Sx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),GI=new Rx(2e3,1e4);function QI(e,t,n){return $I.apply(this,arguments)}function $I(){return $I=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),bx(t,n,gE),a=VI(i,r),u=new ZI(i,"signInViaPopup",n,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function XI(){return XI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bx((i=Yr(t)).auth,n,gE),a=VI(i.auth,r),u=new ZI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function YI(e,t,n){return JI.apply(this,arguments)}function JI(){return JI=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bx((i=Yr(t)).auth,n,gE),a=VI(i.auth,r),u=new ZI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}var ZI=function(e){fr(n,e);var t=hr(n);function n(e,r,i,a,o){var u;return mr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=dr(u),u}return gr(n,[{key:"executeNotNull",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return wx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sx(1===this.filter.length,"Popup operations only handle one event"),t=H_(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(yx(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(yx(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(yx(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,GI.get())}()}}]),n}(HI);ZI.currentPopupAction=null;var eT="pendingRedirect",tT=new Map,nT=function(e){fr(n,e);var t=hr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return mr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return gr(n,[{key:"execute",value:function(){var e=s(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=tT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,rT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,sr(ur(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:tT.set(this.auth._key(),t);case 21:return this.bypassAuthState||tT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",sr(ur(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",sr(ur(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(HI);function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=s(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cT(n),i=sT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t){return oT.apply(this,arguments)}function oT(){return oT=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sT(t)._set(cT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function uT(e,t){tT.set(e._key(),t)}function sT(e){return _x(e._redirectPersistence)}function cT(e){return mS(eT,e.config.apiKey,e.name)}function lT(e,t,n){return function(e,t,n){return fT.apply(this,arguments)}(e,t,n)}function fT(){return fT=s(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),bx(t,n,gE),e.next=4,i._initializationPromise;case 4:return a=VI(i,r),e.next=7,aT(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function dT(e,t,n){return function(e,t,n){return hT.apply(this,arguments)}(e,t,n)}function hT(){return hT=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bx((i=Yr(t)).auth,n,gE),e.next=4,i.auth._initializationPromise;case 4:return a=VI(i.auth,r),e.next=7,aT(a,i.auth);case 7:return e.next=9,kT(i);case 9:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",u));case 11:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function pT(e,t,n){return function(e,t,n){return vT.apply(this,arguments)}(e,t,n)}function vT(){return vT=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bx((i=Yr(t)).auth,n,gE),e.next=4,i.auth._initializationPromise;case 4:return a=VI(i.auth,r),e.next=7,VE(!1,i,n.providerId);case 7:return e.next=9,aT(a,i.auth);case 9:return e.next=11,kT(i);case 11:return u=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",u));case 13:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NS(t)._initializationPromise;case 2:return e.abrupt("return",gT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t){return bT.apply(this,arguments)}function bT(){return bT=s(o().mark((function e(t,n){var r,i,a,u,s,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=NS(t),a=VI(i,n),u=new nT(i,a,r),e.next=6,u.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function kT(e){return wT.apply(this,arguments)}function wT(){return(wT=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H_("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xT=function(){function e(t){mr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return gr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ET(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yx(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ST(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ST(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ET(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _T(e){return IT.apply(this,arguments)}function IT(){return IT=s(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Mx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}var TT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CT=/^https?/;function RT(){return RT=s(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_T(t);case 4:n=e.sent,r=n.authorizedDomains,i=lr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(u=a.value,e.prev=11,!AT(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:mx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),RT.apply(this,arguments)}function AT(e){var t=Ix(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!CT.test(r))return!1;if(TT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var NT=new Rx(3e4,6e4);function DT(){var e=Q_().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=vr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var OT=null;function PT(e){return OT=OT||function(e){return new Promise((function(t,n){var r,i,a;function o(){DT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){DT(),n(yx(e,"network-request-failed"))},timeout:NT.get()})}if(null===(i=null===(r=Q_().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Q_().gapi)||void 0===a?void 0:a.load)){var u=gI("iframefcb");return Q_()[u]=function(){gapi.load?o():n(yx(e,"network-request-failed"))},yI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw OT=null,e}))}(e),OT}var MT=new Rx(5e3,15e3),LT="__/auth/iframe",FT="emulator/auth/iframe",jT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VT(e){var t=e.config;wx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ax(t,FT):"https://".concat(e.config.authDomain,"/").concat(LT),r={apiKey:t.apiKey,appName:e.name,v:$i},i=UT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Wr(r).slice(1))}function zT(e){return BT.apply(this,arguments)}function BT(){return BT=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT(t);case 2:return n=e.sent,wx(r=Q_().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:VT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jT,dontclear:!0},(function(e){return new Promise(function(){var n=s(o().mark((function n(r,i){var a,u,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Q_().clearTimeout(u),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=yx(t,"network-request-failed"),u=Q_().setTimeout((function(){i(a)}),MT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}var qT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WT=500,KT=600,HT="_blank",GT="http://localhost",QT=function(){function e(t){mr(this,e),this.window=t,this.associatedEvent=null}return gr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WT,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:KT,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},qT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Nr().toLowerCase();n&&(u=wS(c)?HT:n),bS(c)&&(t=t||GT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return IS(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new QT(null);var f=window.open(t||"",u,l);wx(f,e,"popup-blocked");try{f.focus()}catch(d){}return new QT(f)}var XT="__/auth/handler",YT="emulator/auth/handler";function JT(e,t,n,r,i,a){wx(e.config.authDomain,e,"auth-domain-config-required"),wx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$i,eventId:i};if(t instanceof gE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=h(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof bE){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(XT);return Ax(t,YT)}(e),"?").concat(Wr(p).slice(1))}var ZT="webStorageSupport",eC=function(){function e(){mr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q_,this._completeRedirectFn=gT,this._overrideRedirectResult=uT}return gr(e,[{key:"_openPopup",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),u=JT(t,n,r,Ix(),i),e.abrupt("return",$T(t,u,H_()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=JT(t,n,r,Ix(),i),Q_().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Sx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zT(t);case 2:return n=e.sent,r=new xT(t),n.register("authEvent",(function(e){return wx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ZT,{type:ZT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ZT];void 0!==i&&t(!!i),mx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return RT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return TS()||kS()||IS()}}]),e}(),tC=eC,nC=function(){function e(t){mr(this,e),this.factorId=t}return gr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xx("unexpected MultiFactorSessionType")}}}]),e}(),rC=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this,"phone")).credential=e,r}return gr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Mx(e,"POST","/v2/accounts/mfaEnrollment:finalize",Px(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Mx(e,"POST","/v2/accounts/mfaSignIn:finalize",Px(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(nC),iC=function(){function e(){mr(this,e)}return gr(e,null,[{key:"assertion",value:function(e){return rC._fromCredential(e)}}]),e}();iC.FACTOR_ID="phone";var aC="@firebase/auth",oC="0.21.4",uC=function(){function e(t){mr(this,e),this.auth=t,this.internalListeners=new Map}return gr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){wx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var sC;!function(e){var t;null===(t=Ir())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function cC(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function lC(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}sC="Browser",Bi(new Jr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){wx(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),wx(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:sC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(sC)},i=new AS(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_x);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Bi(new Jr("auth-internal",(function(e){return function(e){return new uC(e)}(NS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ta(aC,oC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sC)),ta(aC,oC,"esm2017");var fC=function(){return fC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fC.apply(this,arguments)},dC=function(e){return{loading:void 0===e||null===e,value:e}},hC=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return fC(fC({},e),{error:t.error,loading:!1,value:void 0});case"reset":return dC(t.defaultValue);case"value":return fC(fC({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),dC(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},pC=function(e,n){var r=hC((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return Yr(e).onAuthStateChanged(t,n,r)}(e,(function(e){return cC(void 0,void 0,void 0,(function(){var t;return lC(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]),[s,a,i]},vC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mC=t.createContext&&t.createContext(vC),yC=function(){return yC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yC.apply(this,arguments)},gC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bC(e){return e&&e.map((function(e,n){return t.createElement(e.tag,yC({key:n},e.attr),bC(e.child))}))}function kC(e){return function(n){return t.createElement(wC,yC({attr:yC({},e.attr)},n),bC(e.child))}}function wC(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=gC(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",yC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:yC(yC({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==mC?t.createElement(mC.Consumer,null,(function(e){return n(e)})):n(vC)}function xC(e){return kC({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function SC(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function EC(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function _C(e){return kC({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}var IC,TC="firebasestorage.googleapis.com",CC="storageBucket",RC=12e4,AC=6e5,NC=function(e){fr(n,e);var t=hr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mr(this,n),(i=t.call(this,DC(e),"Firebase Storage: ".concat(r," (").concat(DC(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(dr(i),n.prototype),i}return gr(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return DC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(jr);function DC(e){return"storage/"+e}function OC(){return new NC(IC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function PC(){return new NC(IC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MC(){return new NC(IC.CANCELED,"User canceled the upload/download.")}function LC(){return new NC(IC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FC(e){return new NC(IC.INVALID_ARGUMENT,e)}function jC(){return new NC(IC.APP_DELETED,"The Firebase app was deleted.")}function UC(e,t){return new NC(IC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function VC(e){throw new NC(IC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(IC||(IC={}));var zC,BC=function(){function e(t,n){mr(this,e),this.bucket=t,this.path_=n}return gr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new NC(IC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===TC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new NC(IC.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),qC=function(){function e(t){mr(this,e),this.promise_=Promise.reject(t)}return gr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function WC(e){return"string"===typeof e||e instanceof String}function KC(e){return HC()&&e instanceof Blob}function HC(){return"undefined"!==typeof Blob&&!Dr()}function GC(e,t,n,r){if(r<t)throw FC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw FC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function QC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function $C(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function XC(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zC||(zC={}));var YC=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this,h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];mr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return gr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=OC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?jC():MC());else i(PC())}};this.canceled_?t(0,new JC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new JC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===zC.NO_ERROR,a=r.getStatus();if(!n||XC(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===zC.ABORT;t(!1,new JC(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new JC(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),JC=gr((function e(t,n,r){mr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function ZC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function eR(){for(var e=ZC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(HC())return new Blob(n);throw new NC(IC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function tR(e){if("undefined"===typeof atob)throw t="base-64",new NC(IC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var nR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rR=gr((function e(t,n){mr(this,e),this.data=t,this.contentType=n||null}));function iR(e,t){switch(e){case nR.RAW:return new rR(aR(t));case nR.BASE64:case nR.BASE64URL:return new rR(oR(e,t));case nR.DATA_URL:return new rR(function(e){var t=new uR(e);return t.base64?oR(nR.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw UC(nR.DATA_URL,"Malformed data URL.")}return aR(t)}(t.rest)}(t),new uR(t).contentType)}throw OC()}function aR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function oR(e,t){switch(e){case nR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw UC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case nR.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw UC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=tR(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw UC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var uR=gr((function e(t){mr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw UC(nR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var sR=function(){function e(t,n){mr(this,e);var r=0,i="";KC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return gr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(KC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(HC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(eR.apply(null,i))}var a=n.map((function(e){return WC(e)?iR(nR.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function cR(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function lR(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fR(e,t){return t}var dR=gr((function e(t,n,r,i){mr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||fR})),hR=null;function pR(){if(hR)return hR;var e=[];e.push(new dR("bucket")),e.push(new dR("generation")),e.push(new dR("metageneration")),e.push(new dR("name","fullPath",!0));var t=new dR("name");t.xform=function(e,t){return function(e){return!WC(e)||e.length<2?e:lR(e)}(t)},e.push(t);var n=new dR("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dR("timeCreated")),e.push(new dR("updated")),e.push(new dR("md5Hash",null,!0)),e.push(new dR("cacheControl",null,!0)),e.push(new dR("contentDisposition",null,!0)),e.push(new dR("contentEncoding",null,!0)),e.push(new dR("contentLanguage",null,!0)),e.push(new dR("contentType",null,!0)),e.push(new dR("metadata","customMetadata",!0)),hR=e}function vR(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new BC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function mR(e,t,n){var r=cR(t);return null===r?null:vR(e,r,n)}function yR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var gR=gr((function e(t,n,r,i){mr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function bR(e){if(!e)throw OC()}function kR(e,t){return function(n,r){var i=mR(e,r,t);return bR(null!==i),i}}function wR(e,t){return function(n,r){var i=mR(e,r,t);return bR(null!==i),function(e,t,n,r){var i=cR(t);if(null===i)return null;if(!WC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return QC("/b/"+o(i)+"/o/"+o(a),n,r)+$C({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function xR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new NC(IC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new NC(IC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new NC(IC.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new NC(IC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function SR(e){var t=xR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new NC(IC.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ER(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function _R(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=ER(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yR(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=sR.getBlob(c,r,l);if(null===f)throw LC();var d={name:s.fullPath},h=QC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new gR(h,"POST",kR(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=xR(t),v}var IR=null,TR=function(){function e(){var t=this;mr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=zC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=zC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return gr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw VC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw VC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw VC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw VC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw VC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),CR=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(TR);function RR(){return IR?IR():new CR}var AR=function(){function e(t,n){mr(this,e),this._service=t,this._location=n instanceof BC?n:BC.makeFromUrl(n,t.host)}return gr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new BC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return lR(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new BC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new NC(IC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function NR(e,t,n){e._throwIfRoot("uploadBytes");var r=_R(e.storage,e._location,pR(),new sR(t,!0),n);return e.storage.makeRequestWithTokens(r,RR).then((function(t){return{metadata:t,ref:e}}))}function DR(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=QC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new gR(r,"GET",wR(e,n),i);return a.errorHandler=SR(t),a}(e.storage,e._location,pR());return e.storage.makeRequestWithTokens(t,RR).then((function(e){if(null===e)throw new NC(IC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function OR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new BC(e._location.bucket,n);return new AR(e.storage,r)}function PR(e,t){if(e instanceof jR){var n=e;if(null==n._bucket)throw new NC(IC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CC+"' property when initializing the app?");var r=new AR(n,n._bucket);return null!=t?PR(r,t):r}return void 0!==t?OR(e,t):e}function MR(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jR)return new AR(e,t);throw FC("To use ref(service, url), the first argument must be a Storage instance.")}return PR(e,t)}function LR(e,t){var n=null===t||void 0===t?void 0:t[CC];return null==n?null:BC.makeFromBucketSpec(n,e)}var FR,jR=function(){function e(t,n,r,i,a){mr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RC,this._maxUploadRetryTime=AC,this._requests=new Set,this._bucket=null!=i?BC.makeFromBucketSpec(i,this._host):LR(this._host,this.app.options)}return gr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=BC.makeFromBucketSpec(this._url,e):this._bucket=LR(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new AR(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new qC(jC());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=$C(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new YC(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=s(o().mark((function e(t,n){var r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=h(r,2),a=i[0],u=i[1],e.abrupt("return",this._makeRequest(t,n,a,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),UR="@firebase/storage",VR="0.11.2",zR="storage";function BR(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ar(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function qR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jR(r,i,a,n,$i)}Bi(new Jr(zR,qR,"PUBLIC").setMultipleInstances(!0)),ta(UR,VR,""),ta(UR,VR,"esm2017");var WR=function(){function e(t,n){var r=this;mr(this,e),this._delegate=t,this.firebase=n,Vi(t,new Jr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return gr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Zi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Li;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Li;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){zi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),KR=(He(FR={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(FR,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),FR),HR=new Ur("app-compat","Firebase",KR);var GR=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Xi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(zr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ta,setLogLevel:ra,onLog:na,apps:null,SDK_VERSION:$i,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Bi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw HR.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Er(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!zr(n,e=e||Li))throw HR.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(WR);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Er(n,e)},createSubscribe:Gr,ErrorFactory:Ur,deepExtend:Er}),n}(),QR=new li("@firebase/app-compat"),$R="@firebase/app-compat",XR="0.2.4";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){QR.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var YR=self.firebase.SDK_VERSION;YR&&YR.indexOf("LITE")>=0&&QR.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var JR=GR;!function(e){ta($R,XR,e)}();function ZR(e){return c(e)||pr(e)||f(e)||d()}function eA(){return window}JR.registerVersion("firebase","9.17.2","app-compat");var tA=2e3;function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return rA=s(o().mark((function e(t,n,r){var i,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eA(),u=a.BuildInfo,Sx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cA(n.sessionId);case 4:return s=e.sent,c={},IS()?c.ibi=u.packageName:SS()?c.apn=u.packageName:mx(t,"operation-not-supported-in-this-environment"),u.displayName&&(c.appDisplayName=u.displayName),c.sessionId=s,e.abrupt("return",JT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(){return iA=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eA(),r=n.BuildInfo,i={},IS()?i.iosBundleId=r.packageName:SS()?i.androidPackageName=r.packageName:mx(t,"operation-not-supported-in-this-environment"),e.next=5,_T(t,i);case 5:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e){var t=eA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oA(e,t,n){return uA.apply(this,arguments)}function uA(){return uA=s(o().mark((function e(t,n,r){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eA(),a=i.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(yx(t,"redirect-cancelled-by-user"))}),tA))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),SS()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),uA.apply(this,arguments)}function sA(e){var t,n,r,i,a,o,u,s,c,l,f=eA();wx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wx("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cA(e){return lA.apply(this,arguments)}function lA(){return(lA=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fA(e){if(Sx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var dA=20,hA=function(e){fr(n,e);var t=hr(n);function n(){var e;return mr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return gr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),sr(ur(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(xT);function pA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:bA(),postBody:null,tenantId:e.tenantId,error:yx(e,"no-auth-event")}}function vA(e,t){return kA()._set(wA(e),t)}function mA(e){return yA.apply(this,arguments)}function yA(){return yA=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kA()._get(wA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kA()._remove(wA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){var n,r,i=function(e){var t=xA(e),n=t.link?decodeURIComponent(t.link):void 0,r=xA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?yx(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function bA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<dA;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kA(){return _x(z_)}function wA(e){return mS("authEvent",e.config.apiKey,e.name)}function xA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=ZR(e.split("?"));t[0];return Kr(t.slice(1).join("?"))}var SA=function(){function e(){mr(this,e),this._redirectPersistence=q_,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gT,this._overrideRedirectResult=uT}return gr(e,[{key:"_initialize",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){mx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){var a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),tT.clear(),e.next=10,this._originValidation(t);case 10:return u=pA(t,r,i),e.next=13,vA(t,u);case 13:return e.next=15,nA(t,u,n);case 15:return s=e.sent,e.next=18,aA(s);case 18:return c=e.sent,e.abrupt("return",oA(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return iA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=eA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,u=setTimeout(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mA(e);case 2:t.onEvent(_A());case 3:case"end":return n.stop()}}),n)}))),500),c=function(){var n=s(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,mA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gA(i,r.url)),t.onEvent(a||_A());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,c);var l=i,f="".concat(a.packageName.toLowerCase(),"://");eA().handleOpenURL=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),EA=SA;function _A(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yx("no-auth-event")}}var IA="@firebase/auth-compat",TA="0.3.4",CA=1e3;function RA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function AA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return!("file:"!==RA()&&"ionic:"!==RA()&&"capacitor:"!==RA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function NA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return Mr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/Edge\/\d+/.test(e)}(e)}function DA(){try{var e=self.localStorage,t=H_();if(e)return e.setItem(t,"1"),e.removeItem(t),!NA()||Lr()}catch(n){return OA()&&Lr()}return!1}function OA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function PA(){return("http:"===RA()||"https:"===RA()||Or()||AA())&&!(Pr()||Dr())&&DA()&&!OA()}function MA(){return AA()&&"undefined"!==typeof document}function LA(){return FA.apply(this,arguments)}function FA(){return(FA=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),CA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jA={LOCAL:"local",NONE:"none",SESSION:"session"},UA=wx,VA="persistence";function zA(e,t){UA(Object.values(jA).includes(t),e,"invalid-persistence-type"),Pr()?UA(t!==jA.SESSION,e,"unsupported-persistence-type"):Dr()?UA(t===jA.NONE,e,"unsupported-persistence-type"):OA()?UA(t===jA.NONE||t===jA.LOCAL&&Lr(),e,"unsupported-persistence-type"):UA(t===jA.NONE||DA(),e,"unsupported-persistence-type")}function BA(e){return qA.apply(this,arguments)}function qA(){return qA=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=WA(),r=mS(VA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function WA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var KA=wx,HA=function(){function e(){mr(this,e),this.browserResolver=_x(tC),this.cordovaResolver=_x(EA),this.underlyingResolver=null,this._redirectPersistence=q_,this._completeRedirectFn=gT,this._overrideRedirectResult=uT}return gr(e,[{key:"_initialize",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return MA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return KA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,LA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function GA(e){return e.unwrap()}function QA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ZA(e,function(e,t){var n,r=Yr(e),i=t;return wx(t.customData.operationType,r,"argument-error"),wx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),D_._fromError(r,i)}(e,t));else if(r){var i=$A(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $A(e){var t=(e instanceof jr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof jr)&&"temporaryProof"in t&&"phoneNumber"in t)return UI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===sx.PASSWORD)return null;switch(r){case sx.GOOGLE:n=xE;break;case sx.FACEBOOK:n=wE;break;case sx.GITHUB:n=SE;break;case sx.TWITTER:n=TE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?EE._create(r,u):sE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new kE(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof jr?n.credentialFromError(e):n.credentialFromResult(e)}function XA(e,t){return t.catch((function(t){throw t instanceof jr&&QA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$A(t)),additionalUserInfo:A_(e),user:eN.getOrCreate(r)}}))}function YA(e,t){return JA.apply(this,arguments)}function JA(){return JA=s(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return XA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}var ZA=function(){function e(t,n){mr(this,e),this.resolver=n,this.auth=t.wrapped()}return gr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return XA(GA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),eN=function(){function e(t){mr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Yr(e);return L_.has(t)||L_.set(t,M_._fromUser(t)),L_.get(t)}(t)}return gr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(this.auth,QE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YA(this.auth,OI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(this.auth,YI(this._delegate,t,HA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BA(NS(this.auth));case 2:return e.abrupt("return",pT(this._delegate,t,HA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(this.auth,XE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return YA(this.auth,function(e,t,n){return MI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return XA(this.auth,function(e,t,n){return XI.apply(this,arguments)}(this._delegate,e,HA))}},{key:"reauthenticateWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BA(NS(this.auth));case 2:return e.abrupt("return",dT(this._delegate,t,HA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return y_.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return x_(Yr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return x_(Yr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return jI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return w_.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return g_.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();eN.USER_MAP=new WeakMap;var tN=wx,nN=function(){function e(t,n){if(mr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;tN(r,"invalid-api-key",{appName:t.name}),tN(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?HA:void 0;this._delegate=n.initialize({options:{persistence:iN(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(fx),this.linkUnderlyingAuth()}return gr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?eN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){OS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return o_.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u_(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return a_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=s(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XA(this._delegate,l_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return m_.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,mT(this._delegate,HA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",XA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){NS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=rN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=rN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return d_.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return i_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zA(this._delegate,t),e.t0=t,e.next=e.t0===jA.SESSION?4:e.t0===jA.LOCAL?6:e.t0===jA.NONE?11:13;break;case 4:return n=q_,e.abrupt("break",14);case 6:return e.next=8,_x(hI)._isAvailable();case 8:return r=e.sent,n=r?hI:z_,e.abrupt("break",14);case 11:return n=vS,e.abrupt("break",14);case 13:return e.abrupt("return",mx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return XA(this._delegate,function(e){return DE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return XA(this._delegate,HE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return XA(this._delegate,function(e,t){return e_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return XA(this._delegate,function(e,t,n){return HE(Yr(e),yE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return XA(this._delegate,function(e,t,n){return h_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return YA(this._delegate,function(e,t,n){return DI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",XA(this._delegate,QI(this._delegate,t,HA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,BA(this._delegate);case 3:return e.abrupt("return",lT(this._delegate,t,HA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return c_.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function rN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&eN.getOrCreate(e))},error:t,complete:n}}function iN(e,t){var n=function(e,t){var n=WA();if(!n)return[];var r=mS(VA,e,t);switch(n.getItem(r)){case jA.NONE:return[vS];case jA.LOCAL:return[hI,q_];case jA.SESSION:return[q_];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hI)||n.push(hI),"undefined"!==typeof window)for(var r=0,i=[z_,q_];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(vS)||n.push(vS),n}nN.Persistence=jA;var aN=function(){function e(){mr(this,e),this.providerId="phone",this._delegate=new UI(GA(JR.auth()))}return gr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return UI.credential(e,t)}}]),e}();aN.PHONE_SIGN_IN_METHOD=UI.PHONE_SIGN_IN_METHOD,aN.PROVIDER_ID=UI.PROVIDER_ID;var oN,uN=wx,sN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JR.app();mr(this,e),uN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new RI(t,n,i.auth()),this.type=this._delegate.type}return gr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),cN="auth-compat";(oN=JR).INTERNAL.registerComponent(new Jr(cN,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new nN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cx.EMAIL_SIGNIN,PASSWORD_RESET:cx.PASSWORD_RESET,RECOVER_EMAIL:cx.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:cx.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:cx.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:cx.VERIFY_EMAIL}},EmailAuthProvider:yE,FacebookAuthProvider:wE,GithubAuthProvider:SE,GoogleAuthProvider:xE,OAuthProvider:kE,SAMLAuthProvider:IE,PhoneAuthProvider:aN,PhoneMultiFactorGenerator:iC,RecaptchaVerifier:sN,TwitterAuthProvider:TE,Auth:nN,AuthCredential:LS,Error:jr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oN.registerVersion(IA,TA);var lN="@firebase/firestore-compat",fN="0.3.4";function dN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function hN(){if("undefined"===typeof Uint8Array)throw new Uc("unimplemented","Uint8Arrays are not available in this environment.")}function pN(){if("undefined"==typeof atob)throw new Uc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var vN=function(){function e(t){mr(this,e),this._delegate=t}return gr(e,[{key:"toBase64",value:function(){return pN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return hN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return pN(),new e(Pk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return hN(),new e(Pk.fromUint8Array(t))}}]),e}();function mN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=lr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var yN=function(){function e(){mr(this,e)}return gr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Ok(e=ck(e,Ek));var n=Ik(e),r=e._freezeSettings(),i=new Ob;return Ck(n,i,new Nb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Ok(e=ck(e,Ek));var t=Ik(e),n=e._freezeSettings(),r=new Ob;return Ck(t,r,new Db(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uc(jc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vc;return e._queue.enqueueAndForgetEvenWhileRestricted(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xl.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,xl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Cm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),gN=function(){function e(t,n,r){var i=this;mr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Pl||(this._appCompat=t)}return gr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Oc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Rk(this._delegate)}},{key:"disableNetwork",value:function(){return Ak(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ak("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Yg,n.next=3,Yb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ik(e=ck(e,Ek)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Yw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new DN(this,yk(this._delegate,e))}catch(t){throw EN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SN(this,gk(this._delegate,e))}catch(t){throw EN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new RN(this,function(e,t){if(e=ck(e,dk),ik("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uc(jc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new vk(e,null,function(e){return new od(rl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw EN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=ck(e,Ek);var r=Object.assign(Object.assign({},ex),n);return function(e){if(e.maxAttempts<1)throw new Uc(jc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Vc;return e.asyncQueue.enqueueAndForget(s(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Jb(e);case 2:a=i.sent,new jb(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Ik(e),(function(n){return t(new rx(e,n))}),r)}(this._delegate,(function(n){return e(new kN(t,n))}))}},{key:"batch",value:function(){var e=this;return Ik(this._delegate),new wN(new tx(this._delegate,(function(t){return Jw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Nk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Dk(this._delegate,e).then((function(e){return e?new RN(t,e):null}))}}]),e}(),bN=function(e){fr(n,e);var t=hr(n);function n(e){var r;return mr(this,n),(r=t.call(this)).firestore=e,r}return gr(n,[{key:"convertBytes",value:function(e){return new vN(new Pk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SN.forKey(t,this.firestore,null)}}]),n}(Ow);var kN=function(){function e(t,n){mr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new bN(t)}return gr(e,[{key:"get",value:function(e){var t=this,n=ON(e);return this._delegate.get(n).then((function(e){return new TN(t._firestore,new Fw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ON(e);return n?(dN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ON(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ON(e);return this._delegate.delete(t),this}}]),e}(),wN=function(){function e(t){mr(this,e),this._delegate=t}return gr(e,[{key:"set",value:function(e,t,n){var r=ON(e);return n?(dN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ON(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ON(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),xN=function(){function e(t,n,r){mr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return gr(e,[{key:"fromFirestore",value:function(e,t){var n=new jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new bN(t),n),i.set(n,a)),a}}]),e}();xN.INSTANCES=new WeakMap;var SN=function(){function e(t,n){mr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bN(t)}return gr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new DN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new DN(this.firestore,yk(this._delegate,e))}catch(t){throw EN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Yr(e))instanceof pk&&bk(this._delegate,e)}},{key:"set",value:function(e,t){t=dN("DocumentReference.set",t);try{return t?Gw(this._delegate,e,t):Gw(this._delegate,e)}catch(n){throw EN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Qw(this._delegate,e):Qw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw EN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return $w(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_N(n),a=IN(n,(function(t){return new TN(e.firestore,new Fw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Xw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ww(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ck(e,pk);var t=ck(e.firestore,Ek);return tk(Ik(t),e._key,{source:"server"}).then((function(n){return Zw(t,e,n)}))}(this._delegate):Bw(this._delegate),t.then((function(e){return new TN(n.firestore,new Fw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new pk(n._delegate,r,new ol(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new pk(n._delegate,r,t))}}]),e}();function EN(e,t,n){return e.message=e.message.replace(t,n),e}function _N(e){var t,n=lr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!mN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function IN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=mN(e[0])?e[0]:mN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var TN=function(){function e(t,n){mr(this,e),this._firestore=t,this._delegate=n}return gr(e,[{key:"ref",get:function(){return new SN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zw(this._delegate,e._delegate)}}]),e}(),CN=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mc()}(void 0!==t),t}}]),n}(TN),RN=function(){function e(t,n){mr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bN(t)}return gr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,mw(this._delegate,gw(t,n,r)))}catch(i){throw EN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,mw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dw("orderBy",e);return kw._create(n,t)}(t,n)))}catch(r){throw EN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,mw(this._delegate,function(e){return lk("limit",e),ww._create("limit",e,"F")}(t)))}catch(n){throw EN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,mw(this._delegate,function(e){return lk("limitToLast",e),ww._create("limitToLast",e,"L")}(t)))}catch(n){throw EN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,mw(this._delegate,Sw.apply(void 0,arguments)))}catch(t){throw EN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,mw(this._delegate,Ew.apply(void 0,arguments)))}catch(t){throw EN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,mw(this._delegate,Iw.apply(void 0,arguments)))}catch(t){throw EN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,mw(this._delegate,Tw.apply(void 0,arguments)))}catch(t){throw EN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return kk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Hw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ck(e,vk);var t=ck(e.firestore,Ek),n=Ik(t),r=new qw(t);return nk(n,e._query,{source:"server"}).then((function(n){return new Uw(t,r,e,n)}))}(this._delegate):Kw(this._delegate),t.then((function(e){return new NN(n.firestore,new Uw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_N(n),a=IN(n,(function(t){return new NN(e.firestore,new Uw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Xw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),AN=function(){function e(t,n){mr(this,e),this._firestore=t,this._delegate=n}return gr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new CN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),NN=function(){function e(t,n){mr(this,e),this._firestore=t,this._delegate=n}return gr(e,[{key:"query",get:function(){return new RN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new CN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new AN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new CN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zw(this._delegate,e._delegate)}}]),e}(),DN=function(e){fr(n,e);var t=hr(n);function n(e,r){var i;return mr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return gr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SN(this.firestore,void 0===e?gk(this._delegate):gk(this._delegate,e))}catch(t){throw EN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ck(e.firestore,Ek),r=gk(e),i=Pw(e.converter,t);return Jw(n,[Kk(Wk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zd.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(xN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(RN);function ON(e){return ck(e,pk)}var PN=function(){function e(){mr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=or(Mk,n)}return gr(e,[{key:"isEqual",value:function(e){return(e=Yr(e))instanceof Mk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(al.keyField().canonicalString())}}]),e}(),MN=function(){function e(t){mr(this,e),this._delegate=t}return gr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Qk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Hk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ix.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ax.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Yk("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),LN={Firestore:gN,GeoPoint:Fk,Timestamp:el,Blob:vN,Transaction:kN,WriteBatch:wN,DocumentReference:SN,DocumentSnapshot:TN,Query:RN,QueryDocumentSnapshot:CN,QuerySnapshot:NN,CollectionReference:DN,FieldPath:PN,FieldValue:MN,setLogLevel:function(e){!function(e){Rc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Jr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},LN)))}(e,(function(e,t){return new gN(e,t,new yN)})),e.registerVersion(lN,fN)}(JR);var FN=JR.initializeApp({apiKey:"AIzaSyDZoQ9hLRAcZpY4-WlacU5M37uFpxOesWY",authDomain:"firechat-60a6c.firebaseapp.com",projectId:"firechat-60a6c",storageBucket:"firechat-60a6c.appspot.com",messagingSenderId:"790402549965",appId:"1:790402549965:web:62e8eec1b35c868bb54184"}),jN=FN.firestore(),UN=FN.auth(),VN=new JR.auth.GoogleAuthProvider;VN.setCustomParameters({prompt:"select_account"});var zN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi(),t=arguments.length>1?arguments[1]:void 0,n=qi(e=Yr(e),zR).getImmediate({identifier:t}),r=Tr("storage");return r&&BR.apply(void 0,[n].concat(vr(r))),n}(FN);var BN=n.p+"static/media/loading.112e0687f86ebc485e7ca8abf7d6b0b4.svg";function qN(){return(0,Yn.jsx)("div",{className:"Loading flex w-full h-full justify-center items-center",children:(0,Yn.jsx)("img",{src:BN,alt:"Loading...",className:"w-[60px] lg:w-[100px] xl:w-[130px]"})})}var WN=function(){return WN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WN.apply(this,arguments)},KN=function(e){return{loading:void 0===e||null===e,value:e}},HN=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return WN(WN({},e),{error:t.error,loading:!1,value:void 0});case"reset":return KN(t.defaultValue);case"value":return WN(WN({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),KN(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},GN=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},QN=function(e,t){var n=!e&&!t,r=!!e&&!!t&&kk(e,t);return n||r},$N=function(e,t){return GN(e,QN,t)},XN=function(e,n){var r=HN(),i=r.error,a=r.loading,o=r.reset,u=r.setError,s=r.setValue,c=r.value,l=$N(e,o);return(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?Xw(l.current,n.snapshotListenOptions,s,u):Xw(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,i]},YN=function(e,t){var n=XN(e,t),r=n[0],i=n[1],a=n[2];return[JN(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),i,a,r]},JN=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)})))&&void 0!==t?t:r}),[e,n])};function ZN(e){return kC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function eD(e){return kC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"}}]})(e)}function tD(e){return kC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}function nD(e){return kC({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}function rD(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.1 334.7c-11.2-4-29.5-4.2-37.6-7.3-5.6-2.2-14.5-4.6-17.4-8.1-2.9-3.5-2.9-28.5-2.9-28.5s7-6.6 9.9-14c2.9-7.3 4.8-27.5 4.8-27.5s6.6 2.8 9.2-10.4c2.2-11.4 6.4-17.4 5.3-25.8-1.2-8.4-5.8-6.4-5.8-6.4s5.8-8.5 5.8-37.4c0-29.8-22.5-59.1-64.6-59.1-42 0-64.7 29.4-64.7 59.1 0 28.9 5.7 37.4 5.7 37.4s-4.7-2-5.8 6.4c-1.2 8.4 3 14.4 5.3 25.8 2.6 13.3 9.2 10.4 9.2 10.4s1.9 20.1 4.8 27.5c2.9 7.4 9.9 14 9.9 14s0 25-2.9 28.5-11.8 5.9-17.4 8c-8 3.1-26.3 3.5-37.6 7.5-11.2 4-45.8 22.2-45.8 67.2h278.3c.1-45.1-34.5-63.3-45.7-67.3z"}},{tag:"path",attr:{d:"M140 286s23.9-.8 33.4-9.3c-15.5-23.5-7.1-50.9-10.3-76.5-3.2-25.5-17.7-40.8-46.7-40.8h-.4c-28 0-43.1 15.2-46.3 40.8-3.2 25.5 5.7 56-10.2 76.5C69 285.3 93 285 93 285s1 14.4-1 16.8c-2 2.4-7.9 4.7-12 5.5-8.8 1.9-18.1 4.5-25.9 7.2-7.8 2.7-22.6 17.2-22.6 37.2h80.3c2.2-8 17.3-22.3 32-29.8 9-4.6 17.9-4.3 24.7-5.2 0 0 3.8-6-8.7-8.3 0 0-17.2-4.3-19.2-6.7-1.9-2.2-.6-15.7-.6-15.7zM372 286s-23.9-.8-33.4-9.3c15.5-23.5 7.1-50.9 10.3-76.5 3.2-25.5 17.7-40.8 46.7-40.8h.4c28 0 43.1 15.2 46.3 40.8 3.2 25.5-5.7 56 10.2 76.5-9.5 8.6-33.5 8.3-33.5 8.3s-1 14.4 1 16.8c2 2.4 7.9 4.7 12 5.5 8.8 1.9 18.1 4.5 25.9 7.2 7.8 2.7 22.6 17.2 22.6 37.2h-80.3c-2.2-8-17.3-22.3-32-29.8-9-4.6-17.9-4.3-24.7-5.2 0 0-3.8-6 8.7-8.3 0 0 17.2-4.3 19.2-6.7 1.9-2.2.6-15.7.6-15.7z"}}]})(e)}function iD(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M457.6 224l-2.1-8.9H262V297h115.6c-12 57-67.7 87-113.2 87-33.1 0-68-13.9-91.1-36.3-23.7-23-38.8-56.9-38.8-91.8 0-34.5 15.5-69 38.1-91.7 22.5-22.6 56.6-35.4 90.5-35.4 38.8 0 66.6 20.6 77 30l58.2-57.9c-17.1-15-64-52.8-137.1-52.8-56.4 0-110.5 21.6-150 61C72.2 147.9 52 204 52 256s19.1 105.4 56.9 144.5c40.4 41.7 97.6 63.5 156.5 63.5 53.6 0 104.4-21 140.6-59.1 35.6-37.5 54-89.4 54-143.8 0-22.9-2.3-36.5-2.4-37.1z"}}]})(e)}function aD(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(e)}var oD=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e!==t}))[0]};function uD(e){var t,n,r=e.id,i=e.users,a=e.user,o=e.setUserChat,u=e.active,s=e.UserData,c=h(XN(jN.collection("usersDB").where("userID","==",oD(i,a))),1)[0],l=null===c||void 0===c||null===(t=c.docs)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.data();return(0,Yn.jsxs)("div",{className:"".concat(u," border-t-[1px] border-b-[1px] border-opacity-30 border-gray-100 color3 flex items-center md:gap-2 hover:bg-[#a34373] transition cursor-pointer gap-1 p-2"),onClick:function(){var e={chatId:r,username:l.username,photoURL:l.photoURL,userID:l.userID,UserData:s};o(e)},children:[l?(0,Yn.jsx)("img",{className:"xl:w-[60px] lg:w-[50px] w-[40px] rounded-full",alt:"Imagem do Usu\xe1rio",src:l.photoURL,referrerPolicy:"no-referrer"}):(0,Yn.jsx)(nD,{}),(0,Yn.jsx)("span",{className:"text-sm lg:text-base xl:text-lg text-ellipsis overflow-hidden",children:null===l||void 0===l?void 0:l.username})]})}function sD(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=sD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var cD=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=sD(e))&&(r&&(r+=" "),r+=t);return r};function lD(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}var fD=0;var dD=r.useId;function hD(e){if(void 0!==dD){var n=dD();return null!=e?e:n}return function(e){var n=h(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(fD+=1))}),[r]),a}(e)}var pD=nt;function vD(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function mD(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){vD(t,e)}))}}),n)}function yD(e){return e&&e.ownerDocument||document}var gD="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function bD(e){var n=t.useRef(e);return gD((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function kD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var wD=n(164);var xD=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=h(t.useState(null),2),s=u[0],c=u[1],l=mD(t.isValidElement(r)?r.ref:null,n);if(gD((function(){o||c(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),gD((function(){if(s&&!o)return vD(n,s),function(){vD(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){var f={ref:l};return t.cloneElement(r,f)}return(0,Yn.jsx)(t.Fragment,{children:r})}return(0,Yn.jsx)(t.Fragment,{children:s?wD.createPortal(r,s):s})}));var SD=xD;function ED(e){return yD(e).defaultView||window}function _D(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function ID(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function TD(e){return parseInt(ED(e).getComputedStyle(e).paddingRight,10)||0}function CD(e,t,n,r,i){var a=[t,n].concat(vr(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&ID(e,i)}))}function RD(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function AD(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=yD(e);return t.body===e?ED(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=_D(yD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(TD(r)+i,"px");var a=yD(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(TD(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=yD(r).body;else{var u=r.parentElement,s=ED(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ND=function(){function e(){mr(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return gr(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ID(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);CD(t,e.mount,e.modalRef,r,!0);var i=RD(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=RD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=AD(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=RD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&ID(e.modalRef,t),CD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&ID(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),DD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function OD(e){var t=[],n=[];return Array.from(e.querySelectorAll(DD)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function PD(){return!0}var MD=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?OD:c,f=e.isEnabled,d=void 0===f?PD:f,h=e.open,p=t.useRef(!1),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=mD(n.ref,k),x=t.useRef(null);t.useEffect((function(){h&&k.current&&(b.current=!i)}),[i,h]),t.useEffect((function(){if(h&&k.current){var e=yD(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),t.useEffect((function(){if(h&&k.current){var e=yD(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];"string"!==typeof s&&"string"!==typeof c&&(u?c.focus():s.focus())}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var S=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,Yn.jsxs)(t.Fragment,{children:[(0,Yn.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:v,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,Yn.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:m,"data-testid":"sentinelEnd"})]})},LD=function(e){return e},FD=function(){var e=LD;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=LD}}}(),jD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function UD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=jD[t];return r?"".concat(n,"-").concat(r):"".concat(FD.generate(e),"-").concat(t)}function VD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=UD(e,t,n)})),r}function zD(e){return UD("MuiModal",e)}VD("MuiModal",["root","hidden","backdrop"]);function BD(e){return"string"===typeof e}function qD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}function WD(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function KD(e,t){return"function"===typeof e?e(t):e}var HD=["elementType","externalSlotProps","ownerState"];function GD(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=Ve(e,HD),o=KD(r,i),u=function(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=cD(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=ye({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=ye({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=qD(ye({},i,r)),l=WD(r),f=WD(i),d=t(c),h=cD(null==d?void 0:d.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=ye({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=ye({},d,n,f,l);return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:d.ref}}(ye({},a,{externalSlotProps:o})),s=function(e,t,n){return void 0===e||BD(e)?t:ye({},t,{ownerState:ye({},t.ownerState,n)})}(n,ye({},u.props,{ref:mD(u.internalRef,null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return s}var QD=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];var $D=new ND,XD=t.forwardRef((function(e,n){var r,i,a=e.children,o=e.closeAfterTransition,u=void 0!==o&&o,s=e.component,c=e.container,l=e.disableAutoFocus,f=void 0!==l&&l,d=e.disableEnforceFocus,p=void 0!==d&&d,v=e.disableEscapeKeyDown,m=void 0!==v&&v,y=e.disablePortal,g=void 0!==y&&y,b=e.disableRestoreFocus,k=void 0!==b&&b,w=e.disableScrollLock,x=void 0!==w&&w,S=e.hideBackdrop,E=void 0!==S&&S,_=e.keepMounted,I=void 0!==_&&_,T=e.manager,C=void 0===T?$D:T,R=e.onBackdropClick,A=e.onClose,N=e.onKeyDown,D=e.open,O=e.onTransitionEnter,P=e.onTransitionExited,M=e.slotProps,L=void 0===M?{}:M,F=e.slots,j=void 0===F?{}:F,U=Ve(e,QD),V=h(t.useState(!D),2),z=V[0],B=V[1],q=t.useRef({}),W=t.useRef(null),K=t.useRef(null),H=mD(K,n),G=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),Q=null==(r=e["aria-hidden"])||r,$=function(){return q.current.modalRef=K.current,q.current.mountNode=W.current,q.current},X=function(){C.mount($(),{disableScrollLock:x}),K.current&&(K.current.scrollTop=0)},Y=bD((function(){var e=function(e){return"function"===typeof e?e():e}(c)||yD(W.current).body;C.add($(),e),K.current&&X()})),J=t.useCallback((function(){return C.isTopModal($())}),[C]),Z=bD((function(e){W.current=e,e&&K.current&&(D&&J()?X():ID(K.current,Q))})),ee=t.useCallback((function(){C.remove($(),Q)}),[C,Q]);t.useEffect((function(){return function(){ee()}}),[ee]),t.useEffect((function(){D?Y():G&&u||ee()}),[D,ee,G,u,Y]);var te=ye({},e,{closeAfterTransition:u,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:g,disableRestoreFocus:k,disableScrollLock:x,exited:z,hideBackdrop:E,keepMounted:I}),ne=function(e){var t=e.open,n=e.exited;return lD({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},zD,void 0)}(te),re={};void 0===a.props.tabIndex&&(re.tabIndex="-1"),G&&(re.onEnter=kD((function(){B(!1),O&&O()}),a.props.onEnter),re.onExited=kD((function(){B(!0),P&&P(),u&&ee()}),a.props.onExited));var ie=null!=(i=null!=s?s:j.root)?i:"div",ae=GD({elementType:ie,externalSlotProps:L.root,externalForwardedProps:U,additionalProps:{ref:H,role:"presentation",onKeyDown:function(e){N&&N(e),"Escape"===e.key&&J()&&(m||(e.stopPropagation(),A&&A(e,"escapeKeyDown")))}},className:ne.root,ownerState:te}),oe=j.backdrop,ue=GD({elementType:oe,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(R&&R(e),A&&A(e,"backdropClick"))},open:D},className:ne.backdrop,ownerState:te});return I||D||G&&!z?(0,Yn.jsx)(SD,{ref:Z,container:c,disablePortal:g,children:(0,Yn.jsxs)(ie,ye({},ae,{children:[!E&&oe?(0,Yn.jsx)(oe,ye({},ue)):null,(0,Yn.jsx)(MD,{disableEnforceFocus:p,disableAutoFocus:f,disableRestoreFocus:k,isEnabled:J,open:D,children:t.cloneElement(a,re)})]}))}):null})),YD=XD,JD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZD=we((function(e){return JD.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),eO=function(e){return"theme"!==e},tO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ZD:eO},nO=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rO=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Hn(t,n,r);Oe((function(){return Gn(t,n,r)}));return null},iO=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=nO(n,r,o),c=s||tO(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var h=f.length,p=1;p<h;p++)d.push(f[p],f[0][p])}var v=Le((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Fe)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Ne(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?tO(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(rO,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=d,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,ye({},r,n,{shouldForwardProp:nO(v,n,!0)})).apply(void 0,d)},v}},aO=iO.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){aO[e]=aO(e)}));var oO=aO;var uO=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},sO=["variant"];function cO(e){return 0===e.length}function lO(e){var t=e.variant,n=Ve(e,sO),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?cO(r)?e[t]:nt(e[t]):"".concat(cO(r)?t:nt(t)).concat(nt(e[t].toString()))})),r}var fO=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],dO=["theme"],hO=["theme"];function pO(e){return 0===Object.keys(e).length}var vO=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},mO=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=lO(e.props);r[t]=e.style})),r},yO=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[lO(n.props)])})),s};function gO(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var bO=Xt();function kO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?bO:t,r=e.rootShouldForwardProp,i=void 0===r?gO:r,a=e.slotShouldForwardProp,o=void 0===a?gO:a,u=function(e){var t=pO(e.theme)?n:e.theme;return Qt(ye({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};uO(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r=t.name,a=t.slot,s=t.skipVariantsResolver,c=t.skipSx,l=t.overridesResolver,f=Ve(t,fO),d=void 0!==s?s:a&&"Root"!==a||!1,p=c||!1;var v=gO;"Root"===a?v=i:a?v=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(v=void 0);var m=function(e,t){return oO(e,t)}(e,ye({shouldForwardProp:v,label:undefined},f)),y=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=i?i.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Ve(t,dO);return e(ye({theme:pO(r)?n:r},i))}:e})):[],s=e;r&&l&&o.push((function(e){var t=pO(e.theme)?n:e.theme,i=vO(r,t);if(i){var a={};return Object.entries(i).forEach((function(n){var r=h(n,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(ye({},e,{theme:t})):o})),l(e,a)}return null})),r&&!d&&o.push((function(e){var t=pO(e.theme)?n:e.theme;return yO(e,mO(r,t),t,r)})),p||o.push(u);var c=o.length-i.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(s=[].concat(vr(e),vr(f))).raw=[].concat(vr(e.raw),vr(f))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=Ve(t,hO);return e(ye({theme:pO(r)?n:r},i))});return m.apply(void 0,[s].concat(vr(o)))};return m.withConfig&&(y.withConfig=m.withConfig),y}}var wO=function(e){return gO(e)&&"classes"!==e},xO=gO,SO=kO({defaultTheme:Wn,rootShouldForwardProp:wO});function EO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ir(e,t)}var _O=!1,IO=t.createContext(null),TO="unmounted",CO="exited",RO="entering",AO="entered",NO="exiting",DO=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=CO,r.appearStatus=RO):i=AO:i=t.unmountOnExit||t.mountOnEnter?TO:CO,r.state={status:i},r.nextCallback=null,r}EO(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===TO?{status:CO}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==RO&&n!==AO&&(t=RO):n!==RO&&n!==AO||(t=NO)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===RO){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:wD.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===CO&&this.setState({status:TO})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[wD.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||_O?this.safeSetState({status:AO},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:RO},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:AO},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:wD.findDOMNode(this);t&&!_O?(this.props.onExit(r),this.safeSetState({status:NO},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:CO},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:CO},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:wD.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===TO)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ve(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(IO.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function OO(){}DO.contextType=IO,DO.propTypes={},DO.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:OO,onEntering:OO,onEntered:OO,onExit:OO,onExiting:OO,onExited:OO},DO.UNMOUNTED=TO,DO.EXITED=CO,DO.ENTERING=RO,DO.ENTERED=AO,DO.EXITING=NO;var PO=DO;function MO(){return Bn(Wn)}var LO=function(e){return e.scrollTop};function FO(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var jO=mD,UO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],VO={entering:{opacity:1},entered:{opacity:1}},zO=t.forwardRef((function(e,n){var r=MO(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?i:g,k=e.TransitionComponent,w=void 0===k?PO:k,x=Ve(e,UO),S=t.useRef(null),E=jO(S,s.ref,n),_=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},I=_(h),T=_((function(e,t){LO(e);var n=FO({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),C=_(d),R=_(m),A=_((function(e){var t=FO({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),N=_(v);return(0,Yn.jsx)(w,ye({appear:u,in:l,nodeRef:S,onEnter:T,onEntered:C,onEntering:I,onExit:A,onExited:N,onExiting:R,addEndListener:function(e){a&&a(S.current,e)},timeout:b},x,{children:function(e,n){return t.cloneElement(s,ye({style:ye({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},VO[e],y,s.props.style),ref:E},n))}}))})),BO=zO;function qO(e){return UD("MuiBackdrop",e)}VD("MuiBackdrop",["root","invisible"]);var WO=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],KO=SO("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return ye({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),HO=t.forwardRef((function(e,t){var n,r,i,a=Kn({props:e,name:"MuiBackdrop"}),o=a.children,u=a.className,s=a.component,c=void 0===s?"div":s,l=a.components,f=void 0===l?{}:l,d=a.componentsProps,h=void 0===d?{}:d,p=a.invisible,v=void 0!==p&&p,m=a.open,y=a.slotProps,g=void 0===y?{}:y,b=a.slots,k=void 0===b?{}:b,w=a.TransitionComponent,x=void 0===w?BO:w,S=a.transitionDuration,E=Ve(a,WO),_=ye({},a,{component:c,invisible:v}),I=function(e){var t=e.classes;return lD({root:["root",e.invisible&&"invisible"]},qO,t)}(_),T=null!=(n=g.root)?n:h.root;return(0,Yn.jsx)(x,ye({in:m,timeout:S},E,{children:(0,Yn.jsx)(KO,ye({"aria-hidden":!0},T,{as:null!=(r=null!=(i=k.root)?i:f.Root)?r:c,className:cD(I.root,u,null==T?void 0:T.className),ownerState:ye({},_,null==T?void 0:T.ownerState),classes:I,ref:t,children:o}))}))})),GO=HO,QO=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],$O=SO("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return ye({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),XO=SO(GO,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),YO=t.forwardRef((function(e,n){var r,i,a,o,u,s,c=Kn({name:"MuiModal",props:e}),l=c.BackdropComponent,f=void 0===l?XO:l,d=c.BackdropProps,p=c.classes,v=c.className,m=c.closeAfterTransition,y=void 0!==m&&m,g=c.children,b=c.component,k=c.components,w=void 0===k?{}:k,x=c.componentsProps,S=void 0===x?{}:x,E=c.disableAutoFocus,_=void 0!==E&&E,I=c.disableEnforceFocus,T=void 0!==I&&I,C=c.disableEscapeKeyDown,R=void 0!==C&&C,A=c.disablePortal,N=void 0!==A&&A,D=c.disableRestoreFocus,O=void 0!==D&&D,P=c.disableScrollLock,M=void 0!==P&&P,L=c.hideBackdrop,F=void 0!==L&&L,j=c.keepMounted,U=void 0!==j&&j,V=c.slotProps,z=c.slots,B=c.theme,q=Ve(c,QO),W=h(t.useState(!0),2),K=W[0],H=W[1],G={closeAfterTransition:y,disableAutoFocus:_,disableEnforceFocus:T,disableEscapeKeyDown:R,disablePortal:N,disableRestoreFocus:O,disableScrollLock:M,hideBackdrop:F,keepMounted:U},Q=ye({},c,G,{exited:K}),$=null!=(r=null!=(i=null==z?void 0:z.root)?i:w.Root)?r:$O,X=null!=(a=null!=(o=null==z?void 0:z.backdrop)?o:w.Backdrop)?a:f,Y=null!=(u=null==V?void 0:V.root)?u:S.root,J=null!=(s=null==V?void 0:V.backdrop)?s:S.backdrop;return(0,Yn.jsx)(YD,ye({slots:{root:$,backdrop:X},slotProps:{root:function(){return ye({},KD(Y,Q),!BD($)&&{as:b,theme:B},{className:cD(v,null==Y?void 0:Y.className,null==p?void 0:p.root,!Q.open&&Q.exited&&(null==p?void 0:p.hidden))})},backdrop:function(){return ye({},d,KD(J,Q),{className:cD(null==J?void 0:J.className,null==p?void 0:p.backdrop)})}},onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:n},q,G,{children:g}))})),JO=YO,ZO=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function eP(e){return UD("MuiPaper",e)}VD("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var tP=["className","component","elevation","square","variant"],nP=SO("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&ye({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(nn("#fff",ZO(r.elevation)),", ").concat(nn("#fff",ZO(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),rP=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,d=Ve(n,tP),h=ye({},n,{component:a,elevation:u,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return lD({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},eP,i)}(h);return(0,Yn.jsx)(nP,ye({as:a,ownerState:h,className:cD(p.root,r),ref:t},d))})),iP=rP;function aP(e){return UD("MuiDialog",e)}var oP=VD("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var uP=t.createContext({}),sP=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],cP=SO(GO,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),lP=SO(JO,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),fP=SO("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(pD(n.scroll))]]}})((function(e){var t=e.ownerState;return ye({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),dP=SO(iP,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(pD(n.scroll))],t["paperWidth".concat(pD(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return ye({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&He({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(oP.paperScrollBody),He({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&He({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(oP.paperScrollBody),He({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&He({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(oP.paperScrollBody),{margin:0,maxWidth:"100%"}))})),hP=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiDialog"}),i=MO(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r["aria-describedby"],u=r["aria-labelledby"],s=r.BackdropComponent,c=r.BackdropProps,l=r.children,f=r.className,d=r.disableEscapeKeyDown,h=void 0!==d&&d,p=r.fullScreen,v=void 0!==p&&p,m=r.fullWidth,y=void 0!==m&&m,g=r.maxWidth,b=void 0===g?"sm":g,k=r.onBackdropClick,w=r.onClose,x=r.open,S=r.PaperComponent,E=void 0===S?iP:S,_=r.PaperProps,I=void 0===_?{}:_,T=r.scroll,C=void 0===T?"paper":T,R=r.TransitionComponent,A=void 0===R?BO:R,N=r.transitionDuration,D=void 0===N?a:N,O=r.TransitionProps,P=Ve(r,sP),M=ye({},r,{disableEscapeKeyDown:h,fullScreen:v,fullWidth:y,maxWidth:b,scroll:C}),L=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,a=e.fullScreen;return lD({root:["root"],container:["container","scroll".concat(pD(n))],paper:["paper","paperScroll".concat(pD(n)),"paperWidth".concat(pD(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]},aP,t)}(M),F=t.useRef(),j=hD(u),U=t.useMemo((function(){return{titleId:j}}),[j]);return(0,Yn.jsx)(lP,ye({className:cD(L.root,f),closeAfterTransition:!0,components:{Backdrop:cP},componentsProps:{backdrop:ye({transitionDuration:D,as:s},c)},disableEscapeKeyDown:h,onClose:w,open:x,ref:n,onClick:function(e){F.current&&(F.current=null,k&&k(e),w&&w(e,"backdropClick"))},ownerState:M},P,{children:(0,Yn.jsx)(A,ye({appear:!0,in:x,timeout:D,role:"presentation"},O,{children:(0,Yn.jsx)(fP,{className:cD(L.container),onMouseDown:function(e){F.current=e.target===e.currentTarget},ownerState:M,children:(0,Yn.jsx)(dP,ye({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":j},I,{className:cD(L.paper,I.className),ownerState:M,children:(0,Yn.jsx)(uP.Provider,{value:U,children:l})}))})}))}))})),pP=hP,vP=["sx"],mP=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Ht;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function yP(e){var t,n=e.sx,r=Ve(e,vP),i=mP(r),a=i.systemProps,o=i.otherProps;return t=Array.isArray(n)?[a].concat(vr(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Be(e)?ye({},a,e):a}:ye({},a,n),ye({},o,{sx:t})}function gP(e){return UD("MuiTypography",e)}VD("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var bP=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],kP=SO("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(pD(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return ye({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),wP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},SP=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiTypography"}),r=function(e){return xP[e]||e}(n.color),i=yP(ye({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,d=void 0!==f&&f,h=i.paragraph,p=void 0!==h&&h,v=i.variant,m=void 0===v?"body1":v,y=i.variantMapping,g=void 0===y?wP:y,b=Ve(i,bP),k=ye({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:d,paragraph:p,variant:m,variantMapping:g}),w=s||(p?"p":g[m]||wP[m])||"span",x=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return lD({root:["root",a,"inherit"!==e.align&&"align".concat(pD(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},gP,o)}(k);return(0,Yn.jsx)(kP,ye({as:w,ref:t,ownerState:k,className:cD(x.root,u)},b))})),EP=SP;function _P(e){return UD("MuiDialogTitle",e)}var IP=VD("MuiDialogTitle",["root"]),TP=["className","id"],CP=SO(EP,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),RP=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiDialogTitle"}),i=r.className,a=r.id,o=Ve(r,TP),u=r,s=function(e){return lD({root:["root"]},_P,e.classes)}(u),c=t.useContext(uP).titleId,l=void 0===c?a:c;return(0,Yn.jsx)(CP,ye({component:"h2",className:cD(s.root,i),ownerState:u,ref:n,variant:"h6",id:null!=a?a:l},o))})),AP=RP;function NP(e){return UD("MuiDialogContent",e)}VD("MuiDialogContent",["root","dividers"]);var DP=["className","dividers"],OP=SO("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme;return ye({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.ownerState.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:He({},".".concat(IP.root," + &"),{paddingTop:0}))})),PP=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiDialogContent"}),r=n.className,i=n.dividers,a=void 0!==i&&i,o=Ve(n,DP),u=ye({},n,{dividers:a}),s=function(e){var t=e.classes;return lD({root:["root",e.dividers&&"dividers"]},NP,t)}(u);return(0,Yn.jsx)(OP,ye({className:cD(s.root,r),ownerState:u,ref:t},o))})),MP=PP;function LP(e){return UD("MuiDialogContentText",e)}VD("MuiDialogContentText",["root"]);var FP=["children","className"],jP=SO(EP,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),UP=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiDialogContentText"}),r=n.className,i=Ve(n,FP),a=function(e){var t=e.classes;return ye({},t,lD({root:["root"]},LP,t))}(i);return(0,Yn.jsx)(jP,ye({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:cD(a.root,r)},n,{classes:a}))})),VP=UP;function zP(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}var BP=["onChange","maxRows","minRows","style","value"];function qP(e){return parseInt(e,10)||0}var WP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function KP(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var HP=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=Ve(e,BP),l=t.useRef(null!=s).current,f=t.useRef(null),d=mD(n,f),p=t.useRef(null),v=t.useRef(0),m=h(t.useState({outerHeightStyle:0}),2),y=m[0],g=m[1],b=t.useCallback((function(){var t=f.current,n=ED(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=p.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,u=qP(n.paddingBottom)+qP(n.paddingTop),s=qP(n.borderBottomWidth)+qP(n.borderTopWidth),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,d=c;return o&&(d=Math.max(Number(o)*l,d)),i&&(d=Math.min(Number(i)*l,d)),{outerHeightStyle:(d=Math.max(d,l))+("border-box"===a?u+s:0),overflow:Math.abs(d-c)<=1}}),[i,o,e.placeholder]),k=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return v.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(v.current+=1,{overflow:r,outerHeightStyle:n}):e},w=t.useCallback((function(){var e=b();KP(e)||g((function(t){return k(t,e)}))}),[b]);t.useEffect((function(){var e,t=zP((function(){v.current=0,f.current&&function(){var e=b();KP(e)||wD.flushSync((function(){g((function(t){return k(t,e)}))}))}()})),n=f.current,r=ED(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),gD((function(){w()})),t.useEffect((function(){v.current=0}),[s]);return(0,Yn.jsxs)(t.Fragment,{children:[(0,Yn.jsx)("textarea",ye({value:s,onChange:function(e){v.current=0,l||w(),r&&r(e)},ref:d,rows:o,style:ye({height:y.outerHeightStyle,overflow:y.overflow?"hidden":void 0},u)},c)),(0,Yn.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:ye({},WP,u,{padding:0})})]})})),GP=HP;function QP(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var $P=t.createContext(void 0);function XP(){return t.useContext($P)}var YP=gD;function JP(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ZP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(JP(e.value)&&""!==e.value||t&&JP(e.defaultValue)&&""!==e.defaultValue)}function eM(e){return UD("MuiInputBase",e)}var tM=VD("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),nM=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rM=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(pD(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},iM=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},aM=SO("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rM})((function(e){var t=e.theme,n=e.ownerState;return ye({},t.typography.body1,He({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(tM.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&ye({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),oM=SO("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=ye({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return ye((He(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(tM.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),He(t,"&.".concat(tM.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),He(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),uM=(0,Yn.jsx)(Zn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),sM=t.forwardRef((function(e,n){var r,i=Kn({props:e,name:"MuiInputBase"}),a=i["aria-describedby"],o=i.autoComplete,u=i.autoFocus,s=i.className,c=i.components,l=void 0===c?{}:c,f=i.componentsProps,d=void 0===f?{}:f,p=i.defaultValue,v=i.disabled,m=i.disableInjectingGlobalStyles,y=i.endAdornment,g=i.fullWidth,b=void 0!==g&&g,k=i.id,w=i.inputComponent,x=void 0===w?"input":w,S=i.inputProps,E=void 0===S?{}:S,_=i.inputRef,I=i.maxRows,T=i.minRows,C=i.multiline,R=void 0!==C&&C,A=i.name,N=i.onBlur,D=i.onChange,O=i.onClick,P=i.onFocus,M=i.onKeyDown,L=i.onKeyUp,F=i.placeholder,j=i.readOnly,U=i.renderSuffix,V=i.rows,z=i.slotProps,B=void 0===z?{}:z,q=i.slots,W=void 0===q?{}:q,K=i.startAdornment,H=i.type,G=void 0===H?"text":H,Q=i.value,$=Ve(i,nM),X=null!=E.value?E.value:Q,Y=t.useRef(null!=X).current,J=t.useRef(),Z=t.useCallback((function(e){0}),[]),ee=jO(J,_,E.ref,Z),te=h(t.useState(!1),2),ne=te[0],re=te[1],ie=XP();var ae=QP({props:i,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,t.useEffect((function(){!ie&&v&&ne&&(re(!1),N&&N())}),[ie,v,ne,N]);var oe=ie&&ie.onFilled,ue=ie&&ie.onEmpty,se=t.useCallback((function(e){ZP(e)?oe&&oe():ue&&ue()}),[oe,ue]);YP((function(){Y&&se({value:X})}),[X,se,Y]);t.useEffect((function(){se(J.current)}),[]);var ce=x,le=E;R&&"input"===ce&&(le=ye(V?{type:void 0,minRows:V,maxRows:V}:{type:void 0,maxRows:I,minRows:T},le),ce=GP);t.useEffect((function(){ie&&ie.setAdornedStart(Boolean(K))}),[ie,K]);var fe=ye({},i,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:y,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:b,hiddenLabel:ae.hiddenLabel,multiline:R,size:ae.size,startAdornment:K,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type;return lD({root:["root","color".concat(pD(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},eM,t)}(fe),he=W.root||l.Root||aM,pe=B.root||d.root||{},ve=W.input||l.Input||oM;return le=ye({},le,null!=(r=B.input)?r:d.input),(0,Yn.jsxs)(t.Fragment,{children:[!m&&uM,(0,Yn.jsxs)(he,ye({},pe,!BD(he)&&{ownerState:ye({},fe,pe.ownerState)},{ref:n,onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),O&&O(e)}},$,{className:cD(de.root,pe.className,s,j&&"MuiInputBase-readOnly"),children:[K,(0,Yn.jsx)($P.Provider,{value:null,children:(0,Yn.jsx)(ve,ye({ownerState:fe,"aria-invalid":ae.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:p,disabled:ae.disabled,id:k,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:A,placeholder:F,readOnly:j,required:ae.required,rows:V,value:X,onKeyDown:M,onKeyUp:L,type:G},le,!BD(ve)&&{as:ce,ownerState:ye({},fe,le.ownerState)},{ref:ee,className:cD(de.input,le.className,j&&"MuiInputBase-readOnly"),onBlur:function(e){N&&N(e),E.onBlur&&E.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!Y){var t=e.target||J.current;if(null==t)throw new Error(ze(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];E.onChange&&E.onChange.apply(E,[e].concat(r)),D&&D.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(P&&P(e),E.onFocus&&E.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),y,U?U(ye({},ae,{startAdornment:K})):null]}))]})})),cM=sM;function lM(e){return UD("MuiInput",e)}var fM=ye({},tM,VD("MuiInput",["root","underline","input"])),dM=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],hM=SO(aM,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(vr(rM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),ye({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(He(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(fM.focused,":after"),{transform:"scaleX(1) translateX(0)"}),He(t,"&.".concat(fM.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),He(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),He(t,"&:hover:not(.".concat(fM.disabled,", .").concat(fM.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),He(t,"&.".concat(fM.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),pM=SO(oM,{name:"MuiInput",slot:"Input",overridesResolver:iM})({}),vM=t.forwardRef((function(e,t){var n,r,i,a,o=Kn({props:e,name:"MuiInput"}),u=o.disableUnderline,s=o.components,c=void 0===s?{}:s,l=o.componentsProps,f=o.fullWidth,d=void 0!==f&&f,h=o.inputComponent,p=void 0===h?"input":h,v=o.multiline,m=void 0!==v&&v,y=o.slotProps,g=o.slots,b=void 0===g?{}:g,k=o.type,w=void 0===k?"text":k,x=Ve(o,dM),S=function(e){var t=e.classes;return ye({},t,lD({root:["root",!e.disableUnderline&&"underline"],input:["input"]},lM,t))}(o),E={root:{ownerState:{disableUnderline:u}}},_=(null!=y?y:l)?We(null!=y?y:l,E):E,I=null!=(n=null!=(r=b.root)?r:c.Root)?n:hM,T=null!=(i=null!=(a=b.input)?a:c.Input)?i:pM;return(0,Yn.jsx)(cM,ye({slots:{root:I,input:T},slotProps:_,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:w},x,{classes:S}))}));vM.muiName="Input";var mM=vM;function yM(e){return UD("MuiFilledInput",e)}var gM=ye({},tM,VD("MuiFilledInput",["root","underline","input"])),bM=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],kM=SO(aM,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(vr(rM(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,u=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ye((He(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}}},"&.".concat(gM.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}),He(t,"&.".concat(gM.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:l}),t),!a.disableUnderline&&(He(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(gM.focused,":after"),{transform:"scaleX(1) translateX(0)"}),He(n,"&.".concat(gM.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),He(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),He(n,"&:hover:not(.".concat(gM.disabled,", .").concat(gM.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),He(n,"&.".concat(gM.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&ye({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),wM=SO(oM,{name:"MuiFilledInput",slot:"Input",overridesResolver:iM})((function(e){var t=e.theme,n=e.ownerState;return ye({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&He({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),xM=t.forwardRef((function(e,t){var n,r,i,a,o=Kn({props:e,name:"MuiFilledInput"}),u=o.components,s=void 0===u?{}:u,c=o.componentsProps,l=o.fullWidth,f=void 0!==l&&l,d=o.inputComponent,h=void 0===d?"input":d,p=o.multiline,v=void 0!==p&&p,m=o.slotProps,y=o.slots,g=void 0===y?{}:y,b=o.type,k=void 0===b?"text":b,w=Ve(o,bM),x=ye({},o,{fullWidth:f,inputComponent:h,multiline:v,type:k}),S=function(e){var t=e.classes;return ye({},t,lD({root:["root",!e.disableUnderline&&"underline"],input:["input"]},yM,t))}(o),E={root:{ownerState:x},input:{ownerState:x}},_=(null!=m?m:c)?We(null!=m?m:c,E):E,I=null!=(n=null!=(r=g.root)?r:s.Root)?n:kM,T=null!=(i=null!=(a=g.input)?a:s.Input)?i:wM;return(0,Yn.jsx)(cM,ye({slots:{root:I,input:T},componentsProps:_,fullWidth:f,inputComponent:h,multiline:v,ref:t,type:k},w,{classes:S}))}));xM.muiName="Input";var SM,EM=xM,_M=["children","classes","className","label","notched"],IM=SO("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),TM=SO("legend")((function(e){var t=e.ownerState,n=e.theme;return ye({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&ye({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function CM(e){return UD("MuiOutlinedInput",e)}var RM=ye({},tM,VD("MuiOutlinedInput",["root","notchedOutline","input"])),AM=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],NM=SO(aM,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:rM})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ye((He(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(RM.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),He(t,"@media (hover: none)",He({},"&:hover .".concat(RM.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),He(t,"&.".concat(RM.focused," .").concat(RM.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),He(t,"&.".concat(RM.error," .").concat(RM.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),He(t,"&.".concat(RM.disabled," .").concat(RM.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&ye({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),DM=SO((function(e){var t=e.className,n=e.label,r=e.notched,i=Ve(e,_M),a=null!=n&&""!==n,o=ye({},e,{notched:r,withLabel:a});return(0,Yn.jsx)(IM,ye({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Yn.jsx)(TM,{ownerState:o,children:a?(0,Yn.jsx)("span",{children:n}):SM||(SM=(0,Yn.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),OM=SO(oM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iM})((function(e){var t=e.theme,n=e.ownerState;return ye({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&He({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),PM=t.forwardRef((function(e,n){var r,i,a,o,u,s=Kn({props:e,name:"MuiOutlinedInput"}),c=s.components,l=void 0===c?{}:c,f=s.fullWidth,d=void 0!==f&&f,h=s.inputComponent,p=void 0===h?"input":h,v=s.label,m=s.multiline,y=void 0!==m&&m,g=s.notched,b=s.slots,k=void 0===b?{}:b,w=s.type,x=void 0===w?"text":w,S=Ve(s,AM),E=function(e){var t=e.classes;return ye({},t,lD({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},CM,t))}(s),_=XP(),I=QP({props:s,muiFormControl:_,states:["required"]}),T=ye({},s,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:_,fullWidth:d,hiddenLabel:I.hiddenLabel,multiline:y,size:I.size,type:x}),C=null!=(r=null!=(i=k.root)?i:l.Root)?r:NM,R=null!=(a=null!=(o=k.input)?o:l.Input)?a:OM;return(0,Yn.jsx)(cM,ye({slots:{root:C,input:R},renderSuffix:function(e){return(0,Yn.jsx)(DM,{ownerState:T,className:E.notchedOutline,label:null!=v&&""!==v&&I.required?u||(u=(0,Yn.jsxs)(t.Fragment,{children:[v,"\u2009","*"]})):v,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:p,multiline:y,ref:n,type:x},S,{classes:ye({},E,{notchedOutline:null})}))}));PM.muiName="Input";var MM=PM;function LM(e){return UD("MuiFormLabel",e)}var FM=VD("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),jM=["children","className","color","component","disabled","error","filled","focused","required"],UM=SO("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return ye({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({color:(n.vars||n).palette.text.secondary},n.typography.body1,(He(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(FM.focused),{color:(n.vars||n).palette[r.color].main}),He(t,"&.".concat(FM.disabled),{color:(n.vars||n).palette.text.disabled}),He(t,"&.".concat(FM.error),{color:(n.vars||n).palette.error.main}),t))})),VM=SO("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return He({},"&.".concat(FM.error),{color:(t.vars||t).palette.error.main})})),zM=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=Ve(n,jM),s=QP({props:n,muiFormControl:XP(),states:["color","required","focused","disabled","error","filled"]}),c=ye({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return lD({root:["root","color".concat(pD(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},LM,t)}(c);return(0,Yn.jsxs)(UM,ye({as:o,ownerState:c,className:cD(l.root,i),ref:t},u,{children:[r,s.required&&(0,Yn.jsxs)(VM,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),BM=zM;function qM(e){return UD("MuiInputLabel",e)}VD("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var WM=["disableAnimation","margin","shrink","variant","className"],KM=SO(BM,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"& .".concat(FM.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&ye({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&ye({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&ye({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),HM=t.forwardRef((function(e,t){var n=Kn({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,u=Ve(n,WM),s=XP(),c=a;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);var l=QP({props:n,muiFormControl:s,states:["size","variant","required"]}),f=ye({},n,{disableAnimation:i,formControl:s,shrink:c,size:l.size,variant:l.variant,required:l.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return ye({},t,lD({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},qM,t))}(f);return(0,Yn.jsx)(KM,ye({"data-shrink":c,ownerState:f,ref:t,className:cD(d.root,o)},u,{classes:d}))})),GM=HM;var QM=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function $M(e){return UD("MuiFormControl",e)}VD("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var XM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],YM=SO("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return ye({},t.root,t["margin".concat(pD(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return ye({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),JM=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,c=void 0===s?"div":s,l=r.disabled,f=void 0!==l&&l,d=r.error,p=void 0!==d&&d,v=r.focused,m=r.fullWidth,y=void 0!==m&&m,g=r.hiddenLabel,b=void 0!==g&&g,k=r.margin,w=void 0===k?"none":k,x=r.required,S=void 0!==x&&x,E=r.size,_=void 0===E?"medium":E,I=r.variant,T=void 0===I?"outlined":I,C=Ve(r,XM),R=ye({},r,{color:u,component:c,disabled:f,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:S,size:_,variant:T}),A=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return lD({root:["root","none"!==n&&"margin".concat(pD(n)),r&&"fullWidth"]},$M,t)}(R),N=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(QM(t,["Input","Select"])){var n=QM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),D=h(N,2),O=D[0],P=D[1],M=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){QM(t,["Input","Select"])&&ZP(t.props,!0)&&(e=!0)})),e})),L=h(M,2),F=L[0],j=L[1],U=h(t.useState(!1),2),V=U[0],z=U[1];f&&V&&z(!1);var B,q=void 0===v||f?V:v,W=t.useMemo((function(){return{adornedStart:O,setAdornedStart:P,color:u,disabled:f,error:p,filled:F,focused:q,fullWidth:y,hiddenLabel:b,size:_,onBlur:function(){z(!1)},onEmpty:function(){j(!1)},onFilled:function(){j(!0)},onFocus:function(){z(!0)},registerEffect:B,required:S,variant:T}}),[O,u,f,p,F,q,y,b,B,S,_,T]);return(0,Yn.jsx)($P.Provider,{value:W,children:(0,Yn.jsx)(YM,ye({as:c,ownerState:R,className:cD(A.root,a),ref:n},C,{children:i}))})})),ZM=JM;function eL(e){return UD("MuiFormHelperText",e)}var tL,nL=VD("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),rL=["children","className","component","disabled","error","filled","focused","margin","required","variant"],iL=SO("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(pD(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({color:(n.vars||n).palette.text.secondary},n.typography.caption,(He(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(nL.disabled),{color:(n.vars||n).palette.text.disabled}),He(t,"&.".concat(nL.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),aL=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=Ve(n,rL),s=QP({props:n,muiFormControl:XP(),states:["variant","size","disabled","error","filled","focused","required"]}),c=ye({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return lD({root:["root",i&&"disabled",a&&"error",r&&"size".concat(pD(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},eL,t)}(c);return(0,Yn.jsx)(iL,ye({as:o,ownerState:c,className:cD(l.root,i),ref:t},u,{children:" "===r?tL||(tL=(0,Yn.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),oL=aL,uL=(n(457),yD);var sL=t.createContext({});function cL(e){return UD("MuiList",e)}VD("MuiList",["root","padding","dense","subheader"]);var lL=["children","className","component","dense","disablePadding","subheader"],fL=SO("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return ye({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),dL=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,l=r.disablePadding,f=void 0!==l&&l,d=r.subheader,h=Ve(r,lL),p=t.useMemo((function(){return{dense:c}}),[c]),v=ye({},r,{component:u,dense:c,disablePadding:f}),m=function(e){var t=e.classes;return lD({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},cL,t)}(v);return(0,Yn.jsx)(sL.Provider,{value:p,children:(0,Yn.jsxs)(fL,ye({as:u,className:cD(m.root,a),ref:n,ownerState:v},h,{children:[d,i]}))})})),hL=dL,pL=_D,vL=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function mL(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function yL(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function gL(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function bL(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&gL(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var kL=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=Ve(e,vL),g=t.useRef(null),b=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});YP((function(){a&&g.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(pL(uL(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var k=jO(g,n),w=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===w)&&(w=n),w===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(w+=1)>=s.length&&(w=-1))}));var x=t.Children.map(s,(function(e,n){if(n===w){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,Yn.jsx)(hL,ye({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=uL(t).activeElement;if("ArrowDown"===n)e.preventDefault(),bL(t,r,h,f,mL);else if("ArrowUp"===n)e.preventDefault(),bL(t,r,h,f,yL);else if("Home"===n)e.preventDefault(),bL(t,null,h,f,mL);else if("End"===n)e.preventDefault(),bL(t,null,h,f,yL);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&gL(r,i);i.previousKeyMatched&&(u||bL(t,r,!1,f,mL,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y,{children:x}))})),wL=kL,xL=zP,SL=ED,EL=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _L(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var IL={entering:{opacity:1,transform:_L(1)},entered:{opacity:1,transform:"none"}},TL="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),CL=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?PO:g,k=Ve(e,EL),w=t.useRef(),x=t.useRef(),S=MO(),E=t.useRef(null),_=jO(E,o.ref,n),I=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},T=I(f),C=I((function(e,t){LO(e);var n,r=FO({style:v,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:TL?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),R=I(l),A=I(p),N=I((function(e){var t,n=FO({style:v,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:TL?t:.666*t,delay:TL?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=_L(.75),d&&d(e)})),D=I(h);return t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Yn.jsx)(b,ye({appear:a,in:s,nodeRef:E,onEnter:C,onEntered:R,onEntering:T,onExit:N,onExited:D,onExiting:A,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,x.current||0)),r&&r(E.current,e)},timeout:"auto"===y?null:y},k,{children:function(e,n){return t.cloneElement(o,ye({style:ye({opacity:0,transform:_L(.75),visibility:"exited"!==e||s?void 0:"hidden"},IL[e],v,o.props.style),ref:_},n))}}))}));CL.muiSupportAuto=!0;var RL=CL;function AL(e){return UD("MuiPopover",e)}VD("MuiPopover",["root","paper"]);var NL=["onEntering"],DL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function OL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function PL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ML(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function LL(e){return"function"===typeof e?e():e}var FL=SO(JO,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),jL=SO(iP,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),UL=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,l=void 0===c?"anchorEl":c,f=r.children,d=r.className,p=r.container,v=r.elevation,m=void 0===v?8:v,y=r.marginThreshold,g=void 0===y?16:y,b=r.open,k=r.PaperProps,w=void 0===k?{}:k,x=r.transformOrigin,S=void 0===x?{vertical:"top",horizontal:"left"}:x,E=r.TransitionComponent,_=void 0===E?RL:E,I=r.transitionDuration,T=void 0===I?"auto":I,C=r.TransitionProps,R=(void 0===C?{}:C).onEntering,A=Ve(r.TransitionProps,NL),N=Ve(r,DL),D=t.useRef(),O=jO(D,w.ref),P=ye({},r,{anchorOrigin:u,anchorReference:l,elevation:m,marginThreshold:g,PaperProps:w,transformOrigin:S,TransitionComponent:_,transitionDuration:T,TransitionProps:A}),M=function(e){return lD({root:["root"],paper:["paper"]},AL,e.classes)}(P),L=t.useCallback((function(){if("anchorPosition"===l)return s;var e=LL(a),t=(e&&1===e.nodeType?e:uL(D.current).body).getBoundingClientRect();return{top:t.top+OL(t,u.vertical),left:t.left+PL(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),F=t.useCallback((function(e){return{vertical:OL(e,S.vertical),horizontal:PL(e,S.horizontal)}}),[S.horizontal,S.vertical]),j=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=F(t);if("none"===l)return{top:null,left:null,transformOrigin:ML(n)};var r=L(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=SL(LL(a)),f=c.innerHeight-g,d=c.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<g){var v=o-g;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:ML(n)}}),[a,l,L,F,g]),U=h(t.useState(b),2),V=U[0],z=U[1],B=t.useCallback((function(){var e=D.current;if(e){var t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}}),[j]);t.useEffect((function(){b&&B()})),t.useImperativeHandle(i,(function(){return b?{updatePosition:function(){B()}}:null}),[b,B]),t.useEffect((function(){if(b){var e=xL((function(){B()})),t=SL(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,B]);var q=T;"auto"!==T||_.muiSupportAuto||(q=void 0);var W=p||(a?uL(LL(a)).body:void 0);return(0,Yn.jsx)(FL,ye({BackdropProps:{invisible:!0},className:cD(M.root,d),container:W,open:b,ref:n,ownerState:P},N,{children:(0,Yn.jsx)(_,ye({appear:!0,in:b,onEntering:function(e,t){R&&R(e,t),B()},onExited:function(){z(!1)},timeout:q},A,{children:(0,Yn.jsx)(jL,ye({elevation:m},w,{ref:O,className:cD(M.paper,w.className)},V?void 0:{style:ye({},w.style,{opacity:0})},{ownerState:P,children:f}))}))}))})),VL=UL;function zL(e){return UD("MuiMenu",e)}VD("MuiMenu",["root","paper","list"]);var BL=["onEntering"],qL=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],WL={vertical:"top",horizontal:"right"},KL={vertical:"top",horizontal:"left"},HL=SO(VL,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),GL=SO(iP,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QL=SO(wL,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),$L=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,l=void 0===c?{}:c,f=r.onClose,d=r.open,h=r.PaperProps,p=void 0===h?{}:h,v=r.PopoverClasses,m=r.transitionDuration,y=void 0===m?"auto":m,g=r.TransitionProps,b=(void 0===g?{}:g).onEntering,k=r.variant,w=void 0===k?"selectedMenu":k,x=Ve(r.TransitionProps,BL),S=Ve(r,qL),E=MO(),_="rtl"===E.direction,I=ye({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:x,variant:w}),T=function(e){return lD({root:["root"],paper:["paper"],list:["list"]},zL,e.classes)}(I),C=a&&!s&&d,R=t.useRef(null),A=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===A)&&(A=n))})),(0,Yn.jsx)(HL,ye({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?WL:KL,PaperProps:ye({as:GL},p,{classes:ye({},p.classes,{root:T.paper})}),className:T.root,open:d,ref:n,transitionDuration:y,TransitionProps:ye({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,E),b&&b(e,t)}},x),ownerState:I},S,{classes:v,children:(0,Yn.jsx)(QL,ye({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:R,autoFocus:a&&(-1===A||s),autoFocusItem:C,variant:w},l,{className:cD(T.list,l.className),children:o}))}))})),XL=$L;function YL(e){return UD("MuiNativeSelect",e)}var JL=VD("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ZL=["className","disabled","IconComponent","inputRef","variant"],eF=function(e){var t,n=e.ownerState,r=e.theme;return ye((He(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ye({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(JL.disabled),{cursor:"default"}),He(t,"&[multiple]",{height:"auto"}),He(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),He(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},tF=SO("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:wO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],He({},"&.".concat(JL.multiple),t.multiple)]}})(eF),nF=function(e){var t=e.ownerState,n=e.theme;return ye(He({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(JL.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},rF=SO("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(pD(n.variant))],n.open&&t.iconOpen]}})(nF),iF=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=Ve(e,ZL),l=ye({},e,{disabled:i,variant:s}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return lD({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(pD(n)),a&&"iconOpen",r&&"disabled"]},YL,t)}(l);return(0,Yn.jsxs)(t.Fragment,{children:[(0,Yn.jsx)(tF,ye({ownerState:l,className:cD(f.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,Yn.jsx)(rF,{as:a,ownerState:l,className:f.icon})]})})),aF=iF;var oF=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=h(t.useState(r),2),o=a[0],u=a[1];return[i?n:o,t.useCallback((function(e){i||u(e)}),[])]};function uF(e){return UD("MuiSelect",e)}var sF,cF=VD("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),lF=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],fF=SO("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"&.".concat(cF.select),t.select),He({},"&.".concat(cF.select),t[n.variant]),He({},"&.".concat(cF.multiple),t.multiple)]}})(eF,He({},"&.".concat(cF.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),dF=SO("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(pD(n.variant))],n.open&&t.iconOpen]}})(nF),hF=SO("input",{shouldForwardProp:function(e){return xO(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function pF(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function vF(e){return null==e||"string"===typeof e&&!e.trim()}var mF=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,c=e.defaultOpen,l=e.defaultValue,f=e.disabled,d=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,S=e.onClose,E=e.onFocus,_=e.onOpen,I=e.open,T=e.readOnly,C=e.renderValue,R=e.SelectDisplayProps,A=void 0===R?{}:R,N=e.tabIndex,D=e.value,O=e.variant,P=void 0===O?"standard":O,M=Ve(e,lF),L=h(oF({controlled:D,default:l,name:"Select"}),2),F=L[0],j=L[1],U=h(oF({controlled:I,default:c,name:"Select"}),2),V=U[0],z=U[1],B=t.useRef(null),q=t.useRef(null),W=h(t.useState(null),2),K=W[0],H=W[1],G=t.useRef(null!=I).current,Q=h(t.useState(),2),$=Q[0],X=Q[1],Y=jO(n,v),J=t.useCallback((function(e){q.current=e,e&&H(e)}),[]),Z=null==K?void 0:K.parentNode;t.useImperativeHandle(Y,(function(){return{focus:function(){q.current.focus()},node:B.current,value:F}}),[F]),t.useEffect((function(){c&&V&&K&&!G&&(X(o?null:Z.clientWidth),q.current.focus())}),[K,o]),t.useEffect((function(){a&&q.current.focus()}),[a]),t.useEffect((function(){if(m){var e=uL(q.current).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m]);var ee,te,ne=function(e,t){e?_&&_(t):S&&S(t),G||(X(o?null:Z.clientWidth),z(e))},re=t.Children.toArray(u),ie=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(F)?F.slice():[];var r=F.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),F!==n&&(j(n),x)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:k}}),x(a,e)}b||ne(!1,t)}}},ae=null!==K&&V;delete M["aria-invalid"];var oe=[],ue=!1;(ZP({value:F})||d)&&(C?ee=C(F):ue=!0);var se=re.map((function(e){if(!t.isValidElement(e))return null;var n;if(b){if(!Array.isArray(F))throw new Error(ze(2));n=F.some((function(t){return pF(t,e.props.value)})),n&&ue&&oe.push(e.props.children)}else(n=pF(F,e.props.value))&&ue&&(te=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:ie(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ue&&(ee=b?0===oe.length?null:oe.reduce((function(e,t,n){return e.push(t),n<oe.length-1&&e.push(", "),e}),[]):te);var ce,le=$;!o&&G&&K&&(le=Z.clientWidth),ce="undefined"!==typeof N?N:f?null:0;var fe=A.id||(k?"mui-component-select-".concat(k):void 0),de=ye({},e,{variant:P,value:F,open:ae}),he=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return lD({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(pD(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},uF,t)}(de);return(0,Yn.jsxs)(t.Fragment,{children:[(0,Yn.jsx)(fF,ye({ref:J,tabIndex:ce,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:f||T?null:function(e){0===e.button&&(e.preventDefault(),q.current.focus(),ne(!0,e))},onBlur:function(e){!ae&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:F,name:k}}),w(e))},onFocus:E},A,{ownerState:de,className:cD(A.className,he.select,s),id:fe,children:vF(ee)?sF||(sF=(0,Yn.jsx)("span",{className:"notranslate",children:"\u200b"})):ee})),(0,Yn.jsx)(hF,ye({value:Array.isArray(F)?F.join(","):F,name:k,ref:B,"aria-hidden":!0,onChange:function(e){var t=re.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=re[t];j(n.props.value),x&&x(e,n)}},tabIndex:-1,disabled:f,className:he.nativeInput,autoFocus:a,ownerState:de},M)),(0,Yn.jsx)(dF,{as:p,className:he.icon,ownerState:de}),(0,Yn.jsx)(XL,ye({id:"menu-".concat(k||""),anchorEl:Z,open:ae,onClose:function(e){ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:ye({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:ye({},g.PaperProps,{style:ye({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)}),children:se}))]})})),yF=mF;function gF(e){return UD("MuiSvgIcon",e)}VD("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var bF=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],kF=SO("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(pD(n.color))],t["fontSize".concat(pD(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(d=(g.vars||g).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),wF=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,d=n.inheritViewBox,h=void 0!==d&&d,p=n.titleAccess,v=n.viewBox,m=void 0===v?"0 0 24 24":v,y=Ve(n,bF),g=ye({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m}),b={};h||(b.viewBox=m);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return lD({root:["root","inherit"!==t&&"color".concat(pD(t)),"fontSize".concat(pD(n))]},gF,r)}(g);return(0,Yn.jsxs)(kF,ye({as:s,className:cD(k.root,i),focusable:"false",color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},b,y,{ownerState:g,children:[r,p?(0,Yn.jsx)("title",{children:p}):null]}))}));wF.muiName="SvgIcon";var xF=wF;function SF(e,n){function r(t,r){return(0,Yn.jsx)(xF,ye({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=xF.muiName,t.memo(t.forwardRef(r))}var EF,_F,IF=SF((0,Yn.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),TF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],CF={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return wO(e)&&"variant"!==e},slot:"Root"},RF=SO(mM,CF)(""),AF=SO(MM,CF)(""),NF=SO(EM,CF)(""),DF=t.forwardRef((function(e,n){var r=Kn({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,l=r.defaultOpen,f=void 0!==l&&l,d=r.displayEmpty,h=void 0!==d&&d,p=r.IconComponent,v=void 0===p?IF:p,m=r.id,y=r.input,g=r.inputProps,b=r.label,k=r.labelId,w=r.MenuProps,x=r.multiple,S=void 0!==x&&x,E=r.native,_=void 0!==E&&E,I=r.onClose,T=r.onOpen,C=r.open,R=r.renderValue,A=r.SelectDisplayProps,N=r.variant,D=void 0===N?"outlined":N,O=Ve(r,TF),P=_?aF:yF,M=QP({props:r,muiFormControl:XP(),states:["variant"]}).variant||D,L=y||{standard:EF||(EF=(0,Yn.jsx)(RF,{})),outlined:(0,Yn.jsx)(AF,{label:b}),filled:_F||(_F=(0,Yn.jsx)(NF,{}))}[M],F=function(e){return e.classes}(ye({},r,{variant:M,classes:s})),j=jO(n,L.ref);return(0,Yn.jsx)(t.Fragment,{children:t.cloneElement(L,ye({inputComponent:P,inputProps:ye({children:o,IconComponent:v,variant:M,type:void 0,multiple:S},_?{id:m}:{autoWidth:a,defaultOpen:f,displayEmpty:h,labelId:k,MenuProps:w,onClose:I,onOpen:T,open:C,renderValue:R,SelectDisplayProps:ye({id:m},A)},g,{classes:g?We(F,g.classes):F},y?y.props.inputProps:{})},S&&_&&"outlined"===M?{notched:!0}:{},{ref:j,className:cD(L.props.className,c)},!y&&{variant:M},O))})}));DF.muiName="Select";var OF=DF;function PF(e){return UD("MuiTextField",e)}VD("MuiTextField",["root"]);var MF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],LF={standard:mM,filled:EM,outlined:MM},FF=SO(ZM,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),jF=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,v=n.FormHelperTextProps,m=n.fullWidth,y=void 0!==m&&m,g=n.helperText,b=n.id,k=n.InputLabelProps,w=n.inputProps,x=n.InputProps,S=n.inputRef,E=n.label,_=n.maxRows,I=n.minRows,T=n.multiline,C=void 0!==T&&T,R=n.name,A=n.onBlur,N=n.onChange,D=n.onFocus,O=n.placeholder,P=n.required,M=void 0!==P&&P,L=n.rows,F=n.select,j=void 0!==F&&F,U=n.SelectProps,V=n.type,z=n.value,B=n.variant,q=void 0===B?"outlined":B,W=Ve(n,MF),K=ye({},n,{autoFocus:a,color:c,disabled:d,error:p,fullWidth:y,multiline:C,required:M,select:j,variant:q}),H=function(e){return lD({root:["root"]},PF,e.classes)}(K);var G={};"outlined"===q&&(k&&"undefined"!==typeof k.shrink&&(G.notched=k.shrink),G.label=E),j&&(U&&U.native||(G.id=void 0),G["aria-describedby"]=void 0);var Q=hD(b),$=g&&Q?"".concat(Q,"-helper-text"):void 0,X=E&&Q?"".concat(Q,"-label"):void 0,Y=LF[q],J=(0,Yn.jsx)(Y,ye({"aria-describedby":$,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:y,multiline:C,name:R,rows:L,maxRows:_,minRows:I,type:V,value:z,id:Q,inputRef:S,onBlur:A,onChange:N,onFocus:D,placeholder:O,inputProps:w},G,x));return(0,Yn.jsxs)(FF,ye({className:cD(H.root,u),disabled:d,error:p,fullWidth:y,ref:t,required:M,color:c,variant:q,ownerState:K},W,{children:[null!=E&&""!==E&&(0,Yn.jsx)(GM,ye({htmlFor:Q,id:X},k,{children:E})),j?(0,Yn.jsx)(OF,ye({"aria-describedby":$,id:Q,labelId:X,value:z,input:J},U,{children:o})):J,g&&(0,Yn.jsx)(oL,ye({id:$},v,{children:g}))]}))})),UF=jF;function VF(e){return UD("MuiDialogActions",e)}VD("MuiDialogActions",["root","spacing"]);var zF,BF=["className","disableSpacing"],qF=SO("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){return ye({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.ownerState.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),WF=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiDialogActions"}),r=n.className,i=n.disableSpacing,a=void 0!==i&&i,o=Ve(n,BF),u=ye({},n,{disableSpacing:a}),s=function(e){var t=e.classes;return lD({root:["root",!e.disableSpacing&&"spacing"]},VF,t)}(u);return(0,Yn.jsx)(qF,ye({className:cD(s.root,r),ownerState:u,ref:t},o))})),KF=WF,HF=bD,GF=!0,QF=!1,$F={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function XF(e){e.metaKey||e.altKey||e.ctrlKey||(GF=!0)}function YF(){GF=!1}function JF(){"hidden"===this.visibilityState&&QF&&(GF=!0)}function ZF(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return GF||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!$F[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var ej=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",XF,!0),t.addEventListener("mousedown",YF,!0),t.addEventListener("pointerdown",YF,!0),t.addEventListener("touchstart",YF,!0),t.addEventListener("visibilitychange",JF,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!ZF(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(QF=!0,window.clearTimeout(zF),zF=window.setTimeout((function(){QF=!1}),100),n.current=!1,!0)},ref:e}};function tj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function nj(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function rj(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ij(e,n,r){var i=nj(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:rj(u,"exit",e),enter:rj(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:rj(u,"exit",e),enter:rj(u,"enter",e)})}})),a}var aj=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},oj=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(dr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}EO(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,nj(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:rj(e,"appear",r),enter:rj(e,"enter",r),exit:rj(e,"exit",r)})}))):ij(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=nj(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ye({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=Ve(e,["component","childFactory"]),a=this.state.contextValue,o=aj(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(IO.Provider,{value:a},o):t.createElement(IO.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);oj.propTypes={},oj.defaultProps={component:"div",childFactory:function(e){return e}};var uj=oj;var sj=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,d=h(t.useState(!1),2),p=d[0],v=d[1],m=cD(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=cD(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,Yn.jsx)("span",{className:m,style:y,children:(0,Yn.jsx)("span",{className:g})})};var cj,lj,fj,dj,hj,pj,vj,mj,yj=VD("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gj=["center","classes","className"],bj=80,kj=Xn(hj||(hj=cj||(cj=tj(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),wj=Xn(pj||(pj=lj||(lj=tj(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),xj=Xn(vj||(vj=fj||(fj=tj(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Sj=SO("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ej=SO(sj,{name:"MuiTouchRipple",slot:"Ripple"})(mj||(mj=dj||(dj=tj(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),yj.rippleVisible,kj,550,(function(e){return e.theme.transitions.easing.easeInOut}),yj.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),yj.child,yj.childLeaving,wj,550,(function(e){return e.theme.transitions.easing.easeInOut}),yj.childPulsate,xj,(function(e){return e.theme.transitions.easing.easeInOut})),_j=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,c=Ve(r,gj),l=h(t.useState([]),2),f=l[0],d=l[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(vr(e),[(0,Yn.jsx)(Ej,{classes:{ripple:cD(u.ripple,yj.ripple),rippleVisible:cD(u.rippleVisible,yj.rippleVisible),ripplePulsate:cD(u.ripplePulsate,yj.ripplePulsate),child:cD(u.child,yj.child),childLeaving:cD(u.childLeaving,yj.childLeaving),childPulsate:cD(u.childPulsate,yj.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,d,h=c?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var S=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),bj)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,k]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),S=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){S(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:S}}),[x,w,S]),(0,Yn.jsx)(Sj,ye({className:cD(yj.root,u.root,s),ref:b},c,{children:(0,Yn.jsx)(uj,{component:null,exit:!0,children:f})}))})),Ij=_j;function Tj(e){return UD("MuiButtonBase",e)}var Cj,Rj=VD("MuiButtonBase",["root","disabled","focusVisible"]),Aj=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nj=SO("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((He(Cj={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Rj.disabled),{pointerEvents:"none",cursor:"default"}),He(Cj,"@media print",{colorAdjust:"exact"}),Cj)),Dj=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,d=void 0!==f&&f,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,b=void 0!==g&&g,k=r.LinkComponent,w=void 0===k?"a":k,x=r.onBlur,S=r.onClick,E=r.onContextMenu,_=r.onDragLeave,I=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,R=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,D=r.onMouseUp,O=r.onTouchEnd,P=r.onTouchMove,M=r.onTouchStart,L=r.tabIndex,F=void 0===L?0:L,j=r.TouchRippleProps,U=r.touchRippleRef,V=r.type,z=Ve(r,Aj),B=t.useRef(null),q=t.useRef(null),W=jO(q,U),K=ej(),H=K.isFocusVisibleRef,G=K.onFocus,Q=K.onBlur,$=K.ref,X=h(t.useState(!1),2),Y=X[0],J=X[1];d&&Y&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),B.current.focus()}}}),[]);var Z=h(t.useState(!1),2),ee=Z[0],te=Z[1];t.useEffect((function(){te(!0)}),[]);var ne=ee&&!v&&!d;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return HF((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}t.useEffect((function(){Y&&b&&!v&&ee&&q.current.pulsate()}),[v,b,Y,ee]);var ie=re("start",A),ae=re("stop",E),oe=re("stop",_),ue=re("stop",D),se=re("stop",(function(e){Y&&e.preventDefault(),N&&N(e)})),ce=re("start",M),le=re("stop",O),fe=re("stop",P),de=re("stop",(function(e){Q(e),!1===H.current&&J(!1),x&&x(e)}),!1),he=HF((function(e){B.current||(B.current=e.currentTarget),G(e),!0===H.current&&(J(!0),T&&T(e)),I&&I(e)})),pe=function(){var e=B.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ve=t.useRef(!1),me=HF((function(e){b&&!ve.current&&Y&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!d&&(e.preventDefault(),S&&S(e))})),ge=HF((function(e){b&&" "===e.key&&q.current&&Y&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),R&&R(e),S&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),be=l;"button"===be&&(z.href||z.to)&&(be=w);var ke={};"button"===be?(ke.type=void 0===V?"button":V,ke.disabled=d):(z.href||z.to||(ke.role="button"),d&&(ke["aria-disabled"]=d));var we=jO(n,$,B);var xe=ye({},r,{centerRipple:o,component:l,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:Y}),Se=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=lD({root:["root",t&&"disabled",n&&"focusVisible"]},Tj,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(xe);return(0,Yn.jsxs)(Nj,ye({as:be,className:cD(Se.root,s),ownerState:xe,onBlur:de,onClick:S,onContextMenu:ae,onFocus:he,onKeyDown:me,onKeyUp:ge,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:we,tabIndex:d?-1:F,type:V},ke,z,{children:[u,ne?(0,Yn.jsx)(Ij,ye({ref:W,center:o},j)):null]}))})),Oj=Dj;function Pj(e){return UD("MuiButton",e)}var Mj=VD("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Lj=t.createContext({}),Fj=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],jj=function(e){return ye({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Uj=SO(Oj,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(pD(n.color))],t["size".concat(pD(n.size))],t["".concat(n.variant,"Size").concat(pD(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return ye({},i.typography.button,(He(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":ye({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):nn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":ye({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Mj.focusVisible),ye({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),He(t,"&.".concat(Mj.disabled),ye({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(nn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(He(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Mj.focusVisible),{boxShadow:"none"}),He(t,"&:active",{boxShadow:"none"}),He(t,"&.".concat(Mj.disabled),{boxShadow:"none"}),t)})),Vj=SO("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(pD(n.size))]]}})((function(e){var t=e.ownerState;return ye({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},jj(t))})),zj=SO("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(pD(n.size))]]}})((function(e){var t=e.ownerState;return ye({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},jj(t))})),Bj=t.forwardRef((function(e,n){var r=t.useContext(Lj),i=Kn({props:jn(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,d=void 0!==f&&f,h=i.disableElevation,p=void 0!==h&&h,v=i.disableFocusRipple,m=void 0!==v&&v,y=i.endIcon,g=i.focusVisibleClassName,b=i.fullWidth,k=void 0!==b&&b,w=i.size,x=void 0===w?"medium":w,S=i.startIcon,E=i.type,_=i.variant,I=void 0===_?"text":_,T=Ve(i,Fj),C=ye({},i,{color:u,component:c,disabled:d,disableElevation:p,disableFocusRipple:m,fullWidth:k,size:x,type:E,variant:I}),R=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return ye({},o,lD({root:["root",a,"".concat(a).concat(pD(t)),"size".concat(pD(i)),"".concat(a,"Size").concat(pD(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(pD(i))],endIcon:["endIcon","iconSize".concat(pD(i))]},Pj,o))}(C),A=S&&(0,Yn.jsx)(Vj,{className:R.startIcon,ownerState:C,children:S}),N=y&&(0,Yn.jsx)(zj,{className:R.endIcon,ownerState:C,children:y});return(0,Yn.jsxs)(Uj,ye({ownerState:C,className:cD(r.className,R.root,l),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:cD(R.focusVisible,g),ref:n,type:E},T,{classes:R,children:[A,a,N]}))})),qj=Bj,Wj=function(e){var n=e.setUserChat,r=e.userChat,i=e.UserData,a=e.setShowAlert,u=h((0,t.useState)(""),2),c=u[0],l=u[1],f=jN.collection("privateChat").where("users","array-contains",i.userID),d=h(XN(f),1)[0],p=yk(jN,"usersDB"),v=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==i.userID){e.next=5;break}a({severity:"warning",setOpen:!0,title:"Aviso",message:"Insira um ID de usu\xe1rio diferente do seu"}),e.next=15;break;case 5:if(!m(c)){e.next=10;break}a({severity:"warning",setOpen:!0,title:"Aviso",message:"Contato j\xe1 adicionado"}),e.next=15;break;case 10:return t=mw(p,gw("userID","==",c)),e.next=13,Kw(t);case 13:e.sent.empty?a({severity:"warning",setOpen:!0,title:"Aviso",message:"ID de usu\xe1rio n\xe3o existente"}):(jN.collection("privateChat").add({users:[i.userID,c]}),a({severity:"success",setOpen:!0,title:"Sucesso",message:"Contato adicionado"}),k());case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){return!(null===d||void 0===d||!d.docs.find((function(t){var n;return(null===(n=t.data().users.find((function(t){return t===e})))||void 0===n?void 0:n.length)>0})))},y=h((0,t.useState)(!1),2),g=y[0],b=y[1],k=function(){b(!1)};return(0,Yn.jsxs)("div",{className:"flex-col gap-1 text-xl",children:[(0,Yn.jsxs)(pP,{fullWidth:!0,open:g,onClose:k,children:[(0,Yn.jsx)(AP,{color:"secondary",borderBottom:3,sx:{fontSize:25,backgroundColor:"secundary"},children:(0,Yn.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl",children:"Adicionar Contato"})}),(0,Yn.jsxs)(MP,{sx:{margin:5},children:[(0,Yn.jsxs)(VP,{sx:{fontSize:18},children:["Digite o ",(0,Yn.jsx)("strong",{children:"ID do \xfasuario"}),":"]}),(0,Yn.jsx)(UF,{variant:"outlined",autoFocus:!0,fullWidth:!0,margin:"dense",id:"userID",label:"UserID",value:c,onChange:function(e){l(e.target.value)}})]}),(0,Yn.jsxs)(KF,{sx:{padding:2},children:[(0,Yn.jsx)(qj,{onClick:k,children:"Cancelar"}),(0,Yn.jsx)(qj,{variant:"contained",onClick:v,children:"Adicionar"})]})]}),(0,Yn.jsxs)("div",{className:"".concat(r?"":"active"," color3 flex justify-center border-opacity-30 border-gray-100 border-b items-center md:gap-2 hover:bg-[#a34373] transition cursor-pointer gap-1 p-3"),onClick:function(){n(null)},children:[(0,Yn.jsx)(rD,{className:"text-[2.5rem]"}),(0,Yn.jsx)("span",{className:"text-sm lg:text-base xl:text-lg text-ellipsis overflow-hidden",children:"Chat Geral"})]}),(0,Yn.jsxs)("div",{className:"flex justify-between my-5 h-full w-full px-2",children:[(0,Yn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Yn.jsx)(eD,{className:"text-2xl"}),(0,Yn.jsx)("h1",{children:"Contatos"})]}),(0,Yn.jsx)("div",{className:"flex items-center text-3xl",children:(0,Yn.jsx)(aD,{className:"cursor-pointer",onClick:function(){b(!0)}})})]}),null===d||void 0===d?void 0:d.docs.map((function(e,t){return(0,Yn.jsx)("div",{className:"h-full w-full",children:(0,Yn.jsx)(uD,{setUserChat:n,active:(null===r||void 0===r?void 0:r.chatId)===e.id?"active":"",id:e.id,users:e.data().users,user:i.userID,UserData:i})},t)}))]})};function Kj(e){var t=e.userChat,n=null===t||void 0===t?void 0:t.username,r=null===t||void 0===t?void 0:t.photoURL,i=null===t||void 0===t?void 0:t.userID;return t?(0,Yn.jsxs)("header",{className:"flex items-center color2 pl-16 p-3 md:p-5 w-full drop-shadow-xl border-l-[2px] border-opacity-30 border-gray-700 gap-2",children:[r?(0,Yn.jsx)("img",{className:"xl:w-[50px] lg:w-[40px] w-[35px] rounded-full",src:r,alt:"Avatar"}):(0,Yn.jsx)(nD,{}),(0,Yn.jsxs)("span",{className:"text-base lg:text-base xl:text-lg text-ellipsis overflow-hidden",children:[n,(0,Yn.jsx)("span",{className:"ml-1 text-[0.6rem] font-extralight",children:i})]})]}):(0,Yn.jsxs)("div",{className:"color2 flex justify-center items-center p-3 gap-2",children:[(0,Yn.jsx)(rD,{className:"text-[2.5rem]"}),(0,Yn.jsx)("span",{className:"text-xl text-ellipsis overflow-hidden",children:"Chat Geral"})]})}function Hj(){return UN.currentUser&&(0,Yn.jsx)("button",{onClick:function(){return UN.signOut()},children:(0,Yn.jsx)(EC,{className:"text-3xl"})})}function Gj(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function Qj(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"}}]})(e)}var $j=JR.firestore();function Xj(e){var n=e.userChat,r=e.setShowAlert,i=n.chatId,a=n.UserData.photoURL,u=n.UserData.userID,c=n.UserData.username,l=$j.collection("privateChat").doc(i).collection("messages"),f=mw(jN.collection("privateChat").doc(i).collection("messages").orderBy("createdAt")),d=h(YN(f),4),p=d[0],v=(d[1],d[2],d[3]),m=[];null===v||void 0===v||v.forEach((function(e){m.push(e.ref)}));var y=(0,t.useRef)("");(0,t.useEffect)((function(){y.current.scrollHeight>y.current.offsetHeight&&(y.current.scrollTop=y.current.scrollHeight-y.current.offsetHeight)}),[p]);var g=h((0,t.useState)(""),2),b=g[0],k=g[1],w=function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(b.length>0)){e.next=5;break}return e.next=4,l.add({text:b,createdAt:JR.firestore.FieldValue.serverTimestamp(),userID:u,photoURL:a,username:c});case 4:k("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=h((0,t.useState)(!0),2),S=x[0],E=x[1];(0,t.useEffect)((function(){if(0===b.length)E(!0);else if(E(!1),b.length>1e3){r({severity:"warning",setOpen:!0,title:"Mensagem muito longa",message:"N\xfamero m\xe1ximo de 1000 caracteres excedido"}),E(!0)}else E(!1)}),[b]);var _=h((0,t.useState)(null),2),I=_[0],T=_[1],C=h((0,t.useState)(b),2),R=C[0],A=C[1],N=h((0,t.useState)(!1),2),D=N[0],O=N[1],P=function(){O(!1),A("")};return(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)(pP,{fullWidth:!0,maxWidth:"md",open:D,onClose:P,children:[(0,Yn.jsxs)(AP,{color:"secondary",borderBottom:3,sx:{backgroundColor:"secundary",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Yn.jsx)("span",{className:"text-lg sm:text-xl md:text-2xl",children:"Enviar Imagem"}),(0,Yn.jsx)("button",{className:"text-[3rem] rounded-full float-right",onClick:P,children:(0,Yn.jsx)(Gj,{})})]}),(0,Yn.jsx)(MP,{sx:{marginTop:2,justifyContent:"center",display:"flex"},children:(0,Yn.jsx)("img",{id:"imgpreview",className:"object-contain"})}),(0,Yn.jsxs)(KF,{sx:{paddingBottom:2,paddingRight:2,paddingLeft:3,gap:4},children:[(0,Yn.jsx)(UF,{variant:"outlined",className:"w-full h-full",value:R,onChange:function(e){return A(e.target.value)}}),(0,Yn.jsx)("button",{className:"rounded-full text-[2rem] p-3 color5",onClick:function(){var e,t;null!==I&&(P(),function(e,t,n){return NR(e=Yr(e),t,n)}((e=zN,t="privateChat/".concat(i,"/").concat(I.name+Xr()),MR(e=Yr(e),t)),I).then((function(e){(function(e){return DR(e=Yr(e))})(e.ref).then((function(e){$j.collection("privateChat").doc(i).collection("messages").add({imageURL:e,text:R,createdAt:JR.firestore.FieldValue.serverTimestamp(),userID:u,photoURL:a,username:c})}))})))},children:(0,Yn.jsx)(Qj,{})})]})]}),(0,Yn.jsxs)("div",{className:"flex flex-col place-content-end h-full w-full overflow-hidden",children:[(0,Yn.jsx)("main",{className:"h-full overflow-y-auto scroll-smooth pt-3",ref:y,children:p&&p.map((function(e,t){return(0,Yn.jsx)(SV,{message:e,docRef:m[t],CurrentUserID:n.UserData.userID},t)}))}),(0,Yn.jsxs)("div",{className:"flex items-center",children:[(0,Yn.jsxs)("label",{className:"block cursor-pointer",children:[(0,Yn.jsx)(SC,{className:"text-4xl ml-4 mr-2"}),(0,Yn.jsx)("input",{className:"hidden",type:"file",onChange:function(e){T(e.target.files[0],function(e){O(!0);var t=new FileReader;t.onload=function(e){document.getElementById("imgpreview").setAttribute("src",e.target.result)},t.readAsDataURL(e)}(e.target.files[0]))}})]}),(0,Yn.jsx)("form",{className:"flex m-2 p-2 px-4 pb-0 pt-0 drop-shadow-xl w-full shadow-inner rounded-[2rem] overflow-hidden bg-[rgba(32,36,53,0.85)]",onSubmit:w,children:(0,Yn.jsx)(UF,{variant:"standard",className:"w-full h-full",value:b,onChange:function(e){k(e.target.value),A(e.target.value)},InputProps:{endAdornment:(0,Yn.jsx)("button",{disabled:S,className:"".concat(S&&"saturate-0"," transition rounded-full text-[2rem] p-3 m-1 float-right color5"),type:"submit",children:(0,Yn.jsx)(Qj,{})})}})})]})]})]})}var Yj=JR.firestore();function Jj(e){var n=e.userData,r=e.setShowAlert,i=Yj.collection("messages"),a=i.orderBy("createdAt"),u=h(YN(a),4),c=u[0],l=(u[1],u[2],u[3]),f=[];null===l||void 0===l||l.forEach((function(e){f.push(e.ref)}));var d=h((0,t.useState)(""),2),p=d[0],v=d[1],m=(0,t.useRef)("");(0,t.useEffect)((function(){m.current.scrollHeight>m.current.offsetHeight&&(m.current.scrollTop=m.current.scrollHeight-m.current.offsetHeight)}),[c]);var y=function(){var e=s(o().mark((function e(t){var r,a,u,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(p.length>0)){e.next=8;break}return r=UN.currentUser,a=r.uid,u=r.photoURL,s=n.username,c=n.userID,e.next=7,i.add({text:p,createdAt:JR.firestore.FieldValue.serverTimestamp(),uid:a,photoURL:u,username:s,userID:c});case 7:v("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=h((0,t.useState)(!0),2),b=g[0],k=g[1];return(0,t.useEffect)((function(){if(0===p.length)k(!0);else if(k(!1),p.length>1e3){r({severity:"warning",setOpen:!0,title:"Mensagem muito longa",message:"N\xfamero m\xe1ximo de 1000 caracteres excedido"}),k(!0)}else k(!1)}),[p]),(0,Yn.jsxs)("div",{className:"flex flex-col place-content-end h-full w-full overflow-hidden",children:[(0,Yn.jsx)("main",{className:"h-full overflow-auto overflow-x-hidden scroll-smooth pt-3",ref:m,children:c&&c.map((function(e,t){return(0,Yn.jsx)(SV,{message:e,docRef:f[t]},t)}))}),(0,Yn.jsx)("form",{className:"flex m-2 p-2 px-4 pt-0  drop-shadow-xl shadow-inner rounded-[2rem] overflow-hidden opacity-80 bg-[rgba(32,36,53,0.85)]",onSubmit:y,children:(0,Yn.jsx)(UF,{variant:"standard",className:"w-full h-full",value:p,onChange:function(e){return v(e.target.value)},InputProps:{endAdornment:(0,Yn.jsx)("button",{disabled:b,className:"".concat(b&&"saturate-0"," transition rounded-full text-[2rem] p-3 m-1 float-right color5"),type:"submit",children:(0,Yn.jsx)(Qj,{})})}})})]})}function Zj(e){var t=e.setShowAlert,n=e.userData,r=e.userChat;return r?(0,Yn.jsx)(Xj,{setShowAlert:t,userChat:r}):(0,Yn.jsx)(Jj,{setShowAlert:t,userData:n})}var eU=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tU(e,t,n){var r,i=function(e,t,n){var r,i=t.getBoundingClientRect(),a=n&&n.getBoundingClientRect(),o=SL(t);if(t.fakeTransform)r=t.fakeTransform;else{var u=o.getComputedStyle(t);r=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}var s=0,c=0;if(r&&"none"!==r&&"string"===typeof r){var l=r.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),c=parseInt(l[5],10)}return"left"===e?"translateX(".concat(a?a.right+s-i.left:o.innerWidth+s-i.left,"px)"):"right"===e?"translateX(-".concat(a?i.right-a.left-s:i.left+i.width-s,"px)"):"up"===e?"translateY(".concat(a?a.bottom+c-i.top:o.innerHeight+c-i.top,"px)"):"translateY(-".concat(a?i.top-a.top+i.height-c:i.top+i.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}var nU=t.forwardRef((function(e,n){var r=MO(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=e.addEndListener,u=e.appear,s=void 0===u||u,c=e.children,l=e.container,f=e.direction,d=void 0===f?"down":f,h=e.easing,p=void 0===h?i:h,v=e.in,m=e.onEnter,y=e.onEntered,g=e.onEntering,b=e.onExit,k=e.onExited,w=e.onExiting,x=e.style,S=e.timeout,E=void 0===S?a:S,_=e.TransitionComponent,I=void 0===_?PO:_,T=Ve(e,eU),C=t.useRef(null),R=jO(c.ref,C,n),A=function(e){return function(t){e&&(void 0===t?e(C.current):e(C.current,t))}},N=A((function(e,t){tU(d,e,l),LO(e),m&&m(e,t)})),D=A((function(e,t){var n=FO({timeout:E,style:x,easing:p},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",ye({},n)),e.style.transition=r.transitions.create("transform",ye({},n)),e.style.webkitTransform="none",e.style.transform="none",g&&g(e,t)})),O=A(y),P=A(w),M=A((function(e){var t=FO({timeout:E,style:x,easing:p},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),tU(d,e,l),b&&b(e)})),L=A((function(e){e.style.webkitTransition="",e.style.transition="",k&&k(e)})),F=t.useCallback((function(){C.current&&tU(d,C.current,l)}),[d,l]);return t.useEffect((function(){if(!v&&"down"!==d&&"right"!==d){var e=xL((function(){C.current&&tU(d,C.current,l)})),t=SL(C.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[d,v,l]),t.useEffect((function(){v||F()}),[v,F]),(0,Yn.jsx)(I,ye({nodeRef:C,onEnter:N,onEntered:O,onEntering:D,onExit:M,onExited:L,onExiting:P,addEndListener:function(e){o&&o(C.current,e)},appear:s,in:v,timeout:E},T,{children:function(e,n){return t.cloneElement(c,ye({ref:R,style:ye({visibility:"exited"!==e||v?void 0:"hidden"},x,c.props.style)},n))}}))})),rU=nU,iU=kO(),aU=["component","direction","spacing","divider","children","className"],oU=Xt(),uU=iU("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function sU(e){return qn({props:e,name:"MuiStack",defaultTheme:oU})}function cU(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var lU=function(e){var t=e.ownerState,n=e.theme,r=ye({display:"flex",flexDirection:"column"},Je({theme:n},tt({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=vt(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),o=tt({values:t.direction,base:a}),u=tt({values:t.spacing,base:a});"object"===typeof o&&Object.keys(o).forEach((function(e,t,n){if(!o[e]){var r=t>0?o[n[t-1]]:"column";o[e]=r}}));r=We(r,Je({theme:n},u,(function(e,n){return{"& > :not(style) + :not(style)":He({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),mt(i,e))};var r})))}return r=function(e){for(var t=Ze(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=[t].concat(r).reduce((function(e,t){return We(e,t)}),{});return et(Object.keys(t),a)}(n.breakpoints,r),r};var fU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,r=void 0===n?uU:n,i=e.useThemeProps,a=void 0===i?sU:i,o=e.componentName,u=void 0===o?"MuiStack":o,s=r(lU),c=t.forwardRef((function(e,t){var n=yP(a(e)),r=n.component,i=void 0===r?"div":r,o=n.direction,c=void 0===o?"column":o,l=n.spacing,f=void 0===l?0:l,d=n.divider,h=n.children,p=n.className,v=Ve(n,aU),m={direction:c,spacing:f},y=lD({root:["root"]},(function(e){return UD(u,e)}),{});return(0,Yn.jsx)(s,ye({as:i,ownerState:m,ref:t,className:cD(y.root,p)},v,{children:d?cU(h,d):h}))}));return c}({createStyledComponent:SO("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return Kn({props:e,name:"MuiStack"})}}),dU=fU;function hU(e){return e.substring(2).toLowerCase()}var pU=function(e){var n=e.children,r=e.disableReactTree,i=void 0!==r&&r,a=e.mouseEvent,o=void 0===a?"onClick":a,u=e.onClickAway,s=e.touchEvent,c=void 0===s?"onTouchEnd":s,l=t.useRef(!1),f=t.useRef(null),d=t.useRef(!1),h=t.useRef(!1);t.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var p=mD(n.ref,f),v=bD((function(e){var t=h.current;h.current=!1;var n=yD(f.current);!d.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(l.current?l.current=!1:(e.composedPath?e.composedPath().indexOf(f.current)>-1:!n.documentElement.contains(e.target)||f.current.contains(e.target))||!i&&t||u(e))})),m=function(e){return function(t){h.current=!0;var r=n.props[e];r&&r(t)}},y={ref:p};return!1!==c&&(y[c]=m(c)),t.useEffect((function(){if(!1!==c){var e=hU(c),t=yD(f.current),n=function(){l.current=!0};return t.addEventListener(e,v),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,v),t.removeEventListener("touchmove",n)}}}),[v,c]),!1!==o&&(y[o]=m(o)),t.useEffect((function(){if(!1!==o){var e=hU(o),t=yD(f.current);return t.addEventListener(e,v),function(){t.removeEventListener(e,v)}}}),[v,o]),(0,Yn.jsx)(t.Fragment,{children:t.cloneElement(n,y)})};function vU(e){return UD("MuiSnackbarContent",e)}VD("MuiSnackbarContent",["root","message","action"]);var mU=["action","className","message","role"],yU=SO(iP,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return tn(e)>.5?rn(e,t):an(e,t)}(t.palette.background.default,n);return ye({},t.typography.body2,He({color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),gU=SO("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),bU=SO("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),kU=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiSnackbarContent"}),r=n.action,i=n.className,a=n.message,o=n.role,u=void 0===o?"alert":o,s=Ve(n,mU),c=n,l=function(e){return lD({root:["root"],action:["action"],message:["message"]},vU,e.classes)}(c);return(0,Yn.jsxs)(yU,ye({role:u,square:!0,elevation:6,className:cD(l.root,i),ownerState:c,ref:t},s,{children:[(0,Yn.jsx)(gU,{className:l.message,ownerState:c,children:a}),r?(0,Yn.jsx)(bU,{className:l.action,ownerState:c,children:r}):null]}))})),wU=kU;function xU(e){return UD("MuiSnackbar",e)}VD("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var SU=["onEnter","onExited"],EU=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],_U=SO("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["anchorOrigin".concat(pD(n.anchorOrigin.vertical)).concat(pD(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},He({},t.breakpoints.up("sm"),ye({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})))})),IU=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiSnackbar"}),i=MO(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=r.action,u=r.anchorOrigin,s=void 0===u?{vertical:"bottom",horizontal:"left"}:u,c=s.vertical,l=s.horizontal,f=r.autoHideDuration,d=void 0===f?null:f,p=r.children,v=r.className,m=r.ClickAwayListenerProps,y=r.ContentProps,g=r.disableWindowBlurListener,b=void 0!==g&&g,k=r.message,w=r.open,x=r.TransitionComponent,S=void 0===x?RL:x,E=r.transitionDuration,_=void 0===E?a:E,I=r.TransitionProps,T=void 0===I?{}:I,C=T.onEnter,R=T.onExited,A=Ve(r.TransitionProps,SU),N=Ve(r,EU),D=ye({},r,{anchorOrigin:{vertical:c,horizontal:l},autoHideDuration:d,disableWindowBlurListener:b,TransitionComponent:S,transitionDuration:_}),O=function(e){var t=e.classes,n=e.anchorOrigin;return lD({root:["root","anchorOrigin".concat(pD(n.vertical)).concat(pD(n.horizontal))]},xU,t)}(D),P=function(e){var n=e.autoHideDuration,r=void 0===n?null:n,i=e.disableWindowBlurListener,a=void 0!==i&&i,o=e.onClose,u=e.open,s=e.ref,c=e.resumeHideDuration,l=t.useRef();t.useEffect((function(){if(u)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[u,o]);var f=bD((function(e,t){null==o||o(e,t)})),d=bD((function(e){o&&null!=e&&(clearTimeout(l.current),l.current=setTimeout((function(){f(null,"timeout")}),e))}));t.useEffect((function(){return u&&d(r),function(){clearTimeout(l.current)}}),[u,r,d]);var h=function(){clearTimeout(l.current)},p=t.useCallback((function(){null!=r&&d(null!=c?c:.5*r)}),[r,c,d]),v=function(e){return function(t){var n=e.onBlur;null==n||n(t),p()}},m=function(e){return function(t){var n=e.onFocus;null==n||n(t),h()}},y=function(e){return function(t){var n=e.onMouseEnter;null==n||n(t),h()}},g=function(e){return function(t){var n=e.onMouseLeave;null==n||n(t),p()}};return t.useEffect((function(){if(!a&&u)return window.addEventListener("focus",p),window.addEventListener("blur",h),function(){window.removeEventListener("focus",p),window.removeEventListener("blur",h)}}),[a,p,u]),{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=ye({},qD(e),t);return ye({ref:s,role:"presentation"},n,{onBlur:v(n),onFocus:m(n),onMouseEnter:y(n),onMouseLeave:g(n)})},onClickAway:function(e){null==o||o(e,"clickaway")}}}(ye({},D,{ref:n})),M=P.getRootProps,L=P.onClickAway,F=h(t.useState(!0),2),j=F[0],U=F[1],V=GD({elementType:_U,getSlotProps:M,externalForwardedProps:N,ownerState:D,className:[O.root,v]});return!w&&j?null:(0,Yn.jsx)(pU,ye({onClickAway:L},m,{children:(0,Yn.jsx)(_U,ye({},V,{children:(0,Yn.jsx)(S,ye({appear:!0,in:w,timeout:_,direction:"top"===c?"down":"up",onEnter:function(e,t){U(!1),C&&C(e,t)},onExited:function(e){U(!0),R&&R(e)}},A,{children:p||(0,Yn.jsx)(wU,ye({message:k,action:o},y))}))}))}))})),TU=IU;function CU(e){return UD("MuiAlert",e)}var RU=VD("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function AU(e){return UD("MuiIconButton",e)}var NU=VD("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),DU=["edge","children","className","color","disabled","disableFocusRipple","size"],OU=SO(Oj,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(pD(n.color))],n.edge&&t["edge".concat(pD(n.edge))],t["size".concat(pD(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return ye({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):nn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return ye({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&ye({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":ye({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):nn(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},He({},"&.".concat(NU.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),PU=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,d=void 0!==f&&f,h=n.size,p=void 0===h?"medium":h,v=Ve(n,DU),m=ye({},n,{edge:i,color:s,disabled:l,disableFocusRipple:d,size:p}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return lD({root:["root",n&&"disabled","default"!==r&&"color".concat(pD(r)),i&&"edge".concat(pD(i)),"size".concat(pD(a))]},AU,t)}(m);return(0,Yn.jsx)(OU,ye({className:cD(y.root,o),centerRipple:!0,focusRipple:!d,disabled:l,ref:t,ownerState:m},v,{children:a}))})),MU=PU,LU=SF((0,Yn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),FU=SF((0,Yn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),jU=SF((0,Yn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),UU=SF((0,Yn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),VU=SF((0,Yn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zU=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],BU=SO(iP,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(pD(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?rn:an,i="light"===t.palette.mode?an:rn,a=n.color||n.severity;return ye({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&He({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:i(t.palette[a].light,.9)},"& .".concat(RU.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"outlined"===n.variant&&He({color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:r(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light)},"& .".concat(RU.icon),t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}),a&&"filled"===n.variant&&ye({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))})),qU=SO("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),WU=SO("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0",minWidth:0,overflow:"auto"}),KU=SO("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),HU={success:(0,Yn.jsx)(LU,{fontSize:"inherit"}),warning:(0,Yn.jsx)(FU,{fontSize:"inherit"}),error:(0,Yn.jsx)(jU,{fontSize:"inherit"}),info:(0,Yn.jsx)(UU,{fontSize:"inherit"})},GU=t.forwardRef((function(e,t){var n,r,i,a,o,u,s=Kn({props:e,name:"MuiAlert"}),c=s.action,l=s.children,f=s.className,d=s.closeText,h=void 0===d?"Close":d,p=s.color,v=s.components,m=void 0===v?{}:v,y=s.componentsProps,g=void 0===y?{}:y,b=s.icon,k=s.iconMapping,w=void 0===k?HU:k,x=s.onClose,S=s.role,E=void 0===S?"alert":S,_=s.severity,I=void 0===_?"success":_,T=s.slotProps,C=void 0===T?{}:T,R=s.slots,A=void 0===R?{}:R,N=s.variant,D=void 0===N?"standard":N,O=Ve(s,zU),P=ye({},s,{color:p,severity:I,variant:D}),M=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes;return lD({root:["root","".concat(t).concat(pD(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},CU,i)}(P),L=null!=(n=null!=(r=A.closeButton)?r:m.CloseButton)?n:MU,F=null!=(i=null!=(a=A.closeIcon)?a:m.CloseIcon)?i:VU,j=null!=(o=C.closeButton)?o:g.closeButton,U=null!=(u=C.closeIcon)?u:g.closeIcon;return(0,Yn.jsxs)(BU,ye({role:E,elevation:0,ownerState:P,className:cD(M.root,f),ref:t},O,{children:[!1!==b?(0,Yn.jsx)(qU,{ownerState:P,className:M.icon,children:b||w[I]||HU[I]}):null,(0,Yn.jsx)(WU,{ownerState:P,className:M.message,children:l}),null!=c?(0,Yn.jsx)(KU,{ownerState:P,className:M.action,children:c}):null,null==c&&x?(0,Yn.jsx)(KU,{ownerState:P,className:M.action,children:(0,Yn.jsx)(L,ye({size:"small","aria-label":h,title:h,color:"inherit",onClick:x},j,{children:(0,Yn.jsx)(F,ye({fontSize:"small"},U))}))}):null]}))})),QU=GU;function $U(e){return UD("MuiAlertTitle",e)}VD("MuiAlertTitle",["root"]);var XU=["className"],YU=SO(EP,{name:"MuiAlertTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{fontWeight:e.theme.typography.fontWeightMedium,marginTop:-2}})),JU=t.forwardRef((function(e,t){var n=Kn({props:e,name:"MuiAlertTitle"}),r=n.className,i=Ve(n,XU),a=n,o=function(e){return lD({root:["root"]},$U,e.classes)}(a);return(0,Yn.jsx)(YU,ye({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:cD(o.root,r)},i))})),ZU=JU;function eV(e){var n=e.showAlert,r=h((0,t.useState)(!1),2),i=r[0],a=r[1];(0,t.useEffect)((function(){a(n.setOpen)}),[n]);var o=function(e,t){"clickaway"!==t&&a(!1)};return(0,Yn.jsx)(dU,{spacing:2,sx:{width:"100%",display:"".concat(i?"block":"none")},children:(0,Yn.jsx)(TU,{open:i,autoHideDuration:5e3,onClose:o,TransitionComponent:function(e){return(0,Yn.jsx)(rU,di(di({},e),{},{direction:"right"}))},children:(0,Yn.jsxs)(QU,{severity:n.severity,onClose:o,children:[" ",(0,Yn.jsx)(ZU,{children:n.title})," ",n.message," "]})})})}var tV=VD("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function nV(e){return UD("MuiListItemIcon",e)}var rV=VD("MuiListItemIcon",["root","alignItemsFlexStart"]);function iV(e){return UD("MuiListItemText",e)}var aV=VD("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function oV(e){return UD("MuiMenuItem",e)}var uV=VD("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sV=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],cV=SO(Oj,{shouldForwardProp:function(e){return wO(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return ye({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(He(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(uV.selected),He({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(uV.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):nn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),He(t,"&.".concat(uV.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):nn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),He(t,"&.".concat(uV.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),He(t,"&.".concat(uV.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),He(t,"& + .".concat(tV.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),He(t,"& + .".concat(tV.inset),{marginLeft:52}),He(t,"& .".concat(aV.root),{marginTop:0,marginBottom:0}),He(t,"& .".concat(aV.inset),{paddingLeft:36}),He(t,"& .".concat(rV.root),{minWidth:36}),t),!r.dense&&He({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&ye({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,He({},"& .".concat(rV.root," svg"),{fontSize:"1.25rem"})))})),lV=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiMenuItem"}),i=r.autoFocus,a=void 0!==i&&i,o=r.component,u=void 0===o?"li":o,s=r.dense,c=void 0!==s&&s,l=r.divider,f=void 0!==l&&l,d=r.disableGutters,h=void 0!==d&&d,p=r.focusVisibleClassName,v=r.role,m=void 0===v?"menuitem":v,y=r.tabIndex,g=r.className,b=Ve(r,sV),k=t.useContext(sL),w=t.useMemo((function(){return{dense:c||k.dense||!1,disableGutters:h}}),[k.dense,c,h]),x=t.useRef(null);YP((function(){a&&x.current&&x.current.focus()}),[a]);var S,E=ye({},r,{dense:w.dense,divider:f,disableGutters:h}),_=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes;return ye({},o,lD({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},oV,o))}(r),I=jO(x,n);return r.disabled||(S=void 0!==y?y:-1),(0,Yn.jsx)(sL.Provider,{value:w,children:(0,Yn.jsx)(cV,ye({ref:I,role:m,tabIndex:S,component:u,focusVisibleClassName:cD(_.focusVisible,p),className:cD(_.root,g)},b,{ownerState:E,classes:_}))})})),fV=lV,dV=["className"],hV=SO("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return ye({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),pV=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiListItemIcon"}),i=r.className,a=Ve(r,dV),o=ye({},r,{alignItems:t.useContext(sL).alignItems}),u=function(e){return lD({root:["root","flex-start"===e.alignItems&&"alignItemsFlexStart"]},nV,e.classes)}(o);return(0,Yn.jsx)(hV,ye({className:cD(u.root,i),ownerState:o,ref:n},a))})),vV=pV,mV=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yV=SO("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[He({},"& .".concat(aV.primary),t.primary),He({},"& .".concat(aV.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return ye({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),gV=t.forwardRef((function(e,n){var r=Kn({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,u=void 0!==o&&o,s=r.inset,c=void 0!==s&&s,l=r.primary,f=r.primaryTypographyProps,d=r.secondary,h=r.secondaryTypographyProps,p=Ve(r,mV),v=t.useContext(sL).dense,m=null!=l?l:i,y=d,g=ye({},r,{disableTypography:u,inset:c,primary:!!m,secondary:!!y,dense:v}),b=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return lD({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},iV,t)}(g);return null==m||m.type===EP||u||(m=(0,Yn.jsx)(EP,ye({variant:v?"body2":"body1",className:b.primary,component:null!=f&&f.variant?void 0:"span",display:"block"},f,{children:m}))),null==y||y.type===EP||u||(y=(0,Yn.jsx)(EP,ye({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},h,{children:y}))),(0,Yn.jsxs)(yV,ye({className:cD(b.root,a),ownerState:g,ref:n},p,{children:[m,y]}))})),bV=gV;function kV(e){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(e)}function wV(e){var n=e.docRef,r=h((0,t.useState)(!1),2),i=r[0],a=r[1],o=function(){a(!1)},u=h((0,t.useState)(null),2),s=u[0],c=u[1],l=Boolean(s),f=function(){c(null)};return(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsxs)(pP,{open:i,onClose:o,children:[(0,Yn.jsx)(MP,{children:(0,Yn.jsx)(VP,{children:"Deseja realmente apagar a mensagem?"})}),(0,Yn.jsxs)(KF,{children:[(0,Yn.jsx)(qj,{onClick:o,children:" Cancelar "}),(0,Yn.jsx)(qj,{onClick:function(){$w(gk(jN,n.path)).then((function(){o(),f()}))},autoFocus:!0,children:" Apagar "})]})]}),(0,Yn.jsxs)("div",{className:"flex items-center m-2",children:[(0,Yn.jsx)("button",{"aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){c(e.currentTarget)},children:(0,Yn.jsx)(kV,{})}),(0,Yn.jsxs)(XL,{id:"basic-menu",anchorEl:s,open:l,onClose:f,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,Yn.jsxs)(fV,{onClick:function(){a(!0)},children:[(0,Yn.jsx)(vV,{children:(0,Yn.jsx)(ZN,{className:"text-[#cc264acf] text-xl"})}),(0,Yn.jsx)(bV,{className:"text-[#cc264acf]",children:"Deletar"})]}),(0,Yn.jsxs)(fV,{onClick:f,children:[(0,Yn.jsx)(vV,{children:(0,Yn.jsx)(tD,{className:"text-white text-xl"})}),(0,Yn.jsx)(bV,{children:"Editar"})]})]})]})]})}function xV(e){var n=e.userData,r=h(pC(UN),1)[0],i=h((0,t.useState)(null),2),a=i[0],o=i[1],u=h((0,t.useState)(),2),s=u[0],c=u[1],l=h((0,t.useState)(!1),2),f=l[0],d=l[1],p=function(){return d(!f)},v=.01*window.innerHeight;return document.documentElement.style.setProperty("--vh","".concat(v,"px")),(0,Yn.jsxs)("div",{className:"container max-w-full",children:[!0===(null===s||void 0===s?void 0:s.setOpen)&&(0,Yn.jsx)(eV,{showAlert:s}),(0,Yn.jsxs)("div",{className:"grid text-white grid-cols-12 grid-rows-6 drop-shadow-2xl shadow-inner overflow-hidden w-full h-full opacity-[0.85] brightness-110",children:[(0,Yn.jsxs)("div",{className:"fixed md:block z-20 ".concat(f?"sidebarOut left-[-100%]":"sidebar left-[0]"," md:relative col-span-3 row-span-full h-full w-3/5 md:w-auto"),children:[(0,Yn.jsx)("div",{className:"md:hidden fixed z-20 left-[0] text-[2.5rem] p-2",children:f?(0,Yn.jsx)(xC,{onClick:p}):(0,Yn.jsx)(_C,{onClick:p})}),(0,Yn.jsxs)("header",{className:"flex md:justify-between justify-end gap-8 row-span-1 col-span-3 p-4 color2 overflow-hidden drop-shadow-xl",children:[(0,Yn.jsx)("img",{className:"rounded-full md:h-12 h-10 w-auto",src:n.photoURL}),(0,Yn.jsx)(Hj,{})]}),(0,Yn.jsx)("div",{className:"col-span-3 row-start-2 row-end-6 overflow-y-auto color3 drop-shadow-xl h-full",children:n?(0,Yn.jsx)(Wj,{setShowAlert:c,setUserChat:o,userChat:a,UserData:n}):(0,Yn.jsx)(qN,{})})]}),(0,Yn.jsxs)("section",{onClick:function(){return!f&&d(!0)},className:"Chat inline-flex overflow-hidden flex-col col-span-full md:col-span-9 row-span-6",children:[(0,Yn.jsx)(Kj,{userChat:a}),r?(0,Yn.jsx)(Zj,{setShowAlert:c,userData:n,userChat:a}):(0,Yn.jsx)(qN,{})]})]})]})}function SV(e){var n=null===e||void 0===e?void 0:e.docRef,r=e.CurrentUserID,i=e.message,a=i.text,o=i.uid,u=i.photoURL,s=i.createdAt,c=i.username,l=i.userID,f=i.imageURL,d=new Date(1e3*s),p=new Date(d),v=("0"+(p.getMonth()+1)).slice(-2),m=("0"+(p.getDate()+1)).slice(-2),y=("0"+p.getHours()).slice(-2),g=("0"+p.getMinutes()).slice(-2),b=u,k=h((0,t.useState)(),2),w=k[0],x=k[1];(0,t.useEffect)((function(){o?o===UN.currentUser.uid?x("sent"):x("received"):x(l===r?"sent":"received")}));var S=h((0,t.useState)(!1),2),E=S[0],_=S[1],I=function(){_(!1)};return(0,Yn.jsxs)(Yn.Fragment,{children:[E&&function(e,t,n,r){return(0,Yn.jsxs)(pP,{fullWidth:!0,maxWidth:"md",open:E,onClose:I,children:[(0,Yn.jsxs)(AP,{sx:{backgroundColor:"secundary",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Yn.jsxs)("span",{className:"text-sm sm:text-lg md:text-xl",children:[n," - ",r]}),(0,Yn.jsx)("button",{className:"text-[2rem] p-3 rounded-full",onClick:I,children:(0,Yn.jsx)(Gj,{})})]}),(0,Yn.jsx)(MP,{sx:{justifyContent:"center",display:"flex"},children:(0,Yn.jsx)("img",{src:e,className:"object-contain"})}),t&&(0,Yn.jsxs)(VP,{sx:{paddingLeft:3,paddingRight:3},children:[" ",t," "]}),(0,Yn.jsx)(KF,{sx:{paddingBottom:2,paddingRight:2,paddingLeft:3,gap:4}})]})}(f,a,c,"".concat(m,"/").concat(v," ").concat(y,":").concat(g)),(0,Yn.jsx)("div",{className:"div".concat(w," opacity-90 ml-2"),children:(0,Yn.jsxs)("div",{className:"".concat(w," inline-flex m-5 rounded-xl brightness-125 py-1 px-2"),children:[(0,Yn.jsx)("img",{className:"h-[35px] rounded-full mr-2 w-auto -translate-y-6 -translate-x-6",src:b,referrerPolicy:"no-referrer"}),(0,Yn.jsxs)("div",{children:[(0,Yn.jsxs)("div",{className:"flex justify-between font-thin h-auto w-auto",children:[(0,Yn.jsxs)("span",{className:"text-base font-normal -translate-x-8 m-1",children:[c,(0,Yn.jsx)("span",{className:"ml-1 text-[0.5rem] font-thin",children:l})]}),(0,Yn.jsxs)("span",{className:"text-[0.5rem] my-auto ml-auto",children:[" ",m,"/",v," ",y,":",g]}),l===r&&(0,Yn.jsx)(wV,{docRef:n}),o===UN.currentUser.uid&&(0,Yn.jsx)(wV,{docRef:n})]}),f&&(0,Yn.jsx)("img",{className:"max-h-[250px] max-w-full mx-auto p-2 cursor-pointer",src:f,onClick:function(){_(!0)}}),a&&(0,Yn.jsx)("p",{className:"m-2 font-extralight break-all -translate-x-9 mt-0",children:a})]})]})})]})}var EV,_V=n.p+"static/media/logo.089016cdf846c72a6e4e.png";function IV(){return(0,Yn.jsx)("div",{className:"SignIn grid h-screen place-items-center",children:(0,Yn.jsx)("div",{className:"text-white rounded-3xl overflow-hidden drop-shadow-2xl shadow-inner md:h-auto md:w-[600px] h-auto w-[95%]",children:(0,Yn.jsxs)("div",{className:"flex flex-col items-center bg-[#33384e] bg-opacity-75 md:px-20 px-5 pb-14 rounded-b-3xl",children:[(0,Yn.jsx)("img",{src:_V,alt:"FireChat Logo",className:"h-auto w-[75%] mx-auto brightness-110 translate-y-10 saturate-150"}),(0,Yn.jsx)("label",{className:"md:text-3xl text-xl mb-2",children:"Seja bem-vindo ao"}),(0,Yn.jsx)("label",{className:"md:text-5xl text-3xl",children:"FireChat"}),(0,Yn.jsx)("label",{className:"text-[0.5rem] mt-1 opacity-40",children:"Firebase + Chat :P"}),(0,Yn.jsx)("label",{className:"mt-10",children:"Fa\xe7a login para continuar"}),(0,Yn.jsxs)("button",{className:"bg-gradient-to-r from-[#992c4b] to-[#a13c81] transition hover:brightness-125 text-black flex w-full items-center shadow-2xl mt-4 rounded-lg",onClick:function(){UN.signInWithPopup(VN)},children:[(0,Yn.jsx)(iD,{className:"text-white text-[3rem] m-2"}),(0,Yn.jsx)("label",{className:"mx-auto cursor-pointer font-semibold text-lg text-white",children:"Sign in with Google"})]})]})})})}function TV(){return TV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TV.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(EV||(EV={}));var CV,RV="popstate";function AV(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function NV(e,t){return{usr:e.state,key:e.key,idx:t}}function DV(e,t,n,r){return void 0===n&&(n=null),TV({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?PV(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function OV(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function PV(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function MV(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=EV.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){l=EV.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:OV(e);return AV(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(TV({},c.state,{idx:d}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(RV,p),f=e,function(){o.removeEventListener(RV,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=EV.Push;var r=DV(m.location,e,t);n&&n(r,e);var i=NV(r,d=h()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=EV.Replace;var r=DV(m.location,e,t);n&&n(r,e);var i=NV(r,d=h()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function LV(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map((function(e,r){var i=[].concat(vr(t),[r]),a="string"===typeof e.id?e.id:i.join("-");return AV(!0!==e.index||!e.children,"Cannot specify children on an index route"),AV(!n.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),n.add(a),function(e){return!0===e.index}(e)?TV({},e,{id:a}):TV({},e,{id:a,children:e.children?LV(e.children,i,n):void 0})}))}function FV(e,t,n){void 0===n&&(n="/");var r=YV(("string"===typeof t?PV(t):t).pathname||"/",n);if(null==r)return null;var i=jV(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=QV(i[o],XV(r));return a}function jV(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(AV(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=nz([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(AV(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),jV(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:GV(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=lr(UV(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function UV(e){var t=e.split("/");if(0===t.length)return[];var n=ZR(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=UV(i.join("/")),s=[];return s.push.apply(s,vr(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,vr(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(CV||(CV={}));var VV=/^:\w+$/,zV=3,BV=2,qV=1,WV=10,KV=-2,HV=function(e){return"*"===e};function GV(e,t){var n=e.split("/"),r=n.length;return n.some(HV)&&(r+=KV),t&&(r+=BV),n.filter((function(e){return!HV(e)})).reduce((function(e,t){return e+(VV.test(t)?zV:""===t?qV:WV)}),r)}function QV(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$V({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:nz([i,l.pathname]),pathnameBase:rz(nz([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=nz([i,l.pathnameBase]))}return a}function $V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);JV("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return JV(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function XV(e){try{return decodeURI(e)}catch(t){return JV(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function YV(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function JV(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ZV(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ez(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function tz(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=PV(e):(AV(!(i=TV({},e)).pathname||!i.pathname.includes("?"),ZV("?","pathname","search",i)),AV(!i.pathname||!i.pathname.includes("#"),ZV("#","pathname","hash",i)),AV(!i.search||!i.search.includes("#"),ZV("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?PV(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:iz(a),hash:az(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var nz=function(e){return e.join("/").replace(/\/\/+/g,"/")},rz=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},iz=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},az=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oz=function(e){fr(n,e);var t=hr(n);function n(){return mr(this,n),t.apply(this,arguments)}return gr(n)}(cr(Error)),uz=function(){function e(t,n){var r,i=this;mr(this,e),this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],AV(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return r=t})),this.controller=new AbortController;var a=function(){return r(new oz("Deferred data aborted"))};this.unlistenAbortSignal=function(){return i.controller.signal.removeEventListener("abort",a)},this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((function(e,t){var n=h(t,2),r=n[0],a=n[1];return Object.assign(e,He({},r,i.trackPromise(r,a)))}),{}),this.done&&this.unlistenAbortSignal(),this.init=n}return gr(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){return this.controller.signal.aborted&&n instanceof oz?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:function(){return n}}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),this.emit(!1,t),r))}},{key:"emit",value:function(e,t){this.subscribers.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeysSet.forEach((function(t,n){return e.pendingKeysSet.delete(n)})),this.emit(!0)}},{key:"resolveData",value:function(){var e=s(o().mark((function e(t){var n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return i.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){i.subscribe((function(n){t.removeEventListener("abort",r),(n||i.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeysSet.size}},{key:"unwrappedData",get:function(){return AV(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return Object.assign(e,He({},r,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(i)))}),{})}},{key:"pendingKeys",get:function(){return Array.from(this.pendingKeysSet)}}]),e}();var sz=gr((function e(t,n,r,i){mr(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function cz(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var lz=["post","put","patch","delete"],fz=new Set(lz),dz=["get"].concat(lz),hz=new Set(dz),pz=new Set([301,302,303,307,308]),vz=new Set([307,308]),mz={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},yz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},gz={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kz="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,wz=!kz;function xz(e){AV(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t,n=LV(e.routes),r=null,i=new Set,a=null,u=null,c=null,l=null!=e.hydrationData,f=FV(n,e.history.location,e.basename),d=null;if(null==f){var p=Fz(404,{pathname:e.history.location.pathname}),v=Lz(n);f=v.matches,d=He({},v.route.id,p)}var m,y,g=!f.some((function(e){return e.route.loader}))||null!=e.hydrationData,b={historyAction:e.history.action,location:e.history.location,matches:f,initialized:g,navigation:mz,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||d,fetchers:new Map,blockers:new Map},k=EV.Pop,w=!1,x=!1,S=!1,E=[],_=[],I=new Map,T=0,C=-1,R=new Map,A=new Set,N=new Map,D=new Map,O=new Map,P=!1;function M(e){b=TV({},b,e),i.forEach((function(e){return e(b)}))}function L(r,i){var a,o,u,s=null!=b.actionData&&null!=b.navigation.formMethod&&Hz(b.navigation.formMethod)&&"loading"===b.navigation.state&&!0!==(null==(a=r.state)?void 0:a._isRedirect);u=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:s?b.actionData:null;var c,l=i.loaderData?Pz(b.loaderData,i.loaderData,i.matches||[],i.errors):b.loaderData,f=lr(O);try{for(f.s();!(c=f.n()).done;){ae(h(c.value,1)[0])}}catch(p){f.e(p)}finally{f.f()}var d=!0===w||null!=b.navigation.formMethod&&Hz(b.navigation.formMethod)&&!0!==(null==(o=r.state)?void 0:o._isRedirect);t&&(n=t,t=void 0),M(TV({},i,{actionData:u,loaderData:l,historyAction:k,location:r,initialized:!0,navigation:mz,revalidation:"idle",restoreScrollPosition:le(r,i.matches||b.matches),preventScrollReset:d,blockers:new Map(b.blockers)})),x||k===EV.Pop||(k===EV.Push?e.history.push(r,r.state):k===EV.Replace&&e.history.replace(r,r.state)),k=EV.Pop,w=!1,x=!1,S=!1,E=[],_=[]}function F(e,t){return j.apply(this,arguments)}function j(){return j=s(o().mark((function t(n,r){var i,a,u,s,c,l,f,d,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=Sz(n,r),a=i.path,u=i.submission,s=i.error,c=b.location,l=TV({},l=DV(b.location,a,r&&r.state),e.history.encodeLocation(l)),f=r&&null!=r.replace?r.replace:void 0,d=EV.Push,!0===f?d=EV.Replace:!1===f||null!=u&&Hz(u.formMethod)&&u.formAction===b.location.pathname+b.location.search&&(d=EV.Replace),h=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(p=ue({currentLocation:c,nextLocation:l,historyAction:d}))){t.next=15;break}return oe(p,{state:"blocked",location:l,proceed:function(){oe(p,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),F(n,r)},reset:function(){ae(p),M({blockers:new Map(b.blockers)})}}),t.abrupt("return");case 15:return t.next=17,U(d,l,{submission:u,pendingError:s,preventScrollReset:h,replace:r&&r.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function U(e,t,n){return V.apply(this,arguments)}function V(){return V=s(o().mark((function r(i,a,u){var s,c,l,f,d,h,p,v,m,g,S,E,_,I,T,C;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(y&&y.abort(),y=null,k=i,x=!0===(u&&u.startUninterruptedRevalidation),ce(b.location,b.matches),w=!0===(u&&u.preventScrollReset),s=t||n,c=u&&u.overrideNavigation,l=FV(s,a,e.basename)){r.next=15;break}return f=Fz(404,{pathname:a.pathname}),d=Lz(s),h=d.matches,p=d.route,se(),L(a,{matches:h,loaderData:{},errors:He({},p.id,f)}),r.abrupt("return");case 15:if(!Vz(b.location,a)||u&&u.submission&&Hz(u.submission.formMethod)){r.next=18;break}return L(a,{matches:l}),r.abrupt("return");case 18:if(y=new AbortController,v=Az(e.history,a,y.signal,u&&u.submission),!u||!u.pendingError){r.next=24;break}g=He({},Mz(l).route.id,u.pendingError),r.next=35;break;case 24:if(!(u&&u.submission&&Hz(u.submission.formMethod))){r.next=35;break}return r.next=27,z(v,a,u.submission,l,{replace:u.replace});case 27:if(!(S=r.sent).shortCircuited){r.next=30;break}return r.abrupt("return");case 30:m=S.pendingActionData,g=S.pendingActionError,E=TV({state:"loading",location:a},u.submission),c=E,v=new Request(v.url,{signal:v.signal});case 35:return r.next=37,q(v,a,l,c,u&&u.submission,u&&u.replace,m,g);case 37:if(_=r.sent,I=_.shortCircuited,T=_.loaderData,C=_.errors,!I){r.next=43;break}return r.abrupt("return");case 43:y=null,L(a,TV({matches:l},m?{actionData:m}:{},{loaderData:T,errors:C}));case 45:case"end":return r.stop()}}),r)}))),V.apply(this,arguments)}function z(e,t,n,r,i){return B.apply(this,arguments)}function B(){return B=s(o().mark((function e(t,n,r,i,a){var u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(),M({navigation:TV({state:"submitting",location:n},r)}),(s=Zz(i,n)).route.action){e.next=8;break}u={type:CV.error,error:Fz(405,{method:t.method,pathname:n.pathname,routeId:s.route.id})},e.next=13;break;case 8:return e.next=10,Cz("action",t,s,i,m.basename);case 10:if(u=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!qz(u)){e.next=18;break}return c=a&&null!=a.replace?a.replace:u.location===b.location.pathname+b.location.search,e.next=17,Q(b,u,{submission:r,replace:c});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!Bz(u)){e.next=22;break}return l=Mz(i,s.route.id),!0!==(a&&a.replace)&&(k=EV.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:He({},l.route.id,u.error)});case 22:if(!zz(u)){e.next=24;break}throw Fz(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:He({},s.route.id,u.data)});case 25:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function q(e,t,n,r,i,a,o,u){return W.apply(this,arguments)}function W(){return W=s(o().mark((function r(i,a,u,s,c,l,f,d){var p,v,m,g,k,w,R,A,O,P,F,j,U,V,z,B,q,W;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((p=s)||(v=TV({state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c),p=v),m=c||(p.formMethod&&p.formAction&&p.formData&&p.formEncType?{formMethod:p.formMethod,formAction:p.formAction,formData:p.formData,formEncType:p.formEncType}:void 0),g=t||n,k=_z(e.history,b,u,m,a,S,E,_,N,g,e.basename,f,d),w=h(k,2),R=w[0],A=w[1],se((function(e){return!(u&&u.some((function(t){return t.route.id===e})))||R&&R.some((function(t){return t.route.id===e}))})),0!==R.length||0!==A.length){r.next=9;break}return L(a,TV({matches:u,loaderData:{},errors:d||null},f?{actionData:f}:{})),r.abrupt("return",{shortCircuited:!0});case 9:return x||(A.forEach((function(e){var t=b.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(e.key,n)})),O=f||b.actionData,M(TV({navigation:p},O?0===Object.keys(O).length?{actionData:null}:{actionData:O}:{},A.length>0?{fetchers:new Map(b.fetchers)}:{}))),C=++T,A.forEach((function(e){return I.set(e.key,y)})),r.next=14,X(b.matches,u,R,A,i);case 14:if(P=r.sent,F=P.results,j=P.loaderResults,U=P.fetcherResults,!i.signal.aborted){r.next=20;break}return r.abrupt("return",{shortCircuited:!0});case 20:if(A.forEach((function(e){return I.delete(e.key)})),!(V=jz(F))){r.next=26;break}return r.next=25,Q(b,V,{replace:l});case 25:return r.abrupt("return",{shortCircuited:!0});case 26:return z=Oz(b,u,R,j,d,A,U,D),B=z.loaderData,q=z.errors,D.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&D.delete(t)}))})),re(),W=ie(C),r.abrupt("return",TV({loaderData:B,errors:q},W||A.length>0?{fetchers:new Map(b.fetchers)}:{}));case 31:case"end":return r.stop()}}),r)}))),W.apply(this,arguments)}function K(e){return b.fetchers.get(e)||yz}function H(){return H=s(o().mark((function r(i,a,u,s,c,l){var f,d,p,v,g,w,x,O,P,F,j,U,V,z,B,q,W,K,H,G,$,Y,ee,te,ne,re,ae;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(J(),N.delete(i),s.route.action){r.next=6;break}return f=Fz(405,{method:l.formMethod,pathname:u,routeId:a}),Z(i,a,f),r.abrupt("return");case 6:return d=b.fetchers.get(i),p=TV({state:"submitting"},l,{data:d&&d.data," _hasFetcherDoneAnything ":!0}),b.fetchers.set(i,p),M({fetchers:new Map(b.fetchers)}),v=new AbortController,g=Az(e.history,u,v.signal,l),I.set(i,v),r.next=15,Cz("action",g,s,c,m.basename);case 15:if(w=r.sent,!g.signal.aborted){r.next=19;break}return I.get(i)===v&&I.delete(i),r.abrupt("return");case 19:if(!qz(w)){r.next=26;break}return I.delete(i),A.add(i),x=TV({state:"loading"},l,{data:void 0," _hasFetcherDoneAnything ":!0}),b.fetchers.set(i,x),M({fetchers:new Map(b.fetchers)}),r.abrupt("return",Q(b,w,{isFetchActionRedirect:!0}));case 26:if(!Bz(w)){r.next=29;break}return Z(i,a,w.error),r.abrupt("return");case 29:if(!zz(w)){r.next=31;break}throw Fz(400,{type:"defer-action"});case 31:return O=b.navigation.location||b.location,P=Az(e.history,O,v.signal),F=t||n,AV(j="idle"!==b.navigation.state?FV(F,b.navigation.location,e.basename):b.matches,"Didn't find any matches after fetcher action"),U=++T,R.set(i,U),V=TV({state:"loading",data:w.data},l,{" _hasFetcherDoneAnything ":!0}),b.fetchers.set(i,V),z=_z(e.history,b,j,l,O,S,E,_,N,F,e.basename,He({},s.route.id,w.data),void 0),B=h(z,2),q=B[0],(W=B[1]).filter((function(e){return e.key!==i})).forEach((function(e){var t=e.key,n=b.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(t,r),I.set(t,v)})),M({fetchers:new Map(b.fetchers)}),r.next=45,X(b.matches,j,q,W,P);case 45:if(K=r.sent,H=K.results,G=K.loaderResults,$=K.fetcherResults,!v.signal.aborted){r.next=51;break}return r.abrupt("return");case 51:if(R.delete(i),I.delete(i),W.forEach((function(e){return I.delete(e.key)})),!(Y=jz(H))){r.next=57;break}return r.abrupt("return",Q(b,Y));case 57:ee=Oz(b,b.matches,q,G,void 0,W,$,D),te=ee.loaderData,ne=ee.errors,re={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},b.fetchers.set(i,re),ae=ie(U),"loading"===b.navigation.state&&U>C?(AV(k,"Expected pending action"),y&&y.abort(),L(b.navigation.location,{matches:j,loaderData:te,errors:ne,fetchers:new Map(b.fetchers)})):(M(TV({errors:ne,loaderData:Pz(b.loaderData,te,j,ne)},ae?{fetchers:new Map(b.fetchers)}:{})),S=!1);case 62:case"end":return r.stop()}}),r)}))),H.apply(this,arguments)}function G(){return G=s(o().mark((function t(n,r,i,a,u,s){var c,l,f,d,h,p,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=b.fetchers.get(n),l=TV({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s,{data:c&&c.data," _hasFetcherDoneAnything ":!0}),b.fetchers.set(n,l),M({fetchers:new Map(b.fetchers)}),f=new AbortController,d=Az(e.history,i,f.signal),I.set(n,f),t.next=9,Cz("loader",d,a,u,m.basename);case 9:if(!zz(h=t.sent)){t.next=17;break}return t.next=13,$z(h,d.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=h;case 16:h=t.t0;case 17:if(I.get(n)===f&&I.delete(n),!d.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!qz(h)){t.next=24;break}return t.next=23,Q(b,h);case 23:return t.abrupt("return");case 24:if(!Bz(h)){t.next=29;break}return p=Mz(b.matches,r),b.fetchers.delete(n),M({fetchers:new Map(b.fetchers),errors:He({},p.route.id,h.error)}),t.abrupt("return");case 29:AV(!zz(h),"Unhandled fetcher deferred data"),v={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},b.fetchers.set(n,v),M({fetchers:new Map(b.fetchers)});case 33:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function Q(e,t,n){return $.apply(this,arguments)}function $(){return $=s(o().mark((function t(n,r,i){var a,u,s,c,l,f,d,h,p,v,m,g,b,k;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(u=void 0===i?{}:i).submission,c=u.replace,l=u.isFetchActionRedirect,r.revalidate&&(S=!0),AV(f=DV(n.location,r.location,TV({_isRedirect:!0},l?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!bz.test(r.location)||!kz||"undefined"===typeof(null==(a=window)?void 0:a.location)){t.next=10;break}if(d=e.history.createURL(r.location),h=null==YV(d.pathname,e.basename||"/"),window.location.origin===d.origin&&!h){t.next=10;break}return c?window.location.replace(r.location):window.location.assign(r.location),t.abrupt("return");case 10:if(y=null,p=!0===c?EV.Replace:EV.Push,v=n.navigation,m=v.formMethod,g=v.formAction,b=v.formEncType,k=v.formData,!s&&m&&g&&k&&b&&(s={formMethod:m,formAction:g,formEncType:b,formData:k}),!(vz.has(r.status)&&s&&Hz(s.formMethod))){t.next=19;break}return t.next=17,U(p,f,{submission:TV({},s,{formAction:r.location}),preventScrollReset:w});case 17:t.next=21;break;case 19:return t.next=21,U(p,f,{overrideNavigation:{state:"loading",location:f,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:w});case 21:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function X(e,t,n,r,i){return Y.apply(this,arguments)}function Y(){return Y=s(o().mark((function t(n,r,i,a,u){var s,c,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(vr(i.map((function(e){return Cz("loader",u,e,r,m.basename)}))),vr(a.map((function(t){return t.matches&&t.match?Cz("loader",Az(e.history,t.path,u.signal),t.match,t.matches,m.basename):{type:CV.error,error:Fz(404,{pathname:t.path})}})))));case 2:return s=t.sent,c=s.slice(0,i.length),l=s.slice(i.length),t.next=7,Promise.all([Gz(n,i,c,u.signal,!1,b.loaderData),Gz(n,a.map((function(e){return e.match})),l,u.signal,!0)]);case 7:return t.abrupt("return",{results:s,loaderResults:c,fetcherResults:l});case 8:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function J(){var e;S=!0,(e=E).push.apply(e,vr(se())),N.forEach((function(e,t){I.has(t)&&(_.push(t),te(t))}))}function Z(e,t,n){var r=Mz(b.matches,t);ee(e),M({errors:He({},r.route.id,n),fetchers:new Map(b.fetchers)})}function ee(e){I.has(e)&&te(e),N.delete(e),R.delete(e),A.delete(e),b.fetchers.delete(e)}function te(e){var t=I.get(e);AV(t,"Expected fetch controller: "+e),t.abort(),I.delete(e)}function ne(e){var t,n=lr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:K(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function re(){var e,t=[],n=lr(A);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=b.fetchers.get(r);AV(i,"Expected fetcher: "+r),"loading"===i.state&&(A.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}ne(t)}function ie(e){var t,n=[],r=lr(R);try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0];if(i[1]<e){var o=b.fetchers.get(a);AV(o,"Expected fetcher: "+a),"loading"===o.state&&(te(a),R.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return ne(n),n.length>0}function ae(e){b.blockers.delete(e),O.delete(e)}function oe(e,t){var n=b.blockers.get(e)||gz;AV("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),b.blockers.set(e,t),M({blockers:new Map(b.blockers)})}function ue(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==O.size){O.size>1&&JV(!1,"A router only supports one blocker at a time");var i=Array.from(O.entries()),a=h(i[i.length-1],2),o=a[0],u=a[1],s=b.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function se(e){var t=[];return D.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),D.delete(r))})),t}function ce(e,t){if(a&&u&&c){var n=t.map((function(e){return Jz(e,b.loaderData)})),r=u(e,n)||e.key;a[r]=c()}}function le(e,t){if(a&&u&&c){var n=t.map((function(e){return Jz(e,b.loaderData)})),r=u(e,n)||e.key,i=a[r];if("number"===typeof i)return i}return null}return m={get basename(){return e.basename},get state(){return b},get routes(){return n},initialize:function(){return r=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!P){JV(0===O.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=ue({currentLocation:b.location,nextLocation:r,historyAction:n});return a&&null!=i?(P=!0,e.history.go(-1*i),void oe(a,{state:"blocked",location:r,proceed:function(){oe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){ae(a),M({blockers:new Map(m.state.blockers)})}})):U(n,r)}P=!1})),b.initialized||U(EV.Pop,b.location),m},subscribe:function(e){return i.add(e),function(){return i.delete(e)}},enableScrollRestoration:function(e,t,n){if(a=e,c=t,u=n||function(e){return e.key},!l&&b.navigation===mz){l=!0;var r=le(b.location,b.matches);null!=r&&M({restoreScrollPosition:r})}return function(){a=null,c=null,u=null}},navigate:F,fetch:function(r,i,a,o){if(wz)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(r)&&te(r);var u=FV(t||n,a,e.basename);if(u){var s=Sz(a,o,!0),c=s.path,l=s.submission,f=Zz(u,c);w=!0===(o&&o.preventScrollReset),l&&Hz(l.formMethod)?function(e,t,n,r,i,a){H.apply(this,arguments)}(r,i,c,f,u,l):(N.set(r,{routeId:i,path:c}),function(e,t,n,r,i,a){G.apply(this,arguments)}(r,i,c,f,u,l))}else Z(r,i,Fz(404,{pathname:a}))},revalidate:function(){J(),M({revalidation:"loading"}),"submitting"!==b.navigation.state&&("idle"!==b.navigation.state?U(k||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation}):U(b.historyAction,b.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:K,deleteFetcher:ee,dispose:function(){r&&r(),i.clear(),y&&y.abort(),b.fetchers.forEach((function(e,t){return ee(t)})),b.blockers.forEach((function(e,t){return ae(t)}))},getBlocker:function(e,t){var n=b.blockers.get(e)||gz;return O.get(e)!==t&&O.set(e,t),n},deleteBlocker:ae,_internalFetchControllers:I,_internalActiveDeferreds:D,_internalSetRoutes:function(e){t=e}},m}Symbol("deferred");function Sz(e,t,n){void 0===n&&(n=!1);var r,i="string"===typeof e?e:OV(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!Kz(t.formMethod))return{path:i,error:Fz(405,{method:t.formMethod})};if(t.formData&&Hz((r={formMethod:t.formMethod||"get",formAction:Uz(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:i,submission:r};var a=PV(i),o=Nz(t.formData);return n&&a.search&&Yz(a.search)&&o.append("index",""),a.search="?"+o,{path:OV(a),submission:r}}function Ez(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function _z(e,t,n,r,i,a,o,u,s,c,l,f,d){var h=d?Object.values(d)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),m=a||p.toString()===v.toString()||p.search!==v.search,y=d?Object.keys(d)[0]:void 0,g=Ez(n,y).filter((function(e,n){if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],a=e;return Tz(e,TV({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:h,defaultShouldRevalidate:m||Iz(i,a)}))})),b=[];return s.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var a=FV(c,e.path,l);if(a){var o=Zz(a,e.path);if(u.includes(i))b.push(TV({key:i,matches:a,match:o},e));else Tz(o,TV({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:m}))&&b.push(TV({key:i,matches:a,match:o},e))}else b.push(TV({key:i},e,{matches:null,match:null}))}})),[g,b]}function Iz(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Tz(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Cz(e,t,n,r,i,a,o,u){return Rz.apply(this,arguments)}function Rz(){return Rz=s(o().mark((function e(t,n,r,i,a,u,s,c){var l,f,d,h,p,v,m,y,g,b,k,w,x,S,E,_,I,T,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a="/"),void 0===u&&(u=!1),void 0===s&&(s=!1),h=new Promise((function(e,t){return d=t})),p=function(){return d()},n.signal.addEventListener("abort",p),e.prev=6,AV(v=r.route[t],"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=11,Promise.race([v({request:n,params:r.params,context:c}),h]);case 11:AV(void 0!==(f=e.sent),"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),l=CV.error,f=e.t0;case 19:return e.prev=19,n.signal.removeEventListener("abort",p),e.finish(19);case 22:if(!Wz(f)){e.next=47;break}if(m=f.status,!pz.has(m)){e.next=32;break}if(AV(y=f.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),bz.test(y)?u||(x=new URL(n.url),S=y.startsWith("//")?new URL(x.protocol+y):new URL(y),E=null!=YV(S.pathname,a),S.origin===x.origin&&E&&(y=S.pathname+S.search+S.hash)):(g=i.slice(0,i.indexOf(r)+1),b=ez(g).map((function(e){return e.pathnameBase})),AV(OV(k=tz(y,b,new URL(n.url).pathname)),"Unable to resolve redirect location: "+y),a&&(w=k.pathname,k.pathname="/"===w?a:nz([a,w])),y=OV(k)),!u){e.next=31;break}throw f.headers.set("Location",y),f;case 31:return e.abrupt("return",{type:CV.redirect,status:m,location:y,revalidate:null!==f.headers.get("X-Remix-Revalidate")});case 32:if(!s){e.next=34;break}throw{type:l||CV.data,response:f};case 34:if(!(I=f.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(I)){e.next=41;break}return e.next=38,f.json();case 38:_=e.sent,e.next=44;break;case 41:return e.next=43,f.text();case 43:_=e.sent;case 44:if(l!==CV.error){e.next=46;break}return e.abrupt("return",{type:l,error:new sz(m,f.statusText,_),headers:f.headers});case 46:return e.abrupt("return",{type:CV.data,data:_,statusCode:f.status,headers:f.headers});case 47:if(l!==CV.error){e.next=49;break}return e.abrupt("return",{type:l,error:f});case 49:if(!(f instanceof uz)){e.next=51;break}return e.abrupt("return",{type:CV.deferred,deferredData:f,statusCode:null==(T=f.init)?void 0:T.status,headers:(null==(C=f.init)?void 0:C.headers)&&new Headers(f.init.headers)});case 51:return e.abrupt("return",{type:CV.data,data:f});case 52:case"end":return e.stop()}}),e,null,[[6,15,19,22]])}))),Rz.apply(this,arguments)}function Az(e,t,n,r){var i=e.createURL(Uz(t)).toString(),a={signal:n};if(r&&Hz(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===u?Nz(s):s}return new Request(i,a)}function Nz(e){var t,n=new URLSearchParams,r=lr(e.entries());try{for(r.s();!(t=r.n()).done;){var i=h(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function Dz(e,t,n,r,i){var a,o={},u=null,s=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(AV(!qz(n),"Cannot handle redirect results in processLoaderData"),Bz(n)){var d=Mz(e,f),h=n.error;r&&(h=Object.values(r)[0],r=void 0),null==(u=u||{})[d.route.id]&&(u[d.route.id]=h),o[f]=void 0,s||(s=!0,a=cz(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else zz(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function Oz(e,t,n,r,i,a,o,u){for(var s=Dz(t,n,r,i,u),c=s.loaderData,l=s.errors,f=0;f<a.length;f++){var d=a[f],h=d.key,p=d.match;AV(void 0!==o&&void 0!==o[f],"Did not find corresponding fetcher result");var v=o[f];if(Bz(v)){var m=Mz(e.matches,null==p?void 0:p.route.id);l&&l[m.route.id]||(l=TV({},l,He({},m.route.id,v.error))),e.fetchers.delete(h)}else if(qz(v))AV(!1,"Unhandled fetcher revalidation redirect");else if(zz(v))AV(!1,"Unhandled fetcher deferred data");else{var y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,y)}}return{loaderData:c,errors:l}}function Pz(e,t,n,r){var i,a=TV({},t),o=lr(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return a}function Mz(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):vr(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function Lz(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fz(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new sz(e||500,u,new Error(s),!0)}function jz(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(qz(n))return n}}function Uz(e){return OV(TV({},"string"===typeof e?PV(e):e,{hash:""}))}function Vz(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function zz(e){return e.type===CV.deferred}function Bz(e){return e.type===CV.error}function qz(e){return(e&&e.type)===CV.redirect}function Wz(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Kz(e){return hz.has(e)}function Hz(e){return fz.has(e)}function Gz(e,t,n,r,i,a){return Qz.apply(this,arguments)}function Qz(){return(Qz=s(o().mark((function e(t,n,r,i,a,u){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=o().mark((function e(s){var c,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(f=t.find((function(e){return e.route.id===l.route.id})),d=null!=f&&!Iz(f,l)&&void 0!==(u&&u[l.route.id]),!zz(c)||!a&&!d){e.next=9;break}return e.next=9,$z(c,i,a).then((function(e){e&&(r[s]=e||r[s])}));case 9:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=10;break}return e.delegateYield(s(c),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:c++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $z(e,t,n){return Xz.apply(this,arguments)}function Xz(){return Xz=s(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:CV.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:CV.error,error:e.t0});case 14:return e.abrupt("return",{type:CV.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),Xz.apply(this,arguments)}function Yz(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Jz(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Zz(e,t){var n="string"===typeof t?PV(t).search:t.search;if(e[e.length-1].route.index&&Yz(n||""))return e[e.length-1];var r=ez(e);return r[r.length-1]}function eB(){return eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eB.apply(this,arguments)}var tB="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},nB=t.useState,rB=t.useEffect,iB=t.useLayoutEffect,aB=t.useDebugValue;function oB(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!tB(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var uB=r.useSyncExternalStore,sB=t.createContext(null);var cB=t.createContext(null);var lB=t.createContext(null);var fB=t.createContext(null);var dB=t.createContext(null);var hB=t.createContext({outlet:null,matches:[]});var pB=t.createContext(null);function vB(){return null!=t.useContext(dB)}function mB(){return vB()||AV(!1),t.useContext(dB).location}function yB(){vB()||AV(!1);var e=t.useContext(fB),n=e.basename,r=e.navigator,i=t.useContext(hB).matches,a=mB().pathname,o=JSON.stringify(ez(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=tz(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:nz([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function gB(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(hB).matches,a=mB().pathname,o=JSON.stringify(ez(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return tz(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function bB(){var e=function(){var e,n=t.useContext(pB),r=_B(wB.UseRouteError),i=IB(wB.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=cz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var kB,wB,xB=function(e){fr(r,e);var n=hr(r);function r(e){var t;return mr(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return gr(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(hB.Provider,{value:this.props.routeContext},t.createElement(pB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function SB(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(sB);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(hB.Provider,{value:n},i)}function EB(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||AV(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(bB,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement(SB,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(xB,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function _B(e){var n=t.useContext(cB);return n||AV(!1),n}function IB(e){var n=function(e){var n=t.useContext(hB);return n||AV(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||AV(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(kB||(kB={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(wB||(wB={}));var TB;function CB(e){var n=e.fallbackElement,r=e.router,i=uB(r.subscribe,(function(){return r.state}),(function(){return r.state})),a=t.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),o=r.basename||"/";return t.createElement(t.Fragment,null,t.createElement(sB.Provider,{value:{router:r,navigator:a,static:!1,basename:o}},t.createElement(cB.Provider,{value:i},t.createElement(AB,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?t.createElement(NB,null):n))),null)}function RB(e){AV(!1)}function AB(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?EV.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;vB()&&AV(!1);var d=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=PV(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,_=t.useMemo((function(){var e=YV(m,d);return null==e?null:{pathname:e,search:g,hash:k,state:x,key:E}}),[d,m,g,k,x,E]);return null==_?null:t.createElement(fB.Provider,{value:h},t.createElement(dB.Provider,{children:a,value:{location:_,navigationType:s}}))}function NB(e){var n=e.children,r=e.location,i=t.useContext(sB);return function(e,n){vB()||AV(!1);var r,i=t.useContext(fB).navigator,a=t.useContext(cB),o=t.useContext(hB).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,mB());if(n){var f,d="string"===typeof n?PV(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||AV(!1),r=d}else r=l;var h=r.pathname||"/",p=FV(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=EB(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:nz([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:nz([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(dB.Provider,{value:{location:eB({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:EV.Pop}},v):v}(i&&!n?i.router.routes:OB(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(TB||(TB={}));var DB=new Promise((function(){}));t.Component;function OB(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==RB&&AV(!1),e.props.index&&e.props.children&&AV(!1);var a=[].concat(vr(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=OB(e.props.children,a)),r.push(o)}else r.push.apply(r,OB(e.props.children,n))})),r}function PB(e){return e.map((function(e){var t=eB({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=PB(t.children)),t}))}function MB(e){var n=e.SignInConfirm,r=h(pC(UN),1)[0],i=yB();(0,t.useEffect)((function(){n||r&&i("/")}));var a=h((0,t.useState)(""),2),u=a[0],c=a[1],l=h((0,t.useState)(""),2),f=l[0],d=l[1],p=h((0,t.useState)(!1),2),v=p[0],m=p[1];(0,t.useEffect)((function(){u.length>20||u.length<4||f.length>20||f.length<6?m(!0):m(!1)}),[u,f]);var y=function(){var e=s(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=UN.currentUser,r=_k(),i=yk(r,"usersDB"),a=mw(i,gw("userID","==",f)),e.next=7,Kw(a);case 7:if(e.sent.empty){e.next=12;break}alert("ID de Usu\xe1rio j\xe1 em uso!"),e.next=14;break;case 12:return e.next=14,Gw(gk(r,"usersDB",n.uid),{username:u,userID:f,email:n.email,photoURL:n.photoURL}).then((function(){document.location.reload()}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Yn.jsx)("div",{className:"SigInConfirm flex h-[100vh] w-[100vw] place-items-center",children:(0,Yn.jsxs)("div",{className:"text-white rounded-3xl overflow-hidden drop-shadow-2xl shadow-inner m-auto md:h-[600px] md:w-[600px] h-[85%] w-[95%]",children:[(0,Yn.jsx)("header",{className:"color1 p-3",children:(0,Yn.jsx)("span",{className:"flex md:text-3xl text-2xl font-medium justify-center",children:"Finalizando Cadastro"})}),(0,Yn.jsx)("div",{className:"flex flex-col color4 md:p-20 p-5 py-12 rounded-b-3xl",children:(0,Yn.jsxs)("form",{className:"flex flex-col",onSubmit:y,children:[(0,Yn.jsxs)("div",{className:"flex flex-col gap-2 mb-7",children:[(0,Yn.jsx)("span",{className:"md:text-2xl text-xl",children:"Nome de Usu\xe1rio"}),(0,Yn.jsx)("span",{className:"text-xs opacity-80",children:"(Nome que aparecer\xe1 para outros usu\xe1rios)"}),(0,Yn.jsx)("input",{className:"outline-none rounded-xl p-3 text-black",value:u,placeholder:"Nickname",id:"username",onChange:function(e){return c(e.target.value)}}),(0,Yn.jsx)("p",{className:"font-bold md:mb-0 mb-5 text-xs ".concat(u.length>20?"text-red-700":"text-white"),children:"".concat(u.length,"/20")})]}),(0,Yn.jsxs)("div",{className:"flex flex-col gap-2 md:mb-7 mb-4",children:[(0,Yn.jsx)("span",{className:"md:text-2xl text-xl",children:"Seu ID de Usu\xe1rio"}),(0,Yn.jsx)("span",{className:"text-xs opacity-80",children:"(ID que utilizar\xe3o para adicionar-te aos contatos)"}),(0,Yn.jsx)("input",{className:"outline-none rounded-xl p-3 text-black",value:f,placeholder:"UserID",id:"userID",onChange:function(e){return d(e.target.value)}}),(0,Yn.jsx)("p",{className:"font-bold md:mb-0 mb-5 text-xs ".concat(f.length>20?"text-red-700":"text-white"),children:"".concat(f.length,"/20")})]}),(0,Yn.jsx)("button",{disabled:v,className:"rounded-xl md:p-4 p-3 color2 md:text-xl text-lg font-medium transition ".concat(v?"saturate-0":"saturate-100 hover:brightness-125"),type:"submit",children:"Enviar"})]})})]})})}var LB=Fn({palette:{mode:"light",primary:{main:"#005d77"},secondary:{main:"#f50057"},background:{default:"#000000",paper:"rgba(51,56,78,0.85)"},text:{primary:"rgba(255,246,246,0.87)",secondary:"rgba(255,255,255,0.8)",disabled:"rgba(175,175,175,0.38)",hint:"#d2d2d2"}},shape:{borderRadius:20},typography:{fontFamily:["Martian Mono","monospace"].join(",")}});var FB=function(){var e=h(pC(UN),2),n=e[0],r=e[1],i=h((0,t.useState)(),2),a=i[0],u=i[1],c=h((0,t.useState)(""),2),l=c[0],f=c[1];return(0,t.useEffect)((function(){function e(){return(e=s(o().mark((function e(){var t,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return t=gk(jN,"usersDB",n.uid),e.next=4,Bw(t);case 4:r=e.sent,(i=r.data())?(u(i),f("chat")):f("confirm");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),r?(0,Yn.jsx)("div",{className:"h-full w-full justify-center absolute",children:(0,Yn.jsx)(qN,{})}):n?(0,Yn.jsxs)(Ue,{theme:LB,children:[(0,Yn.jsx)(rr,{}),""===l?(0,Yn.jsx)("div",{className:"h-full w-full justify-center absolute",children:(0,Yn.jsx)(qN,{})}):"chat"===l?(0,Yn.jsx)(xV,{userData:a}):"confirm"===l?(0,Yn.jsx)(MB,{SignInConfirm:!0}):void 0]}):(0,Yn.jsx)(IV,{})};function jB(){return jB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jB.apply(this,arguments)}function UB(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var VB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function zB(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=jB({},t,{errors:BB(t.errors)})),t}function BB(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=h(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new sz(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){var u=new Error(o.message);u.stack="",t[a]=u}else t[a]=o}return t}var qB="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,WB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KB=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=UB(e,VB),h=t.useContext(fB).basename,p=!1;if("string"===typeof l&&WB.test(l)&&(r=l,qB)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=YV(m.pathname,h);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;vB()||AV(!1);var i=t.useContext(fB),a=i.basename,o=i.navigator,u=gB(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:nz([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=yB(),l=mB(),f=gB(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:OV(l)===OV(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",jB({},d,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var HB,GB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(HB||(HB={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(GB||(GB={}));var QB=n.p+"static/media/error.7ba641bf3673dd4ff3b0.png";function $B(){return(0,Yn.jsx)("div",{className:"ErrorPage grid h-screen place-items-center",children:(0,Yn.jsx)("div",{className:"text-white rounded-3xl overflow-hidden drop-shadow-2xl shadow-inner md:h-auto md:w-[600px] h-auto w-[95%]",children:(0,Yn.jsxs)("div",{className:"flex flex-col items-center bg-[#33384e] bg-opacity-50 md:px-5 px-5 pb-14 rounded-b-3xl",children:[(0,Yn.jsx)("img",{src:QB,alt:"error",className:"h-[300px] w-[300px] brightness-110 translate-y-5 saturate-150 opacity-70"}),(0,Yn.jsxs)("div",{className:"flex flex-col place-items-center justify-center -translate-y-7",children:[(0,Yn.jsx)("label",{className:"md:text-7xl text-3xl mb-2 tracking-widest",children:"404"}),(0,Yn.jsx)("label",{className:"md:text-3xl sm:text-xl text-base",children:"P\xe1gina n\xe3o encontrada"}),(0,Yn.jsxs)("div",{className:"flex md:text-1xl mt-4 sm:text-xl text-base gap-3 items-center",children:[(0,Yn.jsx)("label",{className:"",children:"Volte para p\xe1gina de "})," ",(0,Yn.jsx)(KB,{to:"/",className:"text-[#cc264acf] font-extrabold transition hover:brightness-150",children:" login"})]})]})]})})})}var XB=function(e,t){return xz({basename:null==t?void 0:t.basename,history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),MV((function(e,t){var n=e.location;return DV("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:OV(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||zB(),routes:PB(e)}).initialize();var n}([{path:"/",element:(0,Yn.jsx)(FB,{}),errorElement:(0,Yn.jsx)($B,{}),children:[{path:"/",element:(0,Yn.jsx)(xV,{})},{path:"confirm",element:(0,Yn.jsx)(MB,{})}]}]);i.createRoot(document.getElementById("root")).render((0,Yn.jsx)(CB,{router:XB}))}()}();
//# sourceMappingURL=main.d5b64b90.js.map